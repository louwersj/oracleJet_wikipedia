/**
 * Copyright (c) 2014, 2017, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","knockout","signals","promise"],function(a,g,c){(function(){function b(a){var b={};if(a=a.split("?")[1])a=a.split("\x26"),a.forEach(function(a){var c=a.split(/\=(.+)?/);a=c[0];a.length&&(c=c[1]&&decodeURIComponent(c[1]),b[a]=c)});return b}function d(b,c){var d=document.createElement("a");d.href=X.href;void 0!==b.search&&(d.search=b.search);void 0!==b.pathname&&(d.pathname=b.pathname);var e=d.search,f="",g;g=e.indexOf("oj_Router");if(-1!==g){var h=e.indexOf("\x26",g);-1===h&&(h=
e.length);g=e.substring(0,g);e=e.substr(h)}else g=e+(-1===e.indexOf("?")?"?":"\x26"),e="";if(c&&0<Object.getOwnPropertyNames(c).length){var h=JSON.stringify(c),f=encodeURIComponent(h),h=a.dca.e0a(h),k=!1,r="oj_Router\x3d";h.length<=f.length&&(k=!0);r=k?r+("1"+h):r+("0"+f);if(1024<r.length)throw Error("Size of bookmarkable data is too big.");f=r}else g=g.substring(0,g.length-1);d.search=g+f+e;return d.href.replace(/\?$/,"")}function e(b,c){var d;c&&b.rx&&(a.C.Hu(c),b.rx.every(function(a){return a.wo===
c?(d=a,!1):!0}));return d}function f(a){return a.pu?f(a.pu)+"."+a.Lg:a.Lg}function h(a){var b;if(a){if(b=h(a.pu))b=(a=a.xi())?b+(a+"/"):void 0}else b="/";return b}function k(a,b){var c;a.Lj.every(function(a){return a.qu&&a.qu!==b?!0:(c=a,!1)});return c}function l(b){b=b.filter(function(a){return a.value!==a.Ad.xi()});a.D.option("level")===a.D.Vy&&(a.D.info("Potential changes are: "),b.forEach(function(b){a.D.info("   { router: %s, value: %s }",f(b.Ad),b.value)}));return b}function m(a){var b=this[a.Ad.Lg];
void 0!==b&&(a.Ad.io=b)}function p(){return T[0]&&T[0].cancel}function t(b){var c=b.charAt(0);b=b.slice(1);if("0"===c)b=decodeURIComponent(b);else if("1"===c)b=a.dca.J0a(b);else throw Error("Error retrieving bookmarkable data. Format is invalid");b=JSON.parse(b);if(a.D.option("level")===a.D.Vy){var d;a.D.info("Bookmarkable data: ");for(d in b)a.D.info("   { router: %s, value: %s }",d,b[d])}return b}function s(a,b,c){var d;a.Lj.every(function(a){return a.qu&&a.qu!==c||!a.Iq(b)?!0:(d=a,!1)});return d}
function n(a){var b=[];a.$I()&&(b.push({Ad:a,m9a:a.xi()}),a.Lj.forEach(function(a){b=b.concat(n(a))}));return b}function q(a){if(!a)return{title:"",HG:""};var b=q(k(a,a.xi()));if(""===b.title&&(a=a.$I())){var c=a.$A;void 0!==c?("function"===typeof c&&(c=c()),b.title=String(c)):(c=a.Y4,void 0!==c&&(c=String(c),""!==b.HG&&(c+=" | "+b.HG),b.HG=c))}return b}function r(a){var b=a[a.length-1],c;b?(c=b.Ad,b=b.value):(c=Z,(b=Z.fo)&&a.push({value:b,Ad:c}));for(;c=k(c,b);)(b=c.fo)&&a.push({value:b,Ad:c});var d=
[];n(Z).forEach(function(b,c){var e=a[c];e&&b.Ad===e.Ad||d.unshift(b)});return a=d.concat(a)}function u(a,b){var c=[],d=[],e=a,f=b.split("/"),g,h,k;for(f.splice(0,1);e;)d.unshift(e),e=e.pu;for(;g=f.shift();){e=d.shift();if(!e){if(e=s(h,g,k),!e){L=b;break}}else if(!e.Iq(g))throw Error('Invalid path "'+b+'". State id "'+g+'" does not exist on router "'+e.Lg+'".');c.push({Ad:e,value:g});h=e;k=g}return c}function w(b,c,d){(b=b())||a.D.info("%s is false for state: %s",c,d);return b}function v(a,b,c,d){"function"===
typeof a&&(b=b?b.then(function(b){b&&(b=w(a,c,d));return b}):new Promise(function(b){b(w(a,c,d))}));return b}function x(a,b){var c=a.$I(),d;if(c){for(d=0;d<a.Lj.length;d++)b=x(a.Lj[d],b);d=c.Dy&&c.Dy.canExit?c.Dy.canExit:c.HI;b=v(d,b,"canExit",c.wo)}return b}function y(b){if(p())return Promise.resolve(!1);a.D.info("Start _canExit.");b?(b=x(b,null),b=null===b?Promise.resolve(!0):b.then(function(a){return a&&!p()})):b=Promise.resolve(!0);return b}function z(b,c){if(p())return Promise.resolve();a.D.info("Start _canEnter.");
var d=null;b.forEach(function(a){(a=a.Ad.Iq(a.value))&&(d=v(a.GI,d,"canEnter",a.wo))});return d=null===d?Promise.resolve({q8:b,origin:c}):d.then(function(a){var d;a&&!p()&&(d={q8:b,origin:c});return d})}function A(b,c){var d=b.Ad.Iq(b.Ad.xi()),e=b.value?b.Ad.Iq(b.value):void 0;return Promise.resolve().then(function(){a.D.option("level")===a.D.Vy&&a.D.info("Updating state of %s to %s.",f(b.Ad),b.value)}).then(d?d.mJ:void 0).then(function(){var a=b.Ad,d,e,f;if("popState"===c){e=a.AE.length;for(d=e-
1;0<=d;d--)if(a.AE[d]===b.value){f=!0;a.AE.splice(d,e-d);break}1===e-d&&(a.MK="back")}f||(delete a.MK,a.AE.push(a.xi()));a.xi(b.value)}).then(e?e.jJ:void 0)}function B(b){if(!b)return Promise.resolve(N);var c=Promise.resolve().then(function(){a.D.info("Entering _updateAll.");a.fc.NU=!0});b.q8.forEach(function(a){c=c.then(function(){if(!p())return A(a,b.origin)})});return c.then(function(){var c=0<b.q8.length&&!p();a.fc.NU=!1;a.D.info("_updateAll returns %s.",String(c));return{hasChanged:c}},function(b){a.fc.NU=
!1;return Promise.reject(b)})}function H(a){var b;try{b=I.parse(),b=l(b)}catch(c){return Promise.reject(c)}return z(b,a).then(B)}function C(b,c){a.D.option("level")===a.D.Vy&&a.D.info("\x3e\x3e %s: origin\x3d%s router\x3d%s %s %s",b,c.origin,c.Ad?f(c.Ad):"null",c.path?"path\x3d"+c.path:"",c.O8?"deferredHandling\x3dtrue":"")}function J(a){C("Executing",a);if(!a.O8){if("sync"===a.origin)return H();if("popState"===a.origin)return y(a.Ad).then(function(b){return b?H(a.origin):Promise.resolve(N)})}return a.Ad.OOa(a)}
function D(){var b=T[0];C("Resolving",b);b.cancel?(C("Cancelled",b),b=Promise.resolve(N)):b=J(b);return b.then(function(b){var c=T.shift();C("Done with",c);if(!0===b.hasChanged){var c=q(Z),d;""!==c.title?d=c.title:O&&0<O.length?(d=O,""!==c.HG&&(d+=" | "+c.HG)):d=c.HG;d!==window.document.title&&(window.document.title=d)}a.fc.nF.dispatch(b);return b},function(b){T=[];a.D.error("Error when executing transition: %o",b||"Unknown");a.fc.nF.dispatch(N);return Promise.reject(b)})}function E(a){C("Queuing  ",
a);a=T.push(a);1===a?V=D():(a=T[a-2],a.O8||(C("Cancelling",a),a.cancel=!0),V=V.then(D));return V}function F(){var b,c,d=Z.xi(),e=null;a.D.info("Handling popState event with URL: %s",X.href);if(d)for(b=0;b<Z.Lj.length;b++)if(c=Z.Lj[b],d===c.qu){e=c;break}E({Ad:e,origin:"popState"})}function G(){S||(I||(I=new a.fc.Xaa),I.mk(Q),O=window.document.title,window.addEventListener("popstate",F,!1),a.D.info("Initializing rootInstance."),a.D.info("Base URL is %s",Q),a.D.info("Current URL is %s",X.href),S=!0)}
var Q="/",O,I,N={hasChanged:!1},S=!1,L,T=[],V,X=window.location,Z;a.fc=function(a,b,c){var d=this;this.Lg=a;this.qu=c||(b?b.xi():void 0);this.pu=b;this.Lj=[];this.io=void 0;this.xi=g.observable();this.LYa=g.pureComputed({read:function(){return this.xi()},write:function(a){this.go(a).then(null,function(a){throw a;})},owner:d});this.rx=null;this.fo=void 0;this.$I=g.pureComputed(function(){return g.ignoreDependencies(d.Iq,d,[d.xi()])});this.BKa=g.pureComputed(function(){var a,b=g.ignoreDependencies(d.Iq,
d,[d.xi()]);b&&(a=b.value);return a});this.MK=void 0;this.AE=[];this.GTa=Object.create(null,{name:{value:g.pureComputed(function(){var a,b;b=this.xi()||this.fo||this.rx[0];if(b=this.Iq(b))a=b.value,a&&"string"===typeof a||(a=b.wo);return a},d),enumerable:!0},params:{value:Object.create(null,{ojRouter:{value:new function(){Object.defineProperties(this,{parentRouter:{value:d,enumerable:!0},direction:{get:function(){return d.MK},enumerable:!0}})},enumerable:!0}}),enumerable:!0},lifecycleListener:{value:Object.create(null,
{attached:{value:function(a){var b=g.unwrap(a.valueAccessor()).params.ojRouter.parentRouter.$I();b&&(b.Dy=a.viewModel)},writable:!0,enumerable:!0}}),enumerable:!0}});Object.defineProperties(this,{parent:{value:this.pu,enumerable:!0}})};o_("Router",a.fc,a);Object.defineProperties(a.fc.prototype,{name:{get:function(){return this.Lg},enumerable:!0},states:{get:function(){return this.rx},enumerable:!0},stateId:{get:function(){return this.LYa},enumerable:!0},currentState:{get:function(){return this.$I},
enumerable:!0},currentValue:{get:function(){return this.BKa},enumerable:!0},defaultStateId:{get:function(){return this.fo},set:function(a){this.fo=a},enumerable:!0},moduleConfig:{get:function(){return this.GTa},enumerable:!0}});Z=new a.fc("root",void 0,void 0);a.fc.prototype.uva=function(a){var b;a&&"string"===typeof a&&(a=a.trim(),0<a.length&&this.Lj.every(function(c){return c.Lg===a?(b=c,!1):!0}));return b};a.f.j("Router.prototype.getChildRouter",{uva:a.fc.prototype.uva});a.fc.prototype.Eua=function(b,
c){var d,e;a.C.Hu(b);c=c||this.xi();b=encodeURIComponent(b.trim());for(d=0;d<this.Lj.length;d++){e=this.Lj[d];if(e.Lg===b)throw Error('Invalid router name "'+b+'", it already exists.');if(e.qu===c)throw Error('Cannot create more than one child router for parent state id "'+e.qu+'".');}d=new a.fc(b,this,c);this.Lj.push(d);return d};a.f.j("Router.prototype.createChildRouter",{Eua:a.fc.prototype.Eua});a.fc.prototype.Iq=function(a){return e(this,a)};a.fc.prototype.vua=function(b){this.xi(void 0);delete this.fo;
this.MK=void 0;this.AE=[];"function"===typeof b?(this.rx=null,this.Iq=b):(this.rx=[],delete this.Iq,Object.keys(b).forEach(function(c){var d=b[c];this.rx.push(new a.GC(c,d,this));"boolean"===typeof d.isDefault&&d.isDefault&&(this.fo=c)},this));return this};a.f.j("Router.prototype.configure",{vua:a.fc.prototype.vua});a.fc.prototype.qwa=function(a){return this.Iq(a)};a.f.j("Router.prototype.getState",{qwa:a.fc.prototype.qwa});a.fc.prototype.go=function(a,b){G();b=b||[];return E({Ad:this,path:a,origin:"go",
cxa:b.historyUpdate})};a.f.j("Router.prototype.go",{go:a.fc.prototype.go});a.fc.prototype.OOa=function(b){var c,d=!0,e=b.path,g=!1,k=!1;switch(b.cxa){case "skip":k=!0;break;case "replace":g=!0}if(e)if("string"===typeof e)d=!1;else return Promise.reject(Error("Invalid object type for state id."));if(d&&(e=this.fo,!e))return a.D.option("level")===a.D.Vy&&a.D.info("Undefined state id with no default id on router %s",f(this)),Promise.resolve(N);if("/"===e.charAt(0))b=e;else{b=h(this.pu);if(!b)return Promise.reject(Error('Invalid path "'+
e+'". The parent router does not have a current state.'));b+=e}a.D.info("Destination path: %s",b);try{c=u(this,b),c=r(c)}catch(m){return Promise.reject(m)}var q=l(c);return g||0<q.length?(a.D.info("Deferred mode or new state is different."),y(this).then(function(b){return b?z(q).then(B).then(function(b){if(b.hasChanged)if(k)a.D.info("Skip history update.");else{var d=I.hua(c);a.D.info("%s URL to %s",g?"Replacing":"Pushing",d);window.history[g?"replaceState":"pushState"](null,"",d)}return b}):Promise.resolve(N)})):
Promise.resolve(N)};a.fc.prototype.Wza=function(a){this.io=a;a={};for(var b=this;b;)void 0!==b.io&&(a[b.Lg]=b.io),b=b.pu;for(var b=this,c,e,f;b;){for(e=0;e<b.Lj.length;e++)if(f=b.Lj[e],b.xi()&&b.xi()===f.qu){void 0!==f.io&&(a[f.Lg]=f.io);c=f;break}b=c;c=void 0}window.history.replaceState(null,"",d({},a))};a.f.j("Router.prototype.store",{Wza:a.fc.prototype.Wza});a.fc.prototype.sza=function(){return this.io};a.f.j("Router.prototype.retrieve",{sza:a.fc.prototype.sza});a.fc.prototype.Ou=function(){for(var b,
c;0<this.Lj.length;)this.Lj[0].Ou();if(this.pu){b=this.pu.Lj;for(c=0;c<b.length;c++)if(b[c].Lg===this.Lg){b.splice(c,1);break}delete this.qu}else Q="/",I=null,this.Lg="root",window.document.title=O,window.removeEventListener("popstate",F),a.fc.nF.removeAll(),S=!1;delete this.MK;this.AE=[];this.rx=null;delete this.fo;delete this.io};a.f.j("Router.prototype.dispose",{Ou:a.fc.prototype.Ou});a.fc.nF=new c.Signal;a.fc.NU=!1;Object.defineProperties(a.fc,{rootInstance:{value:Z,enumerable:!0},transitionedToState:{value:a.fc.nF,
enumerable:!0}});a.fc.Md={};o_("Router.defaults",a.fc.Md,a);Object.defineProperties(a.fc.Md,{urlAdapter:{get:function(){I||(I=new a.fc.Xaa);return I},set:function(a){if(S)throw Error("Incorrect operation. Cannot change URL adapter after calling sync() or go().");I=a},enumerable:!0,hX:!1},baseUrl:{get:function(){return Q},set:function(a){if(S)throw Error("Incorrect operation. Cannot change base URL after calling sync() or go().");Q=a?a.match(/[^?#]+/)[0]:"/"},enumerable:!0,hX:!1},rootInstanceName:{get:function(){return Z.Lg},
set:function(b){if(S)throw Error("Incorrect operation. Cannot change the name of the root instance after calling sync() or go().");a.C.Hu(b);Z.Lg=encodeURIComponent(b.trim())},enumerable:!0,hX:!1}});a.fc.uv=function(){var b={Ad:Z,origin:"sync"};G();a.D.info("Entering sync with URL: %s",X.href);return L?(b.path=L,b.O8=!0,b.cxa="replace",L=void 0,E(b)):a.fc.NU?(a.D.info("Sync called while updating, waiting for updates to end."),new Promise(function(b){a.fc.nF.addOnce(function(c){a.D.info("Sync updates done.");
b(c)})})):E(b)};o_("Router.sync",a.fc.uv,a);a.fc.Xaa=function(){var b="";this.mk=function(a){var c=document.createElement("a");c.href=a;a=c.pathname;a=a.replace(/^([^\/])/,"/$1");"/"!==a.slice(-1)&&(a+="/");b=a};this.parse=function(){var c=Z,d=X.pathname.replace(b,""),e=d.split("/"),f=[],g;for(a.D.info("Parsing: %s",d);c&&(g=e.shift());)f.push({value:g,Ad:c}),c=k(c,g);f=r(f);(c=X.search.split("oj_Router\x3d")[1])&&(c=c.split("\x26")[0])&&f.forEach(m,t(c));return f};this.hua=function(a){for(var c,
e=!1,f="",g={};c=a.pop();)c.value&&(e||c.value!==c.Ad.fo)&&(f=""===f?c.value:c.value+"/"+f,e=!0),void 0!==c.Ad.io&&(g[c.Ad.Lg]=c.Ad.io);return d({pathname:b+f},g)}};o_("Router.urlPathAdapter",a.fc.Xaa,a);a.fc.x6a=function(){this.mk=function(){};this.parse=function(){var c=X.search,d=b(c),e=Z,f=[];for(a.D.info("Parsing: %s",c);e;)(c=d[e.Lg]||e.fo)&&f.push({value:c,Ad:e}),e=k(e,c);f=r(f);(d=d.oj_Router)&&f.forEach(m,t(d));return f};this.hua=function(a){for(var b,c=!1,e="",f={};b=a.pop();)b.value&&(c||
b.value!==b.Ad.fo)&&(e="\x26"+b.Ad.Lg+"\x3d"+b.value+e,c=!0),void 0!==b.Ad.io&&(f[b.Ad.Lg]=b.Ad.io);e&&(e="?"+e.substr(1));return d({search:e},f)}};o_("Router.urlParamAdapter",a.fc.x6a,a);return Z})();(function(){a.GC=function(b,c,e){c=c||{};a.C.Hu(b);this.wo=encodeURIComponent(b.trim());(this.GI=c.canEnter)&&a.C.wF(this.GI);(this.jJ=c.enter)&&a.C.wF(this.jJ);(this.HI=c.canExit)&&a.C.wF(this.HI);(this.mJ=c.exit)&&a.C.wF(this.mJ);this.Vf=c.value;this.Y4=c.label;this.$A=c.title;this.WT=e;this.Dy=void 0;
Object.defineProperties(this,{id:{value:this.wo,enumerable:!0},value:{get:function(){return this.Vf},set:function(a){this.Vf=a},enumerable:!0},label:{get:function(){return this.Y4},set:function(a){this.Y4=a},enumerable:!0},title:{get:function(){return this.$A},set:function(a){this.$A=a},enumerable:!0},canEnter:{get:function(){return this.GI},set:function(a){this.GI=a},enumerable:!0},enter:{get:function(){return this.jJ},set:function(a){this.jJ=a},enumerable:!0},canExit:{get:function(){return this.HI},
set:function(a){this.HI=a},enumerable:!0},exit:{get:function(){return this.mJ},set:function(a){this.mJ=a},enumerable:!0}})};o_("RouterState",a.GC,a);a.GC.prototype.go=function(){return this.WT?this.WT.go(this.wo):(a.fc.nF.dispatch({hasChanged:!1}),Promise.reject(Error("Router is not defined for this RouterState object.")))};a.f.j("RouterState.prototype.go",{go:a.GC.prototype.go});a.GC.prototype.oxa=function(){if(!this.WT)throw Error("Router is not defined for this RouterState object.");return this.WT.xi()===
this.wo};a.f.j("RouterState.prototype.isCurrent",{oxa:a.GC.prototype.oxa})})();(function(){function b(a,b){if(null===a)return"";var c,d,e={},f={},g="",h=2,r=3,u=2,w="",v=0,x=0,y,z,A,B=a.length;for(A=0;A<B;A++)if(y=a[A],Object.prototype.hasOwnProperty.call(e,y)||(e[y]=r++,f[y]=!0),z=g+y,Object.prototype.hasOwnProperty.call(e,z))g=z;else{if(Object.prototype.hasOwnProperty.call(f,g)){if(256>g.charCodeAt(0)){for(c=u;c--;)v<<=1,5==x?(x=0,w+=b(v),v=0):x++;d=g.charCodeAt(0);c=8}else{d=1;for(c=u;c--;)v=v<<
1|d,5==x?(x=0,w+=b(v),v=0):x++,d=0;d=g.charCodeAt(0);c=16}for(;c--;)v=v<<1|d&1,5==x?(x=0,w+=b(v),v=0):x++,d>>=1;h--;0==h&&(h=Math.pow(2,u),u++);delete f[g]}else for(d=e[g],c=u;c--;)v=v<<1|d&1,5==x?(x=0,w+=b(v),v=0):x++,d>>=1;h--;0==h&&(h=Math.pow(2,u),u++);e[z]=r++;g=String(y)}if(""!==g){if(Object.prototype.hasOwnProperty.call(f,g)){if(256>g.charCodeAt(0)){for(c=u;c--;)v<<=1,5==x?(x=0,w+=b(v),v=0):x++;d=g.charCodeAt(0);c=8}else{d=1;for(c=u;c--;)v=v<<1|d,5==x?(x=0,w+=b(v),v=0):x++,d=0;d=g.charCodeAt(0);
c=16}for(;c--;)v=v<<1|d&1,5==x?(x=0,w+=b(v),v=0):x++,d>>=1;h--;0==h&&(h=Math.pow(2,u),u++);delete f[g]}else for(d=e[g],c=u;c--;)v=v<<1|d&1,5==x?(x=0,w+=b(v),v=0):x++,d>>=1;h--;0==h&&u++}d=2;for(c=u;c--;)v=v<<1|d&1,5==x?(x=0,w+=b(v),v=0):x++,d>>=1;for(;;)if(v<<=1,5==x){w+=b(v);break}else x++;return w}function c(a,b){for(var d=[],f=4,g=4,h=3,n="",q="",r,u,w,v,x,y={val:b(0),position:32,index:1},q=0;3>q;q+=1)d[q]=q;n=0;w=Math.pow(2,2);for(v=1;v!=w;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=
32,y.val=b(y.index++)),n|=(0<u?1:0)*v,v<<=1;switch(n){case 0:n=0;w=Math.pow(2,8);for(v=1;v!=w;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=32,y.val=b(y.index++)),n|=(0<u?1:0)*v,v<<=1;x=e(n);break;case 1:n=0;w=Math.pow(2,16);for(v=1;v!=w;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=32,y.val=b(y.index++)),n|=(0<u?1:0)*v,v<<=1;x=e(n);break;case 2:return""}for(r=q=d[3]=x;;){if(y.index>a)return"";n=0;w=Math.pow(2,h);for(v=1;v!=w;)u=y.val&y.position,y.position>>=1,0==y.position&&
(y.position=32,y.val=b(y.index++)),n|=(0<u?1:0)*v,v<<=1;switch(x=n){case 0:n=0;w=Math.pow(2,8);for(v=1;v!=w;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=32,y.val=b(y.index++)),n|=(0<u?1:0)*v,v<<=1;d[g++]=e(n);x=g-1;f--;break;case 1:n=0;w=Math.pow(2,16);for(v=1;v!=w;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=32,y.val=b(y.index++)),n|=(0<u?1:0)*v,v<<=1;d[g++]=e(n);x=g-1;f--;break;case 2:return q}0==f&&(f=Math.pow(2,h),h++);if(d[x])n=d[x];else if(x===g)n=r+r[0];else return null;
q+=n;d[g++]=r+n[0];f--;r=n;0==f&&(f=Math.pow(2,h),h++)}}a.dca={e0a:function(a){return null===a?"":b(a,function(a){return f.charAt(a)})},J0a:function(a){return null===a?"":""===a?null:c(a.length,function(b){var c=f;b=a.charAt(b);var d;g||(g={});if(!g[c])for(g[c]={},d=0;d<c.length;d++)g[c][c[d]]=d;return g[c][b]})}};var e=String.fromCharCode,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",g})()});