/**
 * Copyright (c) 2014, 2017, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","promise","ojs/ojdatasource-common"],function(a,g){a.ec=function(a,b){this.Init();this.Oa=a;this.jg=b;this.lC()};o_("Cube",a.ec,a);a.f.va(a.ec,a.f,"oj.Cube");a.ec.prototype.Init=function(){a.ec.N.Init.call(this)};a.ec.prototype.Uu=function(){var a=this.Ala(),b=[];Array.prototype.push.apply(b,a?a.Uu():this.Ij);for(a=2;a<this.Ij.length;a++)b.push(this.Ij[a]);return b};a.f.j("Cube.prototype.getAxes",{Uu:a.ec.prototype.Uu});a.ec.prototype.h3=function(){return this.Ij};a.ec.prototype.Zu=
function(a){var b=this.Ala();a=b.cUa(a);for(a=b=b.Ota(a,0,[]);Array.isArray(a)&&1===a.length;)if(a=a[0],!Array.isArray(a))return a;return b};a.f.j("Cube.prototype.getValues",{Zu:a.ec.prototype.Zu});a.ec.prototype.setPage=function(a){this.J5=a instanceof Array?a:[a]};a.ec.prototype.Oya=function(c,b,d,e,f){var g=this.jg,k=this.Ija(c);if(!k)return!1;c=null;d<g.length?c=this.Ija(d):(c={axis:d,levels:[]},g.push(c));d=k.levels;g=c.levels;c=b<d.length?d[b]:null;if(!c)return!1;e>=g.length?(g.push(c),d.splice(b,
1)):f===a.ec.KY.SWAP?(d[b]=g[e],g[e]=c):(f===a.ec.KY.AFTER&&e++,g.splice(e,0,c),g===d&&e<b&&b++,d.splice(b,1));this.lC();return!0};a.f.j("Cube.prototype.pivot",{Oya:a.ec.prototype.Oya});a.ec.prototype.Ija=function(a){for(var b=0;b<this.jg.length;b++)if(this.jg[b].axis===a)return this.jg[b];return null};a.ec.prototype.MV=function(){return this.jg};a.f.j("Cube.prototype.getLayout",{MV:a.ec.prototype.MV});a.ec.KY={BEFORE:"before",AFTER:"after",SWAP:"swap"};o_("Cube.PivotType",a.ec.KY,a);a.ec.prototype.Ota=
function(a,b,d){var e=[];if(0===a.length)return b=d.slice(0),this.cu(b);var f=a.slice(1),g=a[0].start;a=a[0].count;for(d[b]=g;d[b]<g+a;d[b]++)e.push(this.Ota(f,b+1,d));return e};a.ec.prototype.cUa=function(a){var b=[];if(!a)return b;for(var d=Math.min(a.length,this.Ij.length),e=0;e<d;e++){var f=a[e];f instanceof Object&&(f.hasOwnProperty("start")||f.hasOwnProperty("count"))?f.hasOwnProperty("start")?f.hasOwnProperty("count")?b.push(this.jR(f.start,f.count,e)):b.push(this.jR(f.start,1,e)):b.push(this.jR(0,
f.count,e)):b.push(this.jR(f,1,e))}return b};a.ec.prototype.jR=function(a,b,d){d=this.Uu()[d].getExtent();if(a>=d||0>a)a=0;b=Math.min(b,d-a);return{start:a,index:a,count:b}};a.ec.prototype.cu=function(c){var b=this.JJa(c);return b&&(b=b.Ry(),0<b.length&&(b=this.p[b[0].key]))?new a.Ck(b.value,c,b.XU,b.rows,b.By):new a.Ck(null,c,void 0,[])};a.ec.prototype.TAa=function(){var a=this.UNa();this.J5=[];for(var b=0;b<a.length;b++)this.Vt(a[b].axis,a[b].levels),this.J5.push({axis:a[b].axis,index:0});if(0===
a.length)for(a=this.h3(),b=0;b<a.length;b++)this.Vt(a[b].axis,a[b].levels)};a.ec.prototype.UNa=function(){for(var a=[],b=0;b<this.jg.length;b++)1<this.jg[b].axis&&a.push(this.jg[b]);return a};a.ec.prototype.h3=function(){for(var a=[],b=0;b<this.jg.length;b++)2>this.jg[b].axis&&a.push(this.jg[b]);return a};a.ec.prototype.lC=function(){this.Ij=[];this.p=[];this.p1=[];this.TAa();if(null!==this.Oa)for(var c=0;c<this.Oa.length;c++){for(var b=new a.ap,d=2;d<this.Ij.length;d++)b=this.Ij[d].uca(this.Oa[c],
b);for(var b=b.Ry(),e=0;e<b.length;e++){var d=b[e].key,f=this.p1[d];f||(f=this.p1[d]=this.hY(this.h3()));for(var g=new a.ap,k=f.Ij.length,d=0;d<k;d++)g=f.Ij[d].uca(this.Oa[c],g);g=d=g.Ry();if(void 0!==b[e].Nua)for(g=[],k=0;k<d.length;k++)g.push(b[e]);f.MYa(d,g,this.Oa[c])}}};a.ec.prototype.MYa=function(a,b,d){for(var e=0;e<a.length;e++)this.p[a[e].key]=this.rHa(b[e],this.p[a[e].key],d)};a.ec.prototype.Ala=function(){return this.p1[this.pNa(this.J5)]};a.ec.prototype.pNa=function(c){var b=new a.ap;
if(c&&0<c.length){c.sort(function(a,b){return a.axis-b.axis});for(var d=this.Ij,e=0;e<c.length;e++)b=d[c[e].axis].iO(c[e].index,b)}return b.Ry()[0].key};a.ec.voa=function(a){return a?void 0!==a.value&&null!==a.value:!1};a.ec.prototype.Xe=function(a,b,d,e,f){d.push(e);e={};for(var g in f)f.hasOwnProperty(g)&&(e[g]=f[g]);e.value=a;e.XU=b;e.rows=d;return e};a.ec.pi=function(c){return a.Wa.Hd(c.value)?!1:!isNaN(c.value)};a.ec.prototype.rHa=function(c,b,d){var e=this.kY(c.Nua),f=e.uF,g=a.ec.voa(b),k=a.ec.voa(c),
l=g&&a.ec.pi(b),m=k&&a.ec.pi(c);switch(f){case a.Bk.SUM:return g&&k?l&&m?this.Xe(b.value+c.value,f,b.rows,d,{}):this.Xe(NaN,f,b.rows,d,{}):k&&!g?m?this.Xe(c.value,f,[],d,{}):this.Xe(NaN,f,[],d,{}):b;case a.Bk.AVERAGE:return g&&k?l&&m?this.Xe((b.MG+c.value)/(b.rows.length+1),f,b.rows,d,{MG:b.MG+c.value}):this.Xe(NaN,f,b.rows,d,{MG:b.MG}):k&&!g?m?this.Xe(c.value,f,[],d,{MG:c.value}):this.Xe(NaN,f,[],d,{MG:NaN}):b;case a.Bk.VARIANCE:case a.Bk.STDDEV:return g&&k?l&&m?(g=b.value+(c.value-b.value)/(b.rows.length+
1),this.Xe(g,f,b.rows,d,{By:b.By+(c.value-b.value)*(c.value-g)})):this.Xe(NaN,f,b.rows,d,{By:NaN}):k&&!g?m?this.Xe(c.value,f,[],d,{By:0}):this.Xe(NaN,f,[],d,{By:NaN}):b;case a.Bk.NONE:return this.Xe(null,f,g?b.rows:[],d,{});case a.Bk.FIRST:return g?this.Xe(b.value,f,b.rows,d,{}):k?this.Xe(c.value,f,[],d,{}):b;case a.Bk.MIN:return g&&k?l&&m?this.Xe(Math.min(b.value,c.value),f,b.rows,d,{}):this.Xe(NaN,f,b.rows,d,{}):k&&!g?m?this.Xe(c.value,f,[],d,{}):this.Xe(NaN,f,[],d,{}):b;case a.Bk.MAX:return g&&
k?l&&m?this.Xe(Math.max(b.value,c.value),f,b.rows,d,{}):this.Xe(NaN,f,b.rows,d,{}):k&&!g?m?this.Xe(c.value,f,[],d,{}):this.Xe(NaN,f,[],d,{}):b;case a.Bk.COUNT:return g&&k?this.Xe(b.value+1,f,b.rows,d,{}):k&&!g?this.Xe(1,f,[],d,{}):b;case a.Bk.CUSTOM:return c=e.Hc.call(this,g?b.value:void 0,k?c.value:void 0),this.Xe(c,f,g?b.rows:[],d,{})}};a.ec.prototype.Vt=function(c,b){c>=this.Ij.length&&Array.prototype.push.apply(this.Ij,Array(c-this.Ij.length+1));this.Ij[c]||(this.Ij[c]=new a.vj(b,c,this));return this.Ij[c]};
a.ec.prototype.JJa=function(c){for(var b=this.Uu(),d=new a.ap,e=0;e<c.length;e++)d=b[e].iO(c[e],d);return d};a.ec.prototype.FC=function(){a.C.df()};a.ec.prototype.hY=function(){a.C.df()};a.ec.prototype.iY=function(){a.C.df()};a.ec.prototype.kY=function(){a.C.df();return{}};a.Bk={SUM:"sum",AVERAGE:"avg",STDDEV:"stddev",VARIANCE:"variance",NONE:"none",FIRST:"first",MIN:"min",MAX:"max",COUNT:"count",CUSTOM:"custom"};o_("CubeAggType",a.Bk,a);a.Wd=function(a,b,d,e){this.Init();this.Cg=[];this.lc=e;this.zKa=
d;this.p={};this.p.value=a;this.p.label=b};o_("CubeAxisValue",a.Wd,a);a.f.va(a.Wd,a.f,"oj.CubeAxisValue");a.Wd.prototype.Init=function(){a.Wd.N.Init.call(this)};a.Wd.prototype.xB=function(){return this.zKa};a.f.j("CubeAxisValue.prototype.getLevel",{xB:a.Wd.prototype.xB});a.Wd.prototype.getDepth=function(){return 1};a.f.j("CubeAxisValue.prototype.getDepth",{getDepth:a.Wd.prototype.getDepth});a.Wd.prototype.bwa=function(){for(var a=[],b=this.lc;b&&b.lc;)a.unshift(b),b=b.lc;return a};a.f.j("CubeAxisValue.prototype.getParents",
{bwa:a.Wd.prototype.bwa});a.Wd.prototype.getChildren=function(){return this.Cg};a.f.j("CubeAxisValue.prototype.getChildren",{getChildren:a.Wd.prototype.getChildren});a.Wd.prototype.getExtent=function(){if(-1<this.PD)return this.PD;if(this.Cg&&0!==this.Cg.length)for(var a=this.PD=0;a<this.getChildren().length;a++)this.PD+=this.getChildren()[a].getExtent();else this.PD=1;return this.PD};a.f.j("CubeAxisValue.prototype.getExtent",{getExtent:a.Wd.prototype.getExtent});a.Wd.prototype.getStart=function(){if(-1<
this.Zl)return this.Zl;if(!this.lc)return 0;for(var a=this.lc.getStart(),b=this.lc.Ela(this);b;)a+=b.getExtent(),b=this.lc.Ela(b);return this.Zl=a};a.f.j("CubeAxisValue.prototype.getStart",{getStart:a.Wd.prototype.getStart});a.Wd.prototype.qg=function(){return this.p.value};a.f.j("CubeAxisValue.prototype.getValue",{qg:a.Wd.prototype.qg});a.Wd.prototype.wB=function(){return this.p.label?this.p.label:this.qg()};a.f.j("CubeAxisValue.prototype.getLabel",{wB:a.Wd.prototype.wB});a.Wd.prototype.UAa=function(a){var b=
this.JMa();if(null===b)return null;if(b.fG())return this.XMa(a);if(a=a[b.attribute])for(b=0;b<this.Cg.length;b++)if(this.Cg[b].qg()===a)return this.Cg[b];return null};a.Wd.prototype.XMa=function(a){for(var b=0;b<this.Cg.length;b++){var d=this.Cg[b].qg();if(a.hasOwnProperty(d)&&a[d]===d)return this.Cg[b]}return null};a.Wd.prototype.JMa=function(){return this.Cg&&0<this.Cg.length?this.Cg[0].xB():null};a.Wd.prototype.VAa=function(a){return this.Y1(a,0,this.Cg.length-1)};a.Wd.prototype.Y1=function(a,
b,d){if(b>d)return null;var e=Math.floor((b+d)/2),f=this.Cg[e],g=f.getStart();return g>a?this.Y1(a,b,e-1):g+f.getExtent()-1<a?this.Y1(a,e+1,d):f};a.Wd.prototype.NX=function(c,b,d){for(var e=0;e<this.Cg.length;e++)if(this.Cg[e].qg()===c)return this.Cg[e];c=new a.Wd(c,b,d,this);this.Cg.push(c);return c};a.Wd.prototype.WAa=function(){var a={};a[this.xB().attribute]=this.qg();return a};a.Wd.prototype.Ela=function(a){for(var b=0;b<this.Cg.length;b++)if(this.Cg[b]===a){if(0<b)return this.Cg[b-1];break}return null};
a.vj=function(c,b,d){this.Init();this.axis=b;this.Doa=[];for(b=0;b<c.length;b++)this.Doa.push(d.iY(c[b],this));this.ZI=d;this.lg=new a.Wd(null,null,null,null)};o_("CubeAxis",a.vj,a);a.f.va(a.vj,a.f,"oj.CubeAxis");a.vj.prototype.Init=function(){a.vj.N.Init.call(this)};a.vj.prototype.ts=function(){return this.Doa};a.f.j("CubeAxis.prototype.getLevels",{ts:a.vj.prototype.ts});a.vj.prototype.getExtent=function(){return this.lg.getExtent()};a.f.j("CubeAxis.prototype.getExtent",{getExtent:a.vj.prototype.getExtent});
a.vj.prototype.Zu=function(a){for(var b=[],d=this.lg;d;)(d=d.VAa(a))&&b.push(d);return b};a.f.j("CubeAxis.prototype.getValues",{Zu:a.vj.prototype.Zu});a.vj.prototype.Bn=function(a){a=a?JSON.parse(a):{};for(var b=this.lg,d=null;b;)d=b,b=b.UAa(a);return d?d.getStart():-1};a.f.j("CubeAxis.prototype.getIndex",{Bn:a.vj.prototype.Bn});a.vj.prototype.iO=function(a,b){return this.Pba(a,this.ts().length-1,b)};a.vj.prototype.Pba=function(a,b,d){a=this.Zu(a);b=this.ts()[b];for(var e=0;e<a.length;e++){var f=
a[e];f.xB().fG()?d.MX(f.qg()):d.VY(f);if(f.xB()===b)break}return d};a.vj.prototype.uca=function(a,b){return this.ZI.FC(this,0,this.lg,a,b,!0)};a.Ck=function(a,b,d,e,f){this.Init();this.p={};this.p.value=a;this.p.o3a=b;this.p.XU=d;this.p.rows=e;this.p.By=f};o_("CubeDataValue",a.Ck,a);a.f.va(a.Ck,a.f,"oj.CubeDataValue");a.Ck.prototype.Init=function(){a.Ck.N.Init.call(this)};a.Ck.prototype.qg=function(){switch(this.p.XU){case a.Bk.STDDEV:return Math.sqrt(this.mma());case a.Bk.VARIANCE:return this.mma();
default:return this.p.value}};a.f.j("CubeDataValue.prototype.getValue",{qg:a.Ck.prototype.qg});a.Ck.prototype.Nva=function(){return this.p.o3a};a.f.j("CubeDataValue.prototype.getIndices",{Nva:a.Ck.prototype.Nva});a.Ck.prototype.hwa=function(){return this.p.rows};a.f.j("CubeDataValue.prototype.getRows",{hwa:a.Ck.prototype.hwa});a.Ck.prototype.nva=function(){return this.p.XU};a.f.j("CubeDataValue.prototype.getAggregation",{nva:a.Ck.prototype.nva});a.Ck.prototype.mma=function(){if(isNaN(this.p.By))return NaN;
var a=this.p.rows.length;return 1<a?this.p.By/(a-1):0};a.Am=function(c,b){var d=b.row?b.row.start:0,e=b.row?b.row.count:0,f=b.column?b.column.start:0,g=b.column?b.column.count:0;a.C.Gu(d,null);a.C.Gu(e,null);a.C.Gu(f,null);a.C.Gu(g,null);this.ZI=c;this.r7={row:d,column:f};this.lg=this.ZI.Zu([{start:f,count:g},{start:d,count:e}]);g=(d=Array.isArray(this.lg))?this.lg.length:1;0<g&&(e=d?this.lg[0].length:1);this.EJa={row:e,column:g}};o_("CubeCellSet",a.Am,a);a.Am.prototype.getData=function(a){var b=
a.row;a=a.column;return(b=Array.isArray(this.lg)?this.lg[a-this.r7.column][b-this.r7.row]:this.lg)?b.qg():null};a.f.j("CubeCellSet.prototype.getData",{getData:a.Am.prototype.getData});a.Am.prototype.getMetadata=function(a){var b={keys:{}};b.keys.row=this.aka(a,"row",2);b.keys.column=this.aka(a,"column",1);return b};a.f.j("CubeCellSet.prototype.getMetadata",{getMetadata:a.Am.prototype.getMetadata});a.Am.prototype.aka=function(c,b,d){var e=this.ZI.Uu();return void 0!==c[b]&&e.length>=d?(d=new a.ap,
d=e[a.sd.Tha(b)].iO(c[b],d),d.Ry()[0].key):null};a.Am.prototype.getStart=function(a){return this.r7[a]};a.f.j("CubeCellSet.prototype.getStart",{getStart:a.Am.prototype.getStart});a.Am.prototype.getCount=function(a){return this.EJa[a]};a.f.j("CubeCellSet.prototype.getCount",{getCount:a.Am.prototype.getCount});a.Am.prototype.getExtent=function(){return{row:{extent:1,more:{before:!1,after:!1}},column:{extent:1,more:{before:!1,after:!1}}}};a.f.j("CubeCellSet.prototype.getExtent",{getExtent:a.Am.prototype.getExtent});
a.Fk=function(c,b,d){this.Init();this.ow=d;this.k0();a.Fk.N.constructor.call(this,c,b)};o_("DataValueAttributeCube",a.Fk,a);a.f.va(a.Fk,a.ec,"oj.DataValueAttributeCube");a.Fk.prototype.Oa=null;a.Fk.prototype.Init=function(){a.Fk.N.Init.call(this)};a.Fk.prototype.lC=function(){a.Fk.N.lC.call(this)};a.Fk.prototype.kY=function(a){return this.BD[a]};a.Fk.prototype.iY=function(c,b){return c.dataValue?new a.vl(null,b,!0):new a.vl(c.attribute,b,!1)};a.Fk.prototype.hY=function(c){return new a.Fk(null,c,this.ow)};
a.Fk.prototype.FC=function(a,b,d,e,f,g){if(b>=a.ts().length)return f;var k=a.ts()[b];if(k.fG())return this.OUa(a,d,e,b,f);d=d.NX(e[k.attribute],null,k);g&&f.VY(d);return this.FC(a,b+1,d,e,f,g)};a.Fk.prototype.OUa=function(a,b,d,e,f){for(var g=!0,k=0;k<this.ow.length;k++){var l=this.ow[k].attribute,m=this.ow[k].label;d.hasOwnProperty(l)&&(m=b.NX(l,m,a.ts()[e]),f.MX(l,d[l]),this.FC(a,e+1,m,d,f,g),g=!1)}return f};a.Fk.prototype.k0=function(){this.BD=[];for(var c=0;c<this.ow.length;c++){var b=this.ow[c];
this.BD[b.attribute]=b.aggregation?{uF:b.aggregation,Hc:b.callback}:{uF:a.Bk.SUM,Hc:b.callback}}};a.ap=function(){this.W4=[];this.p=[]};a.ap.prototype.VY=function(a){this.W4.push(a)};a.ap.prototype.MX=function(a,b){this.p.push({name:a,value:b})};a.ap.prototype.Ry=function(){var a=[],b=this.bIa();if(0===this.p.length)a.push({key:JSON.stringify(b)});else for(var d=0;d<this.p.length;d++){var e=g.extend(!0,{},b);e[this.p[d].name]=this.p[d].name;a.push({key:JSON.stringify(e),Nua:this.p[d].name,value:this.p[d].value})}return a};
a.ap.prototype.bIa=function(){for(var a={},b=0;b<this.W4.length;b++){var d=this.W4[b].WAa(),e;for(e in d)d.hasOwnProperty(e)&&(a[e]=d[e])}return a};a.Ii=function(a,b,d,e){this.ZI=b;this.AI=a;this.Zl=void 0===d?0:d;this.CJa=void 0===e?this.AI.getExtent():Math.min(e,this.AI.getExtent()-d);this.oja=d+e-1};o_("CubeHeaderSet",a.Ii,a);a.Ii.prototype.getData=function(a,b){var d=this.cu(a,b);return d?d.wB():null};a.f.j("CubeHeaderSet.prototype.getData",{getData:a.Ii.prototype.getData});a.Ii.prototype.getMetadata=
function(c,b){var d=new a.ap,d=this.AI.Pba(c,b,d);return(d=d.Ry())&&0<d.length?{key:d[0].key}:null};a.f.j("CubeHeaderSet.prototype.getMetadata",{getMetadata:a.Ii.prototype.getMetadata});a.Ii.prototype.getLevelCount=function(){return this.AI.ts().length};a.f.j("CubeHeaderSet.prototype.getLevelCount",{getLevelCount:a.Ii.prototype.getLevelCount});a.Ii.prototype.getExtent=function(a,b){var d=this.cu(a,b),e=d.getExtent(),d=d.getStart(),f=d+e-1,g=a<d+e-1;d<this.Zl&&(e-=this.Zl-d);f>this.oja&&(e-=f-this.oja);
return{extent:e,more:{before:a>d,after:g}}};a.f.j("CubeHeaderSet.prototype.getExtent",{getExtent:a.Ii.prototype.getExtent});a.Ii.prototype.getDepth=function(a,b){return this.cu(a,b).getDepth()};a.f.j("CubeHeaderSet.prototype.getDepth",{getDepth:a.Ii.prototype.getDepth});a.Ii.prototype.getCount=function(){return this.CJa};a.f.j("CubeHeaderSet.prototype.getCount",{getCount:a.Ii.prototype.getCount});a.Ii.prototype.getStart=function(){return this.Zl};a.f.j("CubeHeaderSet.prototype.getStart",{getStart:a.Ii.prototype.getStart});
a.Ii.prototype.cu=function(a,b){void 0===b&&(b=0);var d=this.AI.Zu(a);return d&&d.length>b?d[b]:null};a.sd=function(c){a.sd.N.constructor.call(this,c)};o_("CubeDataGridDataSource",a.sd,a);a.f.va(a.sd,a.Av,"oj.CubeDataGridDataSource");a.sd.prototype.Bza=function(a){this.data=a;this.Oja()};a.f.j("CubeDataGridDataSource.prototype.setCube",{Bza:a.sd.prototype.Bza});a.sd.prototype.setPage=function(a){this.data.setPage(a);this.Oja()};a.f.j("CubeDataGridDataSource.prototype.setPage",{setPage:a.sd.prototype.setPage});
a.sd.prototype.Oja=function(){this.handleEvent("change",{source:this,operation:"refresh"})};a.sd.prototype.getCount=function(a){return(a=this.Vt(a))?a.getExtent():0};a.f.j("CubeDataGridDataSource.prototype.getCount",{getCount:a.sd.prototype.getCount});a.sd.prototype.getCountPrecision=function(){return"exact"};a.f.j("CubeDataGridDataSource.prototype.getCountPrecision",{getCountPrecision:a.sd.prototype.getCountPrecision});a.sd.prototype.fetchHeaders=function(c,b,d){var e=new a.Ii(this.Vt(c.axis),this.data,
c.start,c.count);b.success.call(d?d.success:void 0,e,c)};a.f.j("CubeDataGridDataSource.prototype.fetchHeaders",{fetchHeaders:a.sd.prototype.fetchHeaders});a.sd.prototype.fetchCells=function(c,b,d){for(var e={},f=0;f<c.length;f++){var g=void 0===c[f].start?0:c[f].start;if("row"===c[f].axis){var k=void 0===c[f].count?this.data.Uu()[1].getExtent():c[f].count;e.row={start:g,count:k}}"column"===c[f].axis&&(k=void 0===c[f].count?this.data.Uu()[0].getExtent():c[f].count,e.column={start:g,count:k})}e=new a.Am(this.data,
e);b.success.call(d?d.success:void 0,e,c)};a.f.j("CubeDataGridDataSource.prototype.fetchCells",{fetchCells:a.sd.prototype.fetchCells});a.sd.prototype.keys=function(a){var b={},b=this.nb(a,"row",b),b=this.nb(a,"column",b);return Promise.resolve(b)};a.f.j("CubeDataGridDataSource.prototype.keys",{keys:a.sd.prototype.keys});a.sd.prototype.nb=function(c,b,d){var e=this.Vt(b);c=c[b];var f=new a.ap,f=e?e.iO(c,f):"";d[b]=f.Ry()[0].key;return d};a.sd.prototype.indexes=function(a){var b={},b=this.yd(a,"row",
b),b=this.yd(a,"column",b);return Promise.resolve(b)};a.f.j("CubeDataGridDataSource.prototype.indexes",{indexes:a.sd.prototype.indexes});a.sd.prototype.yd=function(a,b,d){d[b]=this.Vt(b).Bn(a[b]);return d};a.sd.prototype.sort=function(){a.C.df()};a.f.j("CubeDataGridDataSource.prototype.sort",{sort:a.sd.prototype.sort});a.sd.prototype.move=function(){a.C.df()};a.f.j("CubeDataGridDataSource.prototype.move",{move:a.sd.prototype.move});a.sd.prototype.moveOK=function(){return"invalid"};a.f.j("CubeDataGridDataSource.prototype.moveOK",
{moveOK:a.sd.prototype.moveOK});a.sd.prototype.getCapability=function(a){switch(a){case "sort":return"none";case "move":return"none"}return null};a.f.j("CubeDataGridDataSource.prototype.getCapability",{getCapability:a.sd.prototype.getCapability});a.sd.Tha=function(a){return"row"===a?1:0};a.sd.prototype.Vt=function(c){c=a.sd.Tha(c);var b=this.data.Uu();return b.length>c?b[c]:null};a.Ek=function(c,b,d){this.Init();this.ow=d;this.ZZa=d.valueAttr;this.YSa=d.labelAttr;var e=d.defaultAggregation;this.zia=
e?a.Ek.YMa(e):{uF:a.Bk.SUM};this.S_=d.aggregation;this.k0();a.Ek.N.constructor.call(this,c,b)};o_("DataColumnCube",a.Ek,a);a.f.va(a.Ek,a.ec,"oj.DataColumnCube");a.Ek.prototype.Init=function(){a.Ek.N.Init.call(this)};a.Ek.prototype.lC=function(){a.Ek.N.lC.call(this)};a.Ek.prototype.kY=function(a){return this.BD[a]?this.BD[a]:this.zia};a.Ek.prototype.hY=function(c){return new a.Ek(null,c,this.ow)};a.Ek.prototype.iY=function(c,b){return c.attribute===this.YSa?new a.vl(c.attribute,b,!0):new a.vl(c.attribute,
b,!1)};a.Ek.prototype.FC=function(a,b,d,e,f,g){if(b>=a.ts().length)return f;var k=a.ts()[b],l=e[k.attribute];d=d.NX(l,null,k);k.fG()?f.MX(l,e[this.ZZa]):f.VY(d);return this.FC(a,b+1,d,e,f,g)};a.Ek.YMa=function(c){return a.Wa.Hd(c)?{uF:c}:{uF:c.aggregation,Hc:c.callback}};a.Ek.prototype.k0=function(){this.BD=[];if(this.S_)for(var a=0;a<this.S_.length;a++){var b=this.S_[a],d=b.aggregation;this.BD[b.value]=d?{uF:d,Hc:b.callback}:this.zia}};a.vl=function(a,b,d){this.Init();this.attribute=a;this.yga=b;
this.axis=b.axis;this.via=d};o_("CubeLevel",a.vl,a);a.f.va(a.vl,a.f,"oj.CubeLevel");a.vl.prototype.Init=function(){a.vl.N.Init.call(this)};a.vl.prototype.qg=function(a){if(a=this.yga.Zu(a))for(var b=0;b<a.length;b++)if(a[b].xB()===this)return a[b];return null};a.f.j("CubeLevel.prototype.getValue",{qg:a.vl.prototype.qg});a.vl.prototype.fG=function(){return this.via};a.f.j("CubeLevel.prototype.isDataValue",{fG:a.vl.prototype.fG});a.vl.prototype.via=!1;a.vl.prototype.yga=null});