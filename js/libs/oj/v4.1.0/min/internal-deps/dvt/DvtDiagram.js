/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(['jquery','./DvtToolkit', './DvtPanZoomCanvas'], function($, dvt) {
  // Internal use only.  All APIs and functionality are subject to change at any time.

var ga;function ka(a,F){0==a.indexOf("dvt.")&&(a=a.substring(4));var D=a.split("."),E=eval("dvt");D[0]in E||!E.execScript||E.execScript("var "+D[0]);for(var v;D.length&&(v=D.shift());)D.length||void 0===F?E=E[v]?E[v]:E[v]={}:E[v]=F}Math.floor(2147483648*Math.random()).toString(36);
(function(a){function F(a,p,e,h,u){F.C.Init.call(this,a);this.Init(a,p,e,h,u)}function D(a,p,e,h){this.Init(a,p,e,h)}function E(a,p){this.Init(a,p)}function v(){this.Init()}function x(){this.Init()}function f(){this.Init()}a.f.v(f,a.f,"DvtDiagramLayoutContext");f.prototype.Init=function(){this.fP=this.yD=0;this.b_=!1;this.oi={};this.xh={};this.PN=[];this.ON=[];this.UA={}};f.prototype.tsa=function(){return this.Ds};f.prototype.fJ=function(a){this.$t=a};f.prototype.Gu=function(){return this.$t};f.prototype.Laa=
function(a){this.Ib(a.getId())||(this.yD++,this.PN.push(a));this.oi[a.getId()]=a};f.prototype.uGa=function(a){this.oi[a.getId()]=a};f.prototype.removeNode=function(c,p){p&&(c?a.Y.removeItem(c.Of(),p):(a.Y.removeItem(this.PN,p),this.yD--),delete this.oi[p.getId()])};f.prototype.Ib=function(a){return this.oi[a]};f.prototype.sI=function(a){return this.PN[a]};f.prototype.Aj=function(){return this.yD};f.prototype.Iaa=function(a){this.mg(a.getId())||(this.fP++,this.ON.push(a));this.xh[a.getId()]=a};f.prototype.Lca=
function(c){c&&(this.mg(c.getId())&&(a.Y.removeItem(this.ON,c),this.fP--),delete this.xh[c.getId()])};f.prototype.mg=function(a){return this.xh[a]};f.prototype.oI=function(a){return this.ON[a]};f.prototype.fC=function(){return this.fP};f.prototype.Gua=function(c,p){var e=this.Yea(p);return new a.it(c.x+e.x,c.y+e.y)};f.prototype.Yea=function(c){for(var p=new a.it(0,0);c;)if(p.x+=c.$z.x+c.Th().x,p.y+=c.$z.y+c.Th().y,c=c.bo){if((c=this.Ib(c))&&c.gd()){var e=c.bi();e&&(p.x+=e.left,p.y+=e.top)}}else c=
null;return p};f.prototype.Pwa=function(a){this.b_=a};f.prototype.iua=function(){return this.b_};f.prototype.kwa=function(a){this.Zja=a};f.prototype.Pra=function(){return this.Zja};f.prototype.jxa=function(a){this.Ls=a};f.prototype.mL=function(){return this.Ls};f.prototype.s6=function(a){this.bo=a};f.prototype.PQ=function(){return this.bo};f.prototype.dt=function(a,p,e,h){this.bo&&(this.aj={},"number"!==typeof a&&"string"!==typeof a&&(h=a.left,p=a.right,e=a.bottom,a=a.top),this.aj.top=a,this.aj.right=
p,this.aj.bottom=e,this.aj.left=h)};f.prototype.bi=function(){return this.aj};f.prototype.RKa=function(a){this.lD=a};f.prototype.Ura=function(){return this.lD};f.prototype.Ora=function(a,p){function e(a,c){for(var e=[],h=c.Ib(a)?c.Ib(a).bo:null;h;)e.push(h),h=c.Ib(h)?c.Ib(h).bo:null;e.reverse();return e}for(var h=e(a,this),u=e(p,this),t=null,f=0;f<h.length&&f<u.length&&h[f]==u[f];f++)t=h[f];return t};f.prototype.csa=function(){return this.ala};f.prototype.Cwa=function(a){this.ala=a};f.prototype.swa=
function(a){this.UA=a};a.f.v(x,a.f,"DvtDiagramLayoutContextLink");x.prototype.Init=function(){this.N_=this.O2=0;this.P0=1;this.$F=this.Ai=!1};x.prototype.setId=function(a){this.lc=a};x.prototype.getId=function(){return this.lc};x.prototype.bxa=function(a){this.Ppa=a};x.prototype.Ri=function(){return this.Ppa};x.prototype.zwa=function(a){this.Zka=a};x.prototype.Ah=function(){return this.Zka};x.prototype.Vh=function(c){this.yh="string"==typeof c?a.G.GK(c):c;this.nj()};x.prototype.Df=function(){return this.yh};
x.prototype.zo=function(a){this.bP=a;this.nj()};x.prototype.vg=function(){return this.bP};x.prototype.$r=function(a){this.RG=a};x.prototype.Mg=function(){return this.RG};x.prototype.axa=function(a){this.O2=a};x.prototype.jL=function(){return this.O2};x.prototype.ywa=function(a){this.N_=a};x.prototype.UK=function(){return this.N_};x.prototype.A6=function(a){this.P0=a};x.prototype.zz=function(){return this.P0};x.prototype.fJ=function(a){this.$t=a};x.prototype.Gu=function(){return this.$t};x.prototype.hc=
function(a){this.Ai=a};x.prototype.tR=function(){return this.Ai};x.prototype.as=function(a){this.xi=a;this.nj()};x.prototype.dC=function(){return this.xi};x.prototype.bs=function(a){this.yi=a;this.nj()};x.prototype.eC=function(){return this.yi};x.prototype.UV=function(a){this.$F=a};x.prototype.Jl=function(){return this.$F};x.prototype.CC=function(a){this.pr=a;this.nj()};x.prototype.BC=function(a){this.Av=a;this.nj()};x.prototype.aR=function(){return this.pr};x.prototype.Fu=function(){return this.Av};
x.prototype.u6=function(a){this.gG=a;this.nj()};x.prototype.Tra=function(){return this.gG};x.prototype.setData=function(a){this.sb=a};x.prototype.getData=function(){return this.sb};x.prototype.nj=function(){this.ot&&(this.ot.UA[this.getId()]=!0)};x.prototype.MU=function(a){a&&(this.Vh(a.Df()),this.zo(a.vg()),this.as(a.xi),this.bs(a.yi),this.CC(a.pr),this.BC(a.Fu()),this.u6(a.gG))};a.f.v(v,a.f,"DvtDiagramLayoutContextNode");v.prototype.Init=function(){this.Jt=this.Ai=this.Gja=!1;this.Sy=!0;this.$z=
new a.it(0,0)};v.prototype.setId=function(a){this.lc=a};v.prototype.getId=function(){return this.lc};v.prototype.cS=function(a){this.Um=this.Sb=a};v.prototype.Lv=function(){!this.Sb&&this.Jq&&this.Jq.vS(this);return this.Sb};v.prototype.dS=function(a){this.Vm=this.gO=a};v.prototype.po=function(){!this.gO&&this.Jq&&this.Jq.vS(this);return this.gO};v.prototype.setPosition=function(a){this.pU=a;this.JJ();this.nj()};v.prototype.Th=function(){return this.pU};v.prototype.Rsa=function(c){var f=this.ot;if(f){for(var e=
new a.it(0,0),h=this,u=!1;h;){var t=h.bo;if(t){var H=f.Ib(t);H&&this.Jq&&!H.Sy&&this.Jq.GV(H,!0)}e.x+=h.$z.x+h.Th().x;e.y+=h.$z.y+h.Th().y;if(t!=c)if((h=f.Ib(t))&&h.gd()){if(t=h.bi())e.x+=t.left,e.y+=t.top}else h=null;else u=!0,h=null}u||(e=null);return e}};v.prototype.zo=function(a){this.bP=a;this.nj()};v.prototype.vg=function(){return this.bP};v.prototype.$r=function(a){this.RG=a};v.prototype.Mg=function(){!this.RG&&this.Jq&&this.Jq.vS(this);return this.RG};v.prototype.fJ=function(a){this.$t=a};
v.prototype.Gu=function(){return this.$t};v.prototype.pua=function(){return this.Gja};v.prototype.s6=function(a){this.bo=a};v.prototype.PQ=function(){return this.bo};v.prototype.hc=function(a){this.Ai=a};v.prototype.tR=function(){return this.Ai};v.prototype.as=function(a){this.xi=a;this.nj()};v.prototype.dC=function(){return this.xi};v.prototype.bs=function(a){this.yi=a;this.nj()};v.prototype.eC=function(){return this.yi};v.prototype.E8=function(c){this.gd()&&(this.aj=c)&&(this.Um&&(this.Um=new a.gs(this.Um.x,
this.Um.y,this.Um.w-(c.left+c.right),this.Um.h-(c.top+c.bottom))),this.Vm&&(this.Vm=new a.gs(this.Vm.x,this.Vm.y,this.Vm.w-(c.left+c.right),this.Vm.h-(c.top+c.bottom))))};v.prototype.dt=function(c,f,e,h){this.gd()&&(this.aj={},"number"!==typeof c&&"string"!==typeof c&&(h=c.left,f=c.right,e=c.bottom,c=c.top),this.aj.top=c,this.aj.right=f,this.aj.bottom=e,this.aj.left=h,this.Um&&(this.Sb=new a.gs(this.Um.x,this.Um.y,this.Um.w+h+f,this.Um.h+c+e)),this.Vm&&(this.gO=new a.gs(this.Vm.x,this.Vm.y,this.Vm.w+
h+f,this.Vm.h+c+e)),this.nj())};v.prototype.bi=function(){return this.aj};v.prototype.In=function(a){this.Jt=a};v.prototype.gd=function(){return this.Jt};v.prototype.BL=function(a){this.Vja=a};v.prototype.Of=function(){return this.Vja};v.prototype.lLa=function(a){this.N1=a};v.prototype.Osa=function(){return this.N1};v.prototype.JJ=function(){var a=this.N1;a&&a.Sy&&(a.fT(),a.JJ())};v.prototype.fT=function(){this.Sy=!1;this.cS(null);this.dS(null);this.$r(null)};v.prototype.CC=function(a){this.pr=a;
this.nj()};v.prototype.BC=function(a){this.Av=a;this.nj()};v.prototype.aR=function(){return this.pr};v.prototype.Fu=function(){return this.Av};v.prototype.setData=function(a){this.sb=a};v.prototype.getData=function(){return this.sb};v.prototype.nj=function(){this.ot&&(this.ot.UA[this.getId()]=!0)};v.prototype.MU=function(a){a&&(this.setPosition(a.Th()),this.zo(a.vg()),this.as(a.xi),this.bs(a.yi),this.CC(a.pr),this.BC(a.Fu()),a.bi()&&this.dt(a.bi()))};a.f.v(E,a.f,"DvtDiagramPoint");E.prototype.Init=
function(a,f){this.x=null===a||isNaN(a)?0:a;this.y=null===f||isNaN(f)?0:f};a.f.v(D,a.f,"DvtDiagramRectangle");D.prototype.Init=function(a,f,e,h){this.x=null===a||isNaN(a)?0:a;this.y=null===f||isNaN(f)?0:f;this.w=null===e||isNaN(e)?0:e;this.h=null===h||isNaN(h)?0:h};a.it=E;a.gs=D;a.Bb=function(a,f,e){this.Init(a,f,e)};a.f.v(a.Bb,a.Ed,"dvt.BaseDiagram");a.Bb.prototype.Init=function(c,f,e){a.Bb.C.Init.call(this,c,f,e);this.a.Gc.ja().setAttributeNS(null,"text-rendering","geometricPrecision");this.hB=
new a.ca(c);this.hu=new a.ca(c);this.hQ=new a.ca(c);this.xfa()};a.Bb.prototype.Gya=function(){var a=this.pc;a.Tz(this.hC());a.Sz(this.iy());a.LV(this.Lb());a.$c.B(this.hB);a.$c.B(this.hu);a.$c.B(this.hQ)};a.Bb.prototype.Lb=function(){return a.jd.pea};a.Bb.prototype.Sz=function(a){this.wx=a;this.pc&&this.pc.Sz(a)};a.Bb.prototype.iy=function(){return this.wx};a.Bb.prototype.Tz=function(a){this.yx=a;this.pc&&this.pc.Tz(a)};a.Bb.prototype.hC=function(){return this.yx};a.Bb.prototype.xfa=function(){this.Sz(2);
this.Tz(0)};a.Bb.prototype.Ib=function(){return null};a.Bb.prototype.mg=function(){return null};a.Bb.prototype.zJ=function(){return[]};a.Bb.prototype.JS=function(){return[]};a.Bb.prototype.F7=function(){return[]};a.Bb.prototype.bza=function(c){c&&this.jk?this.gr?(this.gr.na(this.Na/2),this.gr.Pa(this.ab/2),a.ga.Yc(this.gr,this.getWidth()-2*a.ga.GW,Infinity,this)):this.gr=this.cea(this.jk):this.gr&&((c=this.gr.getParent())&&c.removeChild(this.gr),this.gr=null)};a.Bb.prototype.cea=function(c){var f=
this.A();return a.ga.tm(this,c,new a.U(0,0,this.getWidth(),this.getHeight()),this.Ob(),f._statusMessageStyle)};a.Bb.prototype.Xca=function(a){this.jk=a};a.Bb.prototype.zza=function(a){this.oU=a};a.Bb.prototype.nS=function(a){this.mU=a;this.pc&&this.pc.nS(a)};a.Bb.prototype.dL=function(){return this.mU};a.Bb.prototype.Aza=function(a){this.Gaa=a};a.Bb.prototype.Ue=function(){return this.Fd};a.Bb.prototype.qS=function(c){this.Fd="single"==c?new a.Hb(a.Hb.jv):"multiple"==c?new a.Hb(a.Hb.os):null;this.Ob().Fy(this.Fd)};
a.Bb.prototype.Qk=function(){return this.Fd?!0:!1};a.Bb.prototype.hLa=function(a){this.hu=a};a.Bb.prototype.$Ka=function(a){this.hB=a};a.Bb.prototype.uLa=function(a){this.hQ=a};a.Bb.prototype.r7=function(){var c=new f;c.Pwa(a.m.ea(this.a));c.kwa(new a.gs(0,0,this.getWidth(),this.getHeight()));return c};a.Bb.prototype.u7=function(c,f,e,h){f=new v;f.setId(c.getId?c.getId():c.getData().getId());f.cS(a.Yh.Au(c.bR()));f.dS(a.Yh.Au(c.po()));var u=c.Gu?c.$t:c.getData()._origData;f.fJ(u);f.setData(u);f.$r(a.Yh.Au(c.Mg()));
f.zo(a.Yh.A3(c.vg()));f.hc(1==c.gb());c.gd()&&(f.In(!0),f.E8(a.Bb.zba(c.bi())));f.s6(c.lj());f.Jq=this;f.Sy=!e;f.ot=h;return f};a.Bb.prototype.t7=function(c,f,e,h,u){h=new x;h.setId(c.getId?c.getId():c.getData().getId());h.bxa(f?f:c.getData().Ri());h.zwa(e?e:c.getData().Ah());f=c.Gu?c.$t:c.Jl()?c.getData()._links:c.getData()._origData;h.fJ(f);h.setData(f);h.$r(a.Yh.Au(c.Mg()));h.zo(a.Yh.A3(c.vg()));h.axa(c.jL());h.ywa(c.UK());h.A6(c.zz());h.hc(1==c.gb());h.UV(1==c.Jl());h.ot=u;return h};a.Bb.prototype.uda=
function(c,f){var e=c.bi();if(e){var h=c.bo;h&&(h=this.Ib(h))&&h.dt(a.Bb.bi(e))}for(var u=h=Number.MAX_VALUE,e=0;e<c.Aj();e++){var t=c.sI(e),H=t.Th();H&&(h=Math.min(h,H.x),u=Math.min(u,H.y));var y=t.Mg(),t=t.vg();y&&t&&(h=Math.min(h,t.x+y.x),u=Math.min(u,t.y+y.y))}for(e=0;e<c.fC();e++){var t=c.oI(e),n=t.Df();if(n)for(y=a.Qd.fX(n),H=0;H<y.length;H++)var z=y[H],h=Math.min(h,z.x),u=Math.min(u,z.y);y=t.Mg();t=t.vg();y&&t&&(h=Math.min(h,t.x+y.x),u=Math.min(u,t.y+y.y))}y=new a.P(-h,-u);h=y.x;u=y.y;z=c.UA;
for(e=0;e<c.Aj();e++)t=c.sI(e),t.bo&&(t.$z=new a.it(y.x,y.y)),z[t.getId()]&&(n=this.Ib(t.getId()),(H=t.Th())&&n.$ga(H.x+h,H.y+u),this.cW(t,n,a.Yh.z3(H)),n.gd()&&(t=t.bi())&&n.dt(a.Bb.bi(t)));for(e=0;e<c.fC();e++)if(t=c.oI(e),z[t.getId()]){var w=this.mg(t.getId()),H=this.cfa(w,t,y),A=H.x,d=H.y;if(n=t.Df()){0<n.length&&!isNaN(n[0])&&(n=a.Qd.pW(n));for(var g=[],H=0;H<n.length;)isNaN(n[H])?(g.push(n[H]),H++):(g.push(n[H]+A),g.push(n[H+1]+d),H+=2);w.Vh(g)}this.cW(t,w,new a.P(-A,-d))}if(e=c.mL())this.WG=
new a.U(e.x+h,e.y+u,e.w,e.h);f&&(this.K0=new a.P(h,u))};a.Bb.prototype.cfa=function(c,f,e){var h=new a.P(0,0);if(!c.lj())h=e;else if(c.lj()!=f.gG){f=f.gG;for(c=this.Ib(c.lj());c;){var u=c.bi();h.x-=u.left-c.jX().x;h.y-=u.top-c.jX().y;c=c.lj();c=c!=f?this.Ib(c):null}f||(h.x+=e.x,h.y+=e.y)}return h};a.Bb.prototype.XS=function(){return this.WG?!0:!1};a.Bb.prototype.Mxa=function(){this.WG=null};a.Bb.prototype.qda=function(a){if(0==this.hC()){var f=this.pc;a=a?a:this.NS();f.Tz(1*Math.min(this.Tda(a),f.iy()));
return a}return null};a.Bb.prototype.Tda=function(a){if(!a)return 0;var f=this.pc;return Math.min((this.Na-2*f.TH)/a.b,(this.ab-2*f.TH)/a.i)};a.Bb.prototype.NS=function(){for(var a=null,f,e,h,u=this.F7(),t=0;t<u.length;t++)f=u[t],(h=this.Ib(f))&&h.Wy&&(f=h.dfa(),e=h.ac(),h=h.qc(),f.x+=e,f.y+=h,a?(e=a.x,h=a.y,a.x=Math.min(a.x,f.x),a.y=Math.min(a.y,f.y),a.b=Math.max(e+a.b,f.x+f.b)-a.x,a.i=Math.max(h+a.i,f.y+f.i)-a.y):a=f);u=this.zJ();for(t=0;t<u.length;t++)f=u[t],(e=this.mg(f))&&e.Wy&&(f=e.bfa(),e.lj()||
(a?(e=a.x,h=a.y,a.x=Math.min(a.x,f.x),a.y=Math.min(a.y,f.y),a.b=Math.max(e+a.b,f.x+f.b)-a.x,a.i=Math.max(h+a.i,f.y+f.i)-a.y):a=f));return a};a.Bb.zY=function(c,f,e){if(null==f&&!e)return c;var h=new a.P(c.x,c.y),u=new a.P(c.x+c.b,c.y),t=new a.P(c.x,c.y+c.i);c=new a.P(c.x+c.b,c.y+c.i);var H=new a.Da;null!=f&&(e&&H.translate(-e.x,-e.y),H.rotate(f),e&&H.translate(e.x,e.y));f=H.wm(h);u=H.wm(u);t=H.wm(t);c=H.wm(c);H=Math.min(Math.min(f.x,u.x),Math.min(t.x,c.x));e=Math.min(Math.min(f.y,u.y),Math.min(t.y,
c.y));return new a.U(H,e,Math.max(Math.max(f.x,u.x),Math.max(t.x,c.x))-H,Math.max(Math.max(f.y,u.y),Math.max(t.y,c.y))-e)};a.Bb.prototype.Uda=function(a,f,e,h,u){var t=this.pc,H=t.ve().b/2,y=t.ve().i/2;e=H-(e+a)*u;h=y-(h+f)*u;a=H-a*u;f=y-f*u;this.XS()&&(y=this.WG,-y.x*u<e?(H=e+y.x*u,e-=H,a+=H):-y.x*u>a&&(H=-y.x*u-a,e-=H,a+=H),-y.y*u<h?(u=h+y.y*u,h-=u,f+=u):-y.y*u>f&&(u=-y.y*u-f,h-=u,f+=u));t.D6(e);t.E6(h);t.B6(a);t.C6(f)};a.Bb.prototype.dKa=function(a){this.hQ.B(a)};a.Bb.prototype.eKa=function(a){this.hB.B(a)};
a.Bb.prototype.fKa=function(a){this.hu.B(a)};a.Bb.bi=function(a){var f={};f.top=a.top;f.right=a.right;f.bottom=a.bottom;f.left=a.left;return f};a.Bb.zba=function(a){var f={};f.top=a.top;f.right=a.right;f.bottom=a.bottom;f.left=a.left;return f};a.Bb.prototype.cW=function(c,f,e){var h=c.Mg(),h=a.Yh.$qa(h),u=c.vg();if(h&&u){e=new a.P(u.x-e.x,u.y-e.y);var u=c.xi,t=a.Yh.z3(c.yi);f.$r(h);f.zo(e);f.lS(c.Fu(),c.pr);null!=u&&f.as(u);t&&f.bs(t)}};a.Bb.prototype.usa=function(){return this.K0?this.K0:new a.P(0,
0)};a.Bb.prototype.X3=function(c){c=c.ja().getBoundingClientRect();var f=this.pc.$c.ja().getBoundingClientRect(),e=this.pc.$c.Wa();return new a.U(c.left-f.left+e.zc,c.top-f.top+e.tc,c.width,c.height)};a.yf=function(a,f){this.Init(a,f)};a.f.v(a.yf,a.EJ,"dvt.BaseDiagramKeyboardHandler");a.yf.Iia=0;a.yf.wia=1;a.yf.prototype.Init=function(c,f){a.yf.C.Init.call(this,c,f);this.wa=c};a.yf.prototype.Iz=function(c){return c.keyCode==a.KeyboardEvent.rg?!1:this.Uh(c)&&!c.ctrlKey};a.yf.prototype.xo=function(c){return c.keyCode==
a.KeyboardEvent.Kj&&c.ctrlKey};a.yf.prototype.g4=function(c,f,e){f=f.keyCode;if(!e||1>e.length||!c)return null;var h=e[0];c=c.md();c=c.x+c.b/2;for(var u=0;u<e.length;u++){var t=e[u],H=t.md(),H=H.x+H.b/2;if(f==a.KeyboardEvent.Ty&&H<=c||f==a.KeyboardEvent.iw&&H>=c){h=t;break}}return h};a.yf.prototype.Csa=function(c,f,e,h){if(!h)return null;if(!f)return h[0];if(!c)return f;this.kja(c,h);h.sort(this.Sla());this.Hoa(h);c=e.keyCode==a.KeyboardEvent.kf?!0:!1;for(var u=e=0;u<h.length;u++)if(h[u]===f){e=c?
u==h.length-1?0:u+1:0==u?h.length-1:u-1;break}return h[e]};a.yf.prototype.Py=function(){return null};a.yf.prototype.Ala=function(a,f){var e=this.Py(f.Ri?f.Ri():f.getData().Ri()),h=this.Py(f.Ah?f.Ah():f.getData().Ah()),h=a==e?h:e,e=this.wG(a),h=this.wG(h),e=Math.atan2(h.y-e.y,h.x-e.x);return e=0>e?e+2*Math.PI:e};a.yf.prototype.wG=function(c){c=c.md();return new a.P(c.x+c.b/2,c.y+c.i/2)};a.yf.prototype.Wla=function(a){var f=this.Py(a.Ri?a.Ri():a.getData().Ri());a=this.Py(a.Ah?a.Ah():a.getData().Ah());
f=this.wG(f);a=this.wG(a);return Math.sqrt(Math.pow(a.x-f.x,2)+Math.pow(a.y-f.y,2))};a.yf.prototype.Tla=function(c,f){return c==this.Py(f.Ah?f.Ah():f.getData().Ah())?a.yf.wia:a.yf.Iia};a.yf.prototype.Sla=function(){return function(c,f){var e=c.FN,h=f.FN,u=-1;!a.yf.MZ(e,h)&&e>h?u=1:a.yf.MZ(e,h)&&(c.Ft>f.Ft?u=1:f.Ft==c.Ft&&c.zA>f.zA?u=1:f.Ft==c.Ft&&c.zA==f.zA&&(u=0));return u}};a.yf.prototype.Hoa=function(a){for(var f=0;f<a.length;f++){var e=a[f];e.FN=void 0;e.Ft=void 0;e.zA=void 0}};a.yf.prototype.kja=
function(a,f){for(var e=0;e<f.length;e++){var h=f[e];h.FN=this.Ala(a,h);h.Ft=this.Wla(h);h.zA=this.Tla(a,h)}};a.yf.MZ=function(a,f){var e=1E-7>=Math.abs(a-f);e||(e=1E-7>=Math.abs(2*Math.PI+Math.min(a,f)-Math.max(a,f)));return e};a.ic=function(a,f,e){this.Init(a,f,e)};a.f.v(a.ic,a.ca,"dvt.BaseDiagramNode");a.ic.prototype.Init=function(c,f,e){a.ic.C.Init.call(this,c,null,f);this.wa=e;this.Ai=this.Jt=!1;this.Lx=!0};a.ic.prototype.getData=function(){return null};a.ic.prototype.bR=function(a){return this.po(a)};
a.ic.prototype.po=function(){return null};a.ic.prototype.zo=function(c){c&&(this.aP=c,a.ic.st(this.yd,c,this.Mg(!0),this.xi,this.yi))};a.ic.prototype.vg=function(){return this.aP};a.ic.prototype.Mg=function(){return null};a.ic.prototype.$r=function(){};a.ic.prototype.bi=function(){return null};a.ic.prototype.dt=function(){};a.ic.prototype.gd=function(){return this.Jt};a.ic.prototype.In=function(a){this.Jt=a};a.ic.prototype.gb=function(){return this.Ai};a.ic.prototype.hc=function(a){this.Ai=a};a.ic.prototype.Jn=
function(a){this.Lx=a};a.ic.prototype.fb=function(){return this.wa.Qk()&&this.Lx};a.ic.prototype.as=function(c){this.xi=c;a.ic.st(this.yd,this.vg(),this.Mg(!0),c,this.yi)};a.ic.prototype.dC=function(){return this.xi};a.ic.prototype.bs=function(c){this.yi=c;a.ic.st(this.yd,this.vg(),this.Mg(!0),this.xi,c)};a.ic.prototype.eC=function(){return this.yi};a.ic.prototype.dfa=function(){var c=this.bR(!0),f=new a.U(c.x,c.y,c.b,c.i),e=e=this.vg(),h=this.xi,u=this.yi,t=this.Mg(!0);e&&t&&(null!=h&&(t=a.Bb.zY(t,
h,u)),f.x=Math.min(c.x,t.x+e.x),f.y=Math.min(c.y,t.y+e.y),f.b=Math.max(c.x+c.b,t.x+e.x+t.b)-f.x,f.i=Math.max(c.y+c.i,t.y+e.y+t.i)-f.y);return f};a.ic.QL=function(c,f,e,h){f=new a.Da;null!=e&&(h&&f.translate(-h.x,-h.y),f.rotate(e),h&&f.translate(h.x,h.y));c&&f.translate(c.x,c.y);return f};a.ic.st=function(c,f,e,h,u){c&&(f=a.ic.QL(f,e,h,u),c.mb(f))};a.ic.prototype.$ga=function(a,f){this.ib(a,f)};a.ic.prototype.jX=function(){return new a.P(this.ac(),this.qc())};a.ic.prototype.Kd=function(){return null};
a.ic.prototype.md=function(c){if(this.ik)return this.wa.X3(this);var f=this.po(c);c=this.sm(new a.P(f.x,f.y));f=this.sm(new a.P(f.x+f.b,f.y+f.i));return new a.U(c.x,c.y,f.x-c.x,f.y-c.y)};a.ic.prototype.$j=function(){return this.ja()};a.ic.prototype.rh=function(){};a.ic.prototype.mf=function(){};a.ic.prototype.Ae=function(){};a.ic.prototype.rd=function(){return null};a.ic.prototype.tqa=function(a){this.Cx||(this.Cx=[]);this.Cx.push(a)};a.ic.prototype.Lva=function(c){this.Cx&&(c=a.Y.$b(this.Cx,c),-1!=
c&&this.Cx.splice(c,1))};a.ic.prototype.oqa=function(a){this.ox||(this.ox=[]);this.ox.push(a)};a.ic.prototype.Kva=function(c){this.ox&&(c=a.Y.$b(this.ox,c),-1!=c&&this.ox.splice(c,1))};a.ic.prototype.lS=function(){};a.ic.prototype.lj=function(){return null};a.Ab=function(a,f,e){this.Init(a,f,e)};a.f.v(a.Ab,a.ca,"dvt.BaseDiagramLink");a.Ab.prototype.Init=function(c,f,e){a.Ab.C.Init.call(this,c,null,f);this.wa=e;this.Ai=!1;this.Lx=!0};a.Ab.prototype.Ts=function(){return null};a.Ab.prototype.tLa=function(a){this.X=
a};a.Ab.prototype.yg=function(){return this.X};a.Ab.prototype.as=function(c){this.xi=c;a.Ab.st(this.yd,this.vg(),this.Mg(),c,this.yi)};a.Ab.prototype.dC=function(){return this.xi};a.Ab.prototype.bs=function(c){this.yi=c;a.Ab.st(this.yd,this.vg(),this.Mg(),this.xi,c)};a.Ab.prototype.eC=function(){return this.yi};a.Ab.prototype.vg=function(){return this.aP};a.Ab.prototype.zo=function(c){c&&(this.aP=c,a.Ab.st(this.yd,c,this.Mg(),this.xi,this.yi))};a.Ab.prototype.Mg=function(){return null};a.Ab.prototype.$r=
function(){};a.Ab.prototype.jL=function(){return 0};a.Ab.prototype.UK=function(){return 0};a.Ab.prototype.Jn=function(a){this.Lx=a};a.Ab.prototype.fb=function(){return this.wa.Qk()&&this.Lx};a.Ab.prototype.gb=function(){return this.Ai};a.Ab.prototype.hc=function(a){this.Ai=a};a.Ab.prototype.UV=function(a){this.$F=a};a.Ab.prototype.Jl=function(){return this.$F};a.Ab.prototype.A6=function(){};a.Ab.prototype.zz=function(){return 1};a.Ab.prototype.gV=function(){return"solid"};a.Ab.prototype.aL=function(){return null};
a.Ab.prototype.G7=function(){return this.gV()};a.Ab.prototype.Ny=function(){return this.zz()};a.Ab.prototype.sW=function(c,f,e,h){if(f||h){var u;h||(u=this.X.fe().clone(),u.um(a.Oa.Tk),u.We(!1));if(u=a.La.tW(this.a,f,h,u,this))this.X.B(u),a.La.Fw(u,f,h,c,e);return u}};a.Ab.prototype.bfa=function(){var c=new a.U(Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),f=this.Df();if(f)for(var f=a.Qd.fX(f),e,h,u,t,H=0;H<f.length;H++)e=f[H],h=Math.max(c.x+c.b,e.x),u=Math.max(c.y+c.i,e.y),
t=Math.min(c.x,e.x),e=Math.min(c.y,e.y),c.x=t,c.y=e,c.b=h-t,c.i=u-e;f=new a.U(c.x,c.y,c.b,c.i);h=this.vg();u=this.xi;t=this.yi;H=this.Mg();h&&H&&(null!=u&&(H=a.Bb.zY(H,u,t)),f.x=Math.min(c.x,H.x+h.x),f.y=Math.min(c.y,H.y+h.y),f.b=Math.max(c.x+c.b,H.x+h.x+H.b)-f.x,f.i=Math.max(c.y+c.i,H.y+h.y+H.i)-f.y);return f};a.Ab.prototype.Vh=function(c){this.Pw=c;a.Qd.GX(c)?(this.Fx=c,this.yh=a.Qd.qW(c)):(this.yh=c,this.Fx=a.Qd.pW(c));this.X&&this.X instanceof a.Jb&&(this.X.Dy(this.Fx),this.rD?a.La.Fw(this.rD,
this.Ts(),null,this.yh,1):this.rD=this.sW(this.yh,this.Ts(),1,null),this.HD?a.La.Fw(this.HD,this.Rv(),null,this.yh,0):this.HD=this.sW(this.yh,this.Rv(),0,null));var f=c=null;this.Qm&&this.Qm.Np instanceof a.Jb&&this.Qm.Np.Dy(this.Fx);this.Qm&&(c=this.Qm.Gr)&&a.La.Fw(c,this.Rv(),null,this.yh,0);this.Qm&&(f=this.Qm.Fr)&&a.La.Fw(f,this.Ts(),null,this.yh,1);this.JO&&this.JO.Np instanceof a.Jb&&this.JO.Np.Dy(this.Fx);this.Opa&&this.Opa.setPosition(this.Fba());this.Yka&&this.Yka.setPosition(this.Eba())};
a.Ab.prototype.Df=function(){return this.Pw};a.Ab.prototype.Fba=function(){return this.yh?new a.P(this.yh[0],this.yh[1]):null};a.Ab.prototype.Eba=function(){if(!this.yh)return null;var c=this.yh.length;return new a.P(this.yh[c-2],this.yh[c-1])};a.Ab.QL=function(c,f,e,h){f=new a.Da;null!=e&&(h&&f.translate(-h.x,-h.y),f.rotate(e),h&&f.translate(h.x,h.y));c&&f.translate(c.x,c.y);return f};a.Ab.st=function(c,f,e,h,u){c&&(f=a.Ab.QL(f,e,h,u),c.mb(f))};a.Ab.prototype.v7=function(c,f,e,h,u){f||0==f||(f=1);
e||0==e||(e=0);e=this.Ny()+e;c=new a.ma(c,f,e);return new F(this.a,this.Fx,c,h,u)};a.Ab.prototype.dea=function(a,f,e,h,u){a=this.v7(a,f,e,h,u);this.HD&&this.Rv()&&a.Bqa(this.yh,this.Rv(),null,this);this.rD&&this.Ts()&&a.Aqa(this.yh,this.Ts(),null,this);return a};a.Ab.prototype.d7=function(c,f){var e=this.G7(),e=a.Qd.qJ(e);c.um(e,a.Qd.jM(e,f),a.Qd.kM(e,f))};a.Ab.prototype.QM=function(a,f){if(a){var e=null;f.Zb&&(e=f.Zb());if(e){var h=a.fe()?a.fe().clone():null,u=a.Hd()?a.Hd().clone():null;h&&h.Yp&&
(h.Yp(e),a.Ha(h));u&&u.Yp&&(u.Yp(e),a.Ia(u))}}};a.Ab.prototype.Kd=function(){return null};a.Ab.prototype.md=function(a){return this.lj()&&this.wa.A().renderer?this.wa.X3(this):this.V(a)};a.Ab.prototype.$j=function(){return this.ja()};a.Ab.prototype.rh=function(){};a.Ab.prototype.mf=function(){};a.Ab.prototype.Ae=function(){};a.Ab.prototype.Nwa=function(a){this.x$=a};a.Ab.prototype.rd=function(){return null};a.Ab.prototype.lS=function(){};a.Ab.prototype.lj=function(){return null};a.Yh={};a.f.v(a.Yh,
a.f,"dvt.DiagramLayoutUtils");a.Yh.Au=function(c){return void 0===c||null==c?null:new a.gs(c.x,c.y,c.b,c.i)};a.Yh.A3=function(c){return void 0===c||null==c?null:new a.it(c.x,c.y)};a.Yh.$qa=function(c){return c?new a.U(c.x,c.y,c.w,c.h):null};a.Yh.z3=function(c){return c?new a.P(c.x,c.y):null};a.f.v(F,a.ca,"DvtDiagramLinkUnderlay");F.prototype.Init=function(c,f,e,h,u){f||(f=["M",0,0,"L",1,0]);this.Uj=e;this.Uj||(this.Uj=new a.ma("#ffffff",1,1));e.We(!0);this.Np=new a.Jb(c,f);this.Np.Ha(e);this.Np.Ia(null);
this.Np.Ma(h).sc(u);this.B(this.Np);this.mQ=this.Fr=this.nQ=this.Gr=null};F.prototype.Bqa=function(a,f,e,h){a=this.uW(a,f,e,h,0);this.Gr&&this.removeChild(this.Gr);this.Gr=a;this.nQ=f;this.B(this.Gr)};F.prototype.Aqa=function(a,f,e,h){a=this.uW(a,f,e,h,1);this.Fr&&this.removeChild(this.Fr);this.Fr=a;this.mQ=f;this.B(this.Fr)};F.prototype.uW=function(c,f,e,h,u){var t=this.Uj.clone();t.We(!1);h=a.La.tW(this.a,f,e,t,h);a.La.Fw(h,f,e,c,u);return h};F.prototype.Ha=function(c,f){this.Uj=c;c.We(!0);this.Np.Ha(c);
if(this.Gr){var e=c.clone();e.um(a.Oa.Tk);e.We(!1);if(this.nQ==a.La.HE||this.nQ==a.La.IE)e.jb(f),this.Gr.$a(c.Zb());this.Gr.Ha(e)}if(this.Fr){e=c.clone();e.um(a.Oa.Tk);e.We(!1);if(this.mQ==a.La.HE||this.mQ==a.La.IE)e.jb(f),this.Fr.$a(c.Zb());this.Fr.Ha(e)}};F.prototype.fe=function(){return this.Uj};a.Qd={};a.f.v(a.Qd,a.f,"dvt.DiagramLinkUtils");a.Qd.qJ=function(c){var f=a.Oa.Tk;switch(c){case "dash":f=a.Oa.Zu;break;case "dot":f=a.Oa.bA;break;case "dashDot":f=a.Oa.TL}return f};a.Qd.jM=function(c,f){if(a.Oa.Tk==
c)return null;if(a.Oa.Zu==c)return f?"8,2":"6,4";if(a.Oa.bA==c)return f?"4,1":"2,3";if(a.Oa.TL==c)return f?"10,1,4,1":"8,3,2,3"};a.Qd.kM=function(c,f){return f&&a.Oa.Tk!=c?1:null};a.Qd.hJa=function(c,f){var e=a.Qd.qJ(c);return{_type:c,strokeDasharray:a.Qd.jM(e,f),strokeDashoffset:a.Qd.kM(e,f)}};a.Qd.yKa=function(a){return a?(a=a.split(/[\s,]+/),0<a.length%2&&(a=a.concat(a)),a.toString()):a};a.Qd.PHa=function(c){if(c){c=c.split(/[\s,]+/);for(var f="",e=0;e<c.length;e++){var h=a.j.Xe(a.bc.trim(c[e])),
f=f+(0==e%2?h+2:2<=h?h-2:0);e<c.length-1&&(f+=", ")}return f}return null};a.Qd.pW=function(a){var f=[];if(a)for(var e=0;e<a.length;e+=2)0==e?f.push("M"):f.push("L"),f.push(a[e]),f.push(a[e+1]);return f};a.Qd.qW=function(a){var f=[];if(a)for(var e=0;e<a.length;e++)isNaN(a[e])||f.push(a[e]);return f};a.Qd.GX=function(a){return a&&0<a.length?isNaN(a[0]):!1};a.Qd.fX=function(c){var f=[];c=a.Qd.GX(c)?a.Qd.qW(c):c;for(var e=0;e<c.length;e+=2)f.push(new a.P(c[e],c[e+1]));return f};a.La={};a.f.v(a.La,a.f,
"dvt.DiagramLinkConnectorUtils");a.La.fNa="endConnector";a.La.oPa="startConnector";a.La.hW="arrowOpen";a.La.HE="arrow";a.La.IE="arrowConcave";a.La.jW="rectangle";a.La.kW="rectangleRounded";a.La.iW="circle";a.La.tW=function(c,f,e,h,u){if(e)return a.La.bea(c,e,u);e=u.Ny();switch(f){case a.La.HE:return a.La.eea(c,e,u.aL());case a.La.IE:return a.La.fea(c,e,u.aL());case a.La.hW:return a.La.kea(c,e,h);case a.La.iW:return a.La.Zda(c,e,h);case a.La.jW:return a.La.vW(c,e,h);case a.La.kW:return a.La.nea(c,
e,h)}return null};a.La.Fw=function(c,f,e,h,u){f=a.La.Qda(c,f,e,h,u);c.mb(f)};a.La.Qda=function(c,f,e,h,u){f=-1;var t=0,H=0,y=0;h&&(t=h.length,1===u?(2<=t&&(H=h[t-2],y=h[t-1]),4<=t?(f=h[t-4],t=h[t-3]):(f=H-1E-4,t=y)):(2<=t&&(H=h[0],y=h[1]),4<=t?(f=h[2],t=h[3]):(f=H+1E-4,t=y)));h=H;u=y;f=a.La.Pda(f,t,H,y);H=c.aka;H||(H=c.Wa().clone(),c.aka=H);y=new a.Da;e&&(e=a.La.W_(c),t=c.ng(),c=c.gh(),y.translate(-.5*e.b*t,-.5*e.i*c));y.rotate(f);y.translate(h,u);y.concat(H);return y};a.La.W_=function(a){var f=a.Oja;
f||(f=a.V(),a.Oja=f);return f};a.La.Pda=function(a,f,e,h){return Math.atan2(h-f,e-a)};a.La.fea=function(c,f,e){f=6*a.La.yG(f,.5);var h=.8*f;c=new a.Sf(c,[-.22*f,-.5*h,.78*f,0,-.22*f,.5*h,0,0]);c.$a(e);return c};a.La.eea=function(c,f,e){f=5*a.La.yG(f,.5);var h=.8*f;c=new a.Sf(c,[0,-.5*h,f,0,0,.5*h]);c.$a(e);return c};a.La.yG=function(a,f){return 1>=a?a:1+(a-1)*f};a.La.kea=function(c,f,e){f*=3;var h=e.getWidth();c=new a.Co(c,[-f+h*Math.sqrt(2)/2,-f,h*Math.sqrt(2)/2,0,-f+h*Math.sqrt(2)/2,f]);c.Ha(e);
c.Ia(null);return c};a.La.U3=function(a){return 2*a};a.La.T4=function(a){return 3*a};a.La.Zda=function(c,f,e){f=a.La.U3(f);c=new a.Ui(c,f,0,f);c.Ha(e);c.Ia(null);return c};a.La.vW=function(c,f,e){f=a.La.T4(f);c=new a.Rect(c,0,-f/2,f,f);c.Ha(e);c.Ia(null);return c};a.La.nea=function(c,f,e){c=a.La.vW(c,f,e);c.Qz(f);return c};a.La.bea=function(c,f,e){c=e.wa.P0a();c.xwa(e.getData().L2a());c.G7a(e,e.p1a);c.E8a(e.j4a());return a.c7.jva(c,f,e)};a.La.ANa=function(c,f,e,h,u){return e?(f=a.La.W_(c),c=c.ng(),
.5*f.b*c):a.La.Y4(f,u.Ny(),h.getWidth())};a.La.Y4=function(c,f,e){switch(c){case a.La.hW:return e*Math.sqrt(2);case a.La.HE:return c=a.La.yG(f,.5),5*c;case a.La.IE:return c=a.La.yG(f,.5),4.68*c;case a.La.iW:return 2*a.La.U3(e)+e/2;case a.La.jW:case a.La.kW:return a.La.T4(e)+e/2;default:return 0}};a.K(f.prototype,"getLayout",f.prototype.tsa);a.K(f.prototype,"getLayoutAttributes",f.prototype.Gu);a.K(f.prototype,"getNodeById",f.prototype.Ib);a.K(f.prototype,"getNodeByIndex",f.prototype.sI);a.K(f.prototype,
"getNodeCount",f.prototype.Aj);a.K(f.prototype,"getLinkById",f.prototype.mg);a.K(f.prototype,"getLinkByIndex",f.prototype.oI);a.K(f.prototype,"getLinkCount",f.prototype.fC);a.K(f.prototype,"localToGlobal",f.prototype.Gua);a.K(f.prototype,"isLocaleR2L",f.prototype.iua);a.K(f.prototype,"getComponentSize",f.prototype.Pra);a.K(f.prototype,"setViewport",f.prototype.jxa);a.K(f.prototype,"getViewport",f.prototype.mL);a.K(f.prototype,"getContainerId",f.prototype.PQ);a.K(f.prototype,"setContainerPadding",
f.prototype.dt);a.K(f.prototype,"getContainerPadding",f.prototype.bi);a.K(f.prototype,"getCurrentViewport",f.prototype.Ura);a.K(f.prototype,"getCommonContainer",f.prototype.Ora);a.K(f.prototype,"getEventData",f.prototype.csa);a.K(v.prototype,"getId",v.prototype.getId);a.K(v.prototype,"getBounds",v.prototype.Lv);a.K(v.prototype,"getContentBounds",v.prototype.po);a.K(v.prototype,"setPosition",v.prototype.setPosition);a.K(v.prototype,"getPosition",v.prototype.Th);a.K(v.prototype,"getRelativePosition",
v.prototype.Rsa);a.K(v.prototype,"setLabelPosition",v.prototype.zo);a.K(v.prototype,"getLabelPosition",v.prototype.vg);a.K(v.prototype,"getLabelBounds",v.prototype.Mg);a.K(v.prototype,"getLayoutAttributes",v.prototype.Gu);a.K(v.prototype,"isReadOnly",v.prototype.pua);a.K(v.prototype,"getContainerId",v.prototype.PQ);a.K(v.prototype,"getSelected",v.prototype.tR);a.K(v.prototype,"setLabelRotationAngle",v.prototype.as);a.K(v.prototype,"getLabelRotationAngle",v.prototype.dC);a.K(v.prototype,"setLabelRotationPoint",
v.prototype.bs);a.K(v.prototype,"getLabelRotationPoint",v.prototype.eC);a.K(v.prototype,"setContainerPadding",v.prototype.dt);a.K(v.prototype,"getContainerPadding",v.prototype.bi);a.K(v.prototype,"setDisclosed",v.prototype.In);a.K(v.prototype,"isDisclosed",v.prototype.gd);a.K(v.prototype,"setChildNodes",v.prototype.BL);a.K(v.prototype,"getChildNodes",v.prototype.Of);a.K(v.prototype,"getParentNode",v.prototype.Osa);a.K(v.prototype,"setLabelValign",v.prototype.CC);a.K(v.prototype,"setLabelHalign",v.prototype.BC);
a.K(v.prototype,"getLabelValign",v.prototype.aR);a.K(v.prototype,"getLabelHalign",v.prototype.Fu);a.K(v.prototype,"getData",v.prototype.getData);a.K(x.prototype,"getId",x.prototype.getId);a.K(x.prototype,"getStartId",x.prototype.Ri);a.K(x.prototype,"getEndId",x.prototype.Ah);a.K(x.prototype,"setPoints",x.prototype.Vh);a.K(x.prototype,"getPoints",x.prototype.Df);a.K(x.prototype,"setLabelPosition",x.prototype.zo);a.K(x.prototype,"getLabelPosition",x.prototype.vg);a.K(x.prototype,"getLabelBounds",x.prototype.Mg);
a.K(x.prototype,"getStartConnectorOffset",x.prototype.jL);a.K(x.prototype,"getEndConnectorOffset",x.prototype.UK);a.K(x.prototype,"getLinkWidth",x.prototype.zz);a.K(x.prototype,"getLayoutAttributes",x.prototype.Gu);a.K(x.prototype,"getSelected",x.prototype.tR);a.K(x.prototype,"setLabelRotationAngle",x.prototype.as);a.K(x.prototype,"setLabelRotationAngle",x.prototype.dC);a.K(x.prototype,"setLabelRotationPoint",x.prototype.bs);a.K(x.prototype,"getLabelRotationPoint",x.prototype.eC);a.K(x.prototype,
"isPromoted",x.prototype.Jl);a.K(x.prototype,"setLabelValign",x.prototype.CC);a.K(x.prototype,"setLabelHalign",x.prototype.BC);a.K(x.prototype,"getLabelValign",x.prototype.aR);a.K(x.prototype,"getLabelHalign",x.prototype.Fu);a.K(x.prototype,"setCoordinateSpace",x.prototype.u6);a.K(x.prototype,"getCoordinateSpace",x.prototype.Tra);a.K(x.prototype,"getData",x.prototype.getData);a.K(a,"DiagramPoint",a.it);a.K(a,"DiagramRectangle",a.gs)})(dvt);
(function(a){function F(a){this.Init(a)}function D(a,c,e){this.Init(a,c,e)}function E(a,c,e,h){this.Init(a,c,e,h)}function v(a,c){this.Init(a,c)}function x(a,c,e){this.Init(a,c,e);this.wa=e;this.C$=this.B$=null}function f(a,c,e,h){this.Init(a,c,e,h)}function c(a,c,e){this.Init(a,c,e)}function p(){this.Init({skyros:p.If,alta:p.Rg})}function e(a,c){e.C.constructor.call(this,a,c);this.XKa(e.pZ);this.wa=c}var h={};a.f.v(h,a.f);h.Ica=function(c,e){!c||null==c[e]||c[e]instanceof Object||(c[e]=a.j.HK(c[e]))};
h.qva=function(c){c&&null!=c.style&&(c.style instanceof Object?null==c.style._type&&(c.style._type=E.o7):c.style=a.Qd.hJa(c.style))};h.GIa=function(a){a=a.A().styleDefaults.nodeDefaults;h.Ica(a,"backgroundStyle");h.Ica(a,"containerStyle");return a};h.KIa=function(c,e,f){var p=D.IMa(e);c.A().nodeProperties&&(c=a.bb.clone(c.A().nodeProperties(e)),h.Ica(c,"backgroundStyle"),h.Ica(c,"containerStyle"),p=a.bb.ae(p,c,{_origData:!0}));return a.bb.ae(p,f,{_origData:!0})};h.iIa=function(c,e){var f=c.A().styleDefaults[e];
h.qva(f);f.style=a.bb.ae(f[c.a.sp?"svgStyle":"style"],f._style);c.a.sp&&a.Y.forEach(["_type"],function(a){delete f.style[a]});return f};h.l3a=function(c,e,f){var p=E.HMa(e);c.A().linkProperties&&(c=a.bb.clone(c.A().linkProperties(e)),h.qva(c),p=a.bb.ae(p,c,{_origData:!0}));return a.bb.ae(p,f,{_origData:!0})};h.Lb=function(c){return a.Za.Aq(c.A().styleDefaults.animationDuration)/1E3};h.N3=function(a){return a.A().animationOnDisplay};h.NQ=function(a){return a.A().animationOnDataChange};a.Nb=function(a,
c,e){this.Init(a,c,e)};a.f.v(a.Nb,a.Bb);a.Nb.prototype.Init=function(c,e,h){a.Nb.C.Init.call(this,c,e,h);this.Ff=new p;this.u=new x(c,this.Ef,this);this.u.Lf(this);a.m.cb()||this.u.Zr(new v(this,this.u));this.oi={};this.BT=[];this.eD=[];this.xh={};this.AT=[];this.G_=this.Gs=0;this.KZ={};this.oQ=[];this.l1=[]};a.Nb.newInstance=function(c,e,h){return new a.Nb(c,e,h)};a.Nb.prototype.e8=function(){!this.kz&&this.ws&&("none"!=h.NQ(this)&&(this.pz=new c(this)),this.lD=this.pc.mL(),this.ws=!1,this.sK=this.pc,
this.Apa(this.A().data,!1));this.kz?this.VG&&this.VG.Cwa(null):(this.YOa(),this.sP=this.VG,this.VG=null)};a.Nb.prototype.YOa=function(){this.$Ka(new a.ca(this.a));this.hLa(new a.ca(this.a));this.uLa(new a.ca(this.a));this.oi={};this.BT=[];this.eD=[];this.xh={};this.AT=[];this.JT=this.qr=this.pH=this.uD=null;this.A().nodes=[];this.A().links=[];this.KZ={};this.oQ=[]};a.Nb.prototype.rq=function(){this.mh&&(this.removeChild(this.mh),this.mh.Ec());this.mh=null;this.Cb&&this.Ob().Lf(this);this.Bj||this.nl();
this.Cb=null;this.Bj=!1;this.ws&&(this.pz=null)};a.Nb.prototype.Mf=function(c,e){var h=new a.td(this.a,null,c.Lb()),p=e.NOa,n=this.pc.$c.Wa();p.mc(n)||(this.pc.$c.mb(p),h.da.aa(a.L.ji,this.pc.$c,this.pc.$c.Wa,this.pc.$c.mb,n));p=e.FX?e.j1:this.I7();n=e.FX?e.L$:this.jya();c.Dn(e.oi,p);c.Dn(e.xh,n);c.add(h,f.tj)};a.Nb.prototype.BFa=function(a,c){if(null==c||this.ena(c.id)||this.wVa(a,c)){var e=a.getData(c);this.G_++;var h=this,n=this.Gs;e.then(function(e){h.pFa(n,a,c?c:h.A(),e)},function(){h.pFa(n,
a,c?c:h.A(),null)})}};a.Nb.prototype.pFa=function(a,c,e,h){if(a===this.Gs){if(null!=h){if(e.nodes=h.nodes,Array.isArray(h.links)&&(this.A().links=this.A().links.concat(h.links)),this.OVa(h),Array.isArray(e.nodes))for(this.l1=this.l1.concat(e.nodes);0<this.l1.length;)this.BFa(c,this.l1.shift())}else e.nodes=null;this.G_--;0===this.G_&&this.Bga()}};a.Nb.prototype.OVa=function(a){if("none"!==this.A().promotedLinkBehavior){if(Array.isArray(a.nodes))for(var c=0;c<a.nodes.length;c++)this.KZ[a.nodes[c].id]=
!0;for(c=this.oQ.length-1;0<=c;c--)this.KZ[this.oQ[c]]&&this.oQ.splice(c,1);if(Array.isArray(a.links))for(c=0;c<a.links.length;c++){var e=a.links[c];this.KZ[e.startNode]||this.oQ.push(e.startNode);this.KZ[e.endNode]||this.oQ.push(e.endNode)}}};a.Nb.prototype.wVa=function(a,c){var e=this.A().promotedLinkBehavior;return"none"===e||0==this.oQ.length||"lazy"==e&&0>=a.getChildCount(c)?!1:"disjoint"!=a.getDescendantsConnectivity(c)};a.Nb.prototype.Apa=function(a,c){a&&(this.Eka||(this.Eka=this.Jta.bind(this,
"add")),this.Gka||(this.Gka=this.Jta.bind(this,"remove")),this.Fka||(this.Fka=this.Jta.bind(this,"change")),c?(a.on("add",this.Eka),a.on("remove",this.Gka),a.on("change",this.Fka)):(a.off("add",this.Eka),a.off("remove",this.Gka),a.off("change",this.Fka)))};a.Nb.prototype.Fm=function(){a.Nb.C.Fm.call(this);this.Gya();this.G_=0;this.l1=[];if(this.ws||this.kz)0===this.G_&&this.Bga();else{this.Gs++;var c=this.A().data;c?(this.Apa(c,!1),this.BFa(c,null)):this.Bga()}};a.Nb.prototype.Bga=function(){var a=
!1;this.ws||this.kz||(this.Apa(this.A().data,!0),this.u6a(this.A().nodes),this.Sva(this.A().links),this.a.DL([this]));if(a=0===Object.keys(this.oi).length)this.daa(a);else{this.contains(this.sK)||this.B(this.sK);var c=this.qE(),e=this,h=this.Gs;c.then(function(){h===e.Gs&&e.daa(a)},function(){h===e.Gs&&(e.removeChild(e.sK),e.sK=null,e.ws=!0,this.lD=null)})}};a.Nb.prototype.daa=function(c){var e;if(!c){this.removeChild(this.sK);this.qU();this.wK();this.HU();if(e=null==this.OA)this.OA=this.NS();this.PVa()}this.sK=
null;this.Vq(!0);var p=h.N3(this),y=h.NQ(this);this.ws||"none"===p||this.pz?"none"!==y&&this.pz&&(this.mh=new a.ca(this.a,"Delete Container"),this.B(this.mh),p=new f(this.a,this.mh,this.pz,this),p.Dn([this.pz],[this]),this.Cb=p.vz()):this.Cb=a.Ra.YD(this.a,a.Ra.Vz,this,null,h.Lb(this));this.Cb?(this.Ob().ed(),this.Ob().kn(this),this.Cb.pg(this.rq,this),this.Cb.play()):this.rq();this.ws=!0;this.lD=null;this.bza(c);this.oU&&(c=this.OA,null!=c&&(p=this.pc.Vo(),this.Uda(c.x,c.y,c.b,c.i,p)));this.Mxa();
e&&(this.OA=null)};a.Nb.prototype.PVa=function(){var a=this.pc;if(!this.ws){this.qda(this.OA);if(!this.kz){var c=this.XS(),e=c?this.WG:this.OA;c&&a.xLa();a.mJ(null,e)}a.TV(this.oU);a.nS(this.dL());a.L6(this.Gaa);a.kxa(this.Gaa)}else if(this.kz||this.REa)e=this.qda(this.OA),e=(c=this.XS())?this.WG:e?e:this.OA,c&&a.xLa(),a.kxa(!0),a.mJ(null,e),a.kxa(this.Gaa)};a.Nb.prototype.ne=function(c){a.Nb.C.ne.call(this,c);this.J.nodes=[];this.J.links=[];this.oKa(this.J);this.zza("none"!=this.J.panning);this.Aza("none"!=
this.J.zooming);this.I7a();this.qS(this.J.selectionMode);this.Xca(this.J.emptyText?this.J.emptyText:a.I.Zc(this.J,"labelNoData",a.I.pa,"NO_DATA"))};a.Nb.Uo=function(a){return(new p).Uo(a)};a.Nb.prototype.iy=function(){var a=this.A().maxZoom,a=parseFloat(a);return 0<a?a:1};a.Nb.prototype.hC=function(){var a=this.A().minZoom;if(a){var c=parseFloat(a);0<c&&(a=Math.min(c,this.iy()));return a}return 0};a.Nb.prototype.dL=function(){return this.A().panDirection};a.Nb.prototype.Lb=function(){return h.Lb(this)};
a.Nb.prototype.Ef=function(a){var c=a.type;"categoryHighlight"==c?this.qU(!0):"selection"==c&&(this.A().selection=a.selection);a&&this.dispatchEvent(a)};a.Nb.prototype.u6a=function(a){a&&(this.caa(null,a),this.bv||(this.bv=(a=this.A().expanded)?"all"===a?this.BT:a:[]))};a.Nb.prototype.Sva=function(c){if(c){for(var e=h.iIa(this,"linkDefaults"),f=0;f<c.length;f++){var p=c[f];if(!this.wXa(p)){var p=h.l3a(this,p,e),p=E.newInstance(this,p,!1),n=p.getId();this.AT.push(n);if(!p.eua()){var z=this.Ib(p.Ri()),
w=this.Ib(p.Ah());z.tqa(n);w.oqa(n);p.ia();this.xh[n]=p}}}if(this.pH){c=h.iIa(this,"promotedLink");for(var A in this.pH)this.xh[A]||(p=this.pH[A],p=a.bb.ae(p,c),p=E.newInstance(this,p,!0),n=p.getId(),z=this.Ib(p.Ri()),w=this.Ib(p.Ah()),z.tqa(n),w.oqa(n),p.ia(),this.AT.push(n),this.xh[n]=p)}}};a.Nb.prototype.qE=function(){var c=this.A().layout,e=this.KWa();e.swa({});if(this.lD){var h=this.lD,f=this.usa(),h=new a.gs(h.x-f.x,h.y-f.y,h.b,h.i);e.RKa(h)}if(c&&"function"==typeof c){h=e.Aj();for(f=0;f<h;f++)this.HKa(e.sI(f));
var n=this;(c=c(e))||(c={then:function(a){a()}});this.KV(0);var z=this.Gs;c.then(function(){if(n.Gs===z||n.kz){n.KV(1);n.pz&&n.pz.KLa(e);for(var a=e.Aj(),c=0;c<a;c++)n.GV(e.sI(c),!0);n.uda(e,!0)}},function(){});return c}this.Nfa("dvt.Diagram: Layout function is not defined")};a.Nb.prototype.KV=function(a){this.ws||(this.hB.qa(a),this.hu.qa(a))};a.Nb.prototype.Ib=function(a){return this.oi[a]};a.Nb.prototype.mg=function(a){return this.xh[a]};a.Nb.prototype.zJ=function(){return this.AT};a.Nb.prototype.xNa=
function(){var a={};if(this.xh)for(var c in this.xh)a[c]=this.xh[c];return a};a.Nb.prototype.jya=function(){var a=[];if(this.xh)for(var c in this.xh)a.push(this.xh[c]);return a};a.Nb.prototype.JS=function(){return this.BT};a.Nb.prototype.zNa=function(){var a={};if(this.oi)for(var c in this.oi)a[c]=this.oi[c];return a};a.Nb.prototype.yNa=function(){var a=[];if(this.oi)for(var c in this.oi)a.push(this.oi[c]);return a};a.Nb.prototype.F7=function(){return this.eD};a.Nb.prototype.I7=function(){for(var a=
[],c=0;this.eD&&c<this.eD.length;c++){var e=this.oi[this.eD[c]];e&&a.push(e)}return a};a.Nb.prototype.Bo=function(c){a.Nb.C.Bo.call(this,c);switch(c.Cn){case a.vd.u8:if(this.oU){c=c.hU;var e=this.OA?this.OA:this.NS();this.Uda(e.x,e.y,e.b,e.i,c)}break;case a.vd.Xga:this.XS()||(e=this.OA?this.OA:this.NS(),c.wLa(e));break;case a.vd.MY:if(this.A().zoomRenderer&&c.$na!==c.hU)for(e in this.oi)this.Ib(e).b7a(c)}};a.Nb.prototype.lV=function(a){var c=[],e;for(e in this.xh){var h=this.mg(e),n=h.Ri(),f=h.Ah();
n!=a&&f!=a||!h.Wy||c.push(h)}return c};a.Nb.prototype.vk=function(){return a.I.Ja(a.I.pa,"DIAGRAM")};a.Nb.prototype.wK=function(){if(this.J.selection&&this.Qk()){var a=[],c;for(c in this.oi)a.push(this.Ib(c));for(var e in this.xh)a.push(this.mg(e));this.Ue().Vr(this.J.selection,a)}};a.Nb.prototype.qU=function(c){c&&this.u.kn(this,!0);this.uD&&(this.dGa(!1,this.uD),this.uD=null);var e=this.J.highlightedCategories;if(e&&0!==e.length){var h="any"==this.J.highlightMatch;this.uD={};var f=[],n;for(n in this.oi){var z=
this.Ib(n),w=h?a.Y.$s(z.rd(),e):a.Y.BR(z.rd(),e);w&&(this.uD[z.getId()]=z,f.push(z))}this.AYa(f);var f=[],p;for(p in this.xh)if(n=this.mg(p),w=h?a.Y.$s(n.rd(),e):a.Y.BR(n.rd(),e))this.uD[n.getId()]=n,f.push(n);"linkAndNodes"==this.J.linkHighlightMode&&this.$Ea(f);this.dGa(!0,this.uD);if(c){var d=this;setTimeout(function(){d.Ob().Lf(d)},0)}}else c&&this.u.Lf(this)};a.Nb.prototype.AYa=function(a){var c=this.J.nodeHighlightMode;if("node"!=c){for(var e="nodeAndIncomingLinks"==c||"nodeAndLinks"==c,c="nodeAndOutgoingLinks"==
c||"nodeAndLinks"==c,h=[],n=0;n<a.length;n++)for(var f=a[n],w=e&&f.ox?f.ox:[],w=c&&f.Cx?w.concat(f.Cx):w,f=0;f<w.length;f++){var p=w[f];this.uD[p]=this.mg(p);h.push(this.mg(p))}this.$Ea(h)}};a.Nb.prototype.$Ea=function(a){for(var c=0;c<a.length;c++){var e=a[c],h=e.Ri(),e=e.Ah();this.uD[h]=this.Ib(h);this.uD[e]=this.Ib(e)}};a.Nb.prototype.dGa=function(a,c){var e;if(this.BT.length==this.eD.length){e=a?this.J.styleDefaults._highlightAlpha:1;this.hB.qa(e);this.hu.qa(e);for(var h in c)a?this.dKa(c[h]):
c[h]instanceof E?this.eKa(c[h]):c[h]instanceof D&&this.fKa(c[h])}else if(a){e=this.J.styleDefaults._highlightAlpha;var n={};for(h in c)c[h].qa(1),n[h]=!0;for(var f in this.oi)n[f]||this.Ib(f).qa(e);for(var w in this.xh)n[w]||this.mg(w).qa(e)}else{for(f in this.oi)this.Ib(f).qa(1);for(w in this.xh)this.mg(w).qa(1)}};a.Nb.prototype.Zd=function(c){this.J.highlightedCategories=a.bb.clone(c);this.qU()};a.Nb.prototype.select=function(c){this.J.selection=a.bb.clone(c);this.wK()};a.Nb.prototype.Bi=function(){this.Lc||
(this.Lc=new F(this));return this.Lc};a.Nb.prototype.Nfa=function(a){var c=this.A()._logger;if(c)switch(1){case 1:c.error&&c.error(a);break;case 2:c.warn&&c.warn(a);break;case 3:c.info&&c.info(a);break;default:c.log&&c.log(a)}};a.Nb.prototype.zy=function(a,c){var e=this.Ib(a);e&&e.zy(c)};a.Nb.prototype.OI=function(a,c){var e=this.Ib(a);e&&e.OI(c)};a.Nb.prototype.vC=function(a,c){var e=this.Ib(a);e&&e.vC(c)};a.Nb.prototype.vS=function(c){if(c.Sy){var e=this.Ib(c.getId());c.cS(a.Yh.Au(e.bR(!0)));c.dS(a.Yh.Au(e.po(!0)));
c.$r(a.Yh.Au(e.Mg(!0)))}else this.GV(c,!0)};a.Nb.prototype.HKa=function(a){if(this.Ib(a.getId()).gd()){a=a.Of();for(var c=0;c<a.length;c++)this.HKa(a[c])}else this.GV(a,!1)};a.Nb.prototype.GV=function(c,e){if(!c.Sy){var h=this.Ib(c.getId());if(h.gd()){var f=this.r7();f.swa(c.ot?c.ot.UA:null);this.pz&&this.pz.KLa(f);for(var n=c.Of(),z=0;z<n.length;z++){var w=n[z];this.GV(w,!1);f.Laa(w)}for(z=0;z<n.length;z++)this.vS(n[z]);this.uda(f)}h.ia();(f=h.gd()?h.bi():null)&&c.dt(f.top,f.right,f.bottom,f.left);
c.cS(a.Yh.Au(h.bR(e)));c.dS(a.Yh.Au(h.po(e)));c.$r(a.Yh.Au(h.Mg(e)));c.Sy=!0}};a.Nb.prototype.caa=function(a,c){if(c)for(var e=h.GIa(this),f=0;f<c.length;f++){var n=h.KIa(this,c[f],e),z=D.newInstance(this,n),w=z.getId();a?(a.W_a(w),z.Gwa(a.getId())):this.eD.push(w);this.BT.push(w);n.nodes&&0<n.nodes.length&&(this.ena(w)?(z.In(!0),this.caa(z,n.nodes)):this.HTa(z));z.eua()||(a&&a.cX()?a.cX().B(z):this.hu.B(z),this.oi[w]=z)}};a.Nb.prototype.gLa=function(c,e){var h=-1;this.bv&&(h=a.Y.$b(this.bv,c));(!e&&
-1<h||e&&0>h)&&this.dispatchEvent(new a.la.bd(e?"beforeExpand":"beforeCollapse",c))};a.Nb.prototype.expand=function(c){this.bv||(this.bv=[]);0>a.Y.$b(this.bv,c)&&(this.bv.push(c),this.ia(this.A(),this.Na,this.ab),this.dispatchEvent(new a.la.bd("expand",c)))};a.Nb.prototype.collapse=function(c){var e=-1;this.bv&&(e=a.Y.$b(this.bv,c));-1<e&&(this.bv.splice(e,1),this.ia(this.A(),this.Na,this.ab),this.dispatchEvent(new a.la.bd("collapse",c)))};a.Nb.prototype.ija=function(a,c,e,h){a.gd()&&(a=this.dCa(c,
e,a.jD,h),c.BL(a))};a.Nb.prototype.$Ta=function(c,e,h,f,n){c.gd()&&(f=f.reduce(function(a,c){a.push(c.id);return a},[]),h=this.dCa(e,h,f,!0),f=e.Of()||[],h=a.Y.Vta(f,h,n),e.BL(h),e.In(!0),e.E8(a.Bb.zba(c.bi())),e.JJ())};a.Nb.prototype.dCa=function(a,c,e,h){for(var n=[],f=0;f<e.length;f++){var w=this.Ib(e[f]);if(w.Wy){var p=this.u7(w,null,h,c);p.MU(this.sP?this.sP.Ib(e[f]):null);c.uGa(p);p.lLa(a);n.push(p);this.ija(w,p,c,h)}}return n};a.Nb.prototype.ena=function(c){var e=this.bv?this.bv:this.A().expanded;
return e&&-1<a.Y.$b(e,c)||e&&-1<a.Y.$b(e,"all")};a.Nb.prototype.wXa=function(a){var c=this.Ib(a.startNode),e=this.Ib(a.endNode);if(c&&e||!this.JT)return!1;if("none"===this.A().promotedLinkBehavior)return!0;c=c?c.getId():this.DCa(a.startNode);e=e?e.getId():this.DCa(a.endNode);if(!c||!e||c===e)return!1;var h=E.rya(c,e);this.pH||(this.pH={});this.pH[h]?this.pH[h]._links.push(a):this.pH[h]={id:h,startNode:c,endNode:e,_links:[a]};this.qr||(this.qr={});this.qr[a.id]=h;return!0};a.Nb.prototype.HTa=function(a){this.JT||
(this.JT=[]);this.JT.push(a)};a.Nb.prototype.DCa=function(a){function c(a,e){if(a)for(var h=0;h<a.length;h++)if(a[h].id===e||c(a[h].nodes,e))return!0;return!1}for(var e=0;e<this.JT.length;e++){var h=this.JT[e];if(c(h.getData().nodes,a))return h.getId()}return null};a.Nb.prototype.HU=function(){var a=this.Ob().Fe(),c=!1;if(a){var e;a instanceof D?e=this.Ib(a.getId()):a instanceof E&&(e=this.mg(a.getId()));c=a.Ae();e&&c&&e.rh();this.Ob().Pu(e)}};a.Nb.prototype.M0a=function(){this.bv=null};a.Nb.prototype.zPa=
function(c){if(this.Ob().ZS)if(c=this.a.nf(c.pageX,c.pageY),c=this.pc.$c.pf({x:c.x,y:c.y}),this.N0){var e=this.N0.Df();this.N0.Vh([e[0],e[1],c.x,c.y])}else{var f=this.Ob().vc.eo;if(f instanceof D){var e=this.Ob().vc.X9,e=this.pc.$c.pf({x:e.x,y:e.y}),p=this.A().styleDefaults.linkDefaults;h.qva(p);var n=this.A().dnd.drag.ports.linkStyle;n&&"function"===typeof n&&(n=n({dataContext:f.zj(),portElement:f.b9}))&&(p.style=a.bb.ae(n.svgStyle,p.style),p.svgClassName=n.svgClassName||p.className);f={id:"linkFeedback",
startNode:f.getId(),endNode:f.getId()};f=a.bb.ae(f,p);f=E.newInstance(this,f,!1);this.hu.B(f);f.dd(!1);f.Vh([e.x,e.y,c.x,c.y]);this.N0=f}}};a.Nb.prototype.bOa=function(){this.hu.removeChild(this.N0);this.N0=null};a.Nb.prototype.Jta=function(a,e){"none"!==h.NQ(this)&&(this.pz=new c(this,a,e));this.lD=this.pc.mL();if(this.oU){var f=this.pc;f.E6(null);f.C6(null);f.D6(null);f.B6(null)}var f=e.data.nodes,p=e.data.links,n,z;if("add"==a)(z=(n=e.parentId)?this.Ib(n):null)?(z.m0a(f,e.index),this.ena(n)&&(z.In(!0),
this.caa(z,f))):this.caa(null,f),this.Sva(p);else if("change"==a){if(f)for(n=h.GIa(this),z=0;z<f.length;z++){var w=this.Ib(f[z].id);if(w){var A=h.KIa(this,f[z],n);w.setData(A)}}p&&(this.Eoa(p),this.Sva(p))}else"remove"==a&&((z=(n=e.parentId)?this.Ib(n):null)?(this.Goa(z,f),z.L6a(f),z.getData().nodes&&0!==z.getData().nodes.length||z.In(!1)):this.Goa(null,f),this.Eoa(p));this.pz&&this.pz.k9a(a,e);this.A_a(a,e);if(f=0===this.JS().length)this.daa(f);else{this.Gs++;var f=this.qE(),d=this,g=this.Gs;f.then(function(){g===
d.Gs&&(d.REa=!0,d.daa(!1),d.REa=!1)},function(){g===d.Gs&&(d.removeChild(d.sK),d.sK=null,d.ws=!0,this.lD=null)})}};a.Nb.prototype.A_a=function(a,c){this.VG||(this.VG=this.r7());var e=this.VG;e.Cwa({type:a,data:c});var h=c.data.nodes,n=c.data.links,f,w,p,d,g;c.parentId&&(d=e.Ib(c.parentId),g=this.Ib(c.parentId));if("add"==a){if(h)if(d&&g)d.fT(),this.$Ta(g,d,e,h,c.index);else for(f=0;f<h.length;f++)p=h[f].id,this.Ib(p)&&(w=this.u7(this.Ib(p),null,!0,e),this.ija(this.Ib(p),w,e,!0),e.Laa(w));if(n)for(f=
0;f<n.length;f++)h=n[f].id,(h=this.mg(h)||this.mg(this.qr[h]))&&!e.mg(h.getId())&&(w=h.getData().startNode,p=h.getData().endNode,e.Ib(w)&&e.Ib(p)&&e.Iaa(this.t7(h,w,p,null,e)))}else if("change"==a){if(h)for(f=0;f<h.length;f++)p=h[f].id,w=e.Ib(p),w.fT(),w.JJ();if(n){for(f=e.fC()-1;0<=f;f--)h=e.oI(f),this.xh[h.getId()]||e.Lca(h);for(f=0;f<n.length;f++)if(h=n[f].id,h=this.mg(h)||this.mg(this.qr[h]))e.Lca(e.mg(h.getId())),w=h.getData().startNode,p=h.getData().endNode,e.Ib(w)&&e.Ib(p)&&e.Iaa(this.t7(h,
w,p,null,e))}}else if("remove"==a){if(h){for(f=0;f<h.length;f++)p=h[f].id,w=e.Ib(p),e.removeNode(d,w);d&&g&&(d.fT(),d.JJ(),d.In(g.gd()))}for(f=e.fC()-1;0<=f;f--)h=e.oI(f),this.xh[h.getId()]||e.Lca(h)}};a.Nb.prototype.KWa=function(){if(!this.VG){for(var a=this.r7(),c=0;c<this.eD.length;c++){var e=this.eD[c];if(this.Ib(e)){var h=this.ws?!1:!0,n=this.Ib(e),f=this.u7(n,null,h,a);f.MU(this.sP?this.sP.Ib(e):null);this.ija(n,f,a,h);a.Laa(f)}}for(var w in this.xh)if(c=this.mg(w))e=c.getData().startNode,h=
c.getData().endNode,a.Ib(e)&&a.Ib(h)&&(c=this.t7(c,e,h,null,a),c.MU(this.sP?this.sP.mg(w):null),a.Iaa(c));this.VG=a;this.sP=null}return this.VG};a.Nb.prototype.Goa=function(c,e){if(e&&(!c||c.gd())){for(var h=[],f=0;f<e.length;f++){var n=e[f].id,z=this.Ib(n);this.Goa(z,z.getData().nodes);for(var w in this.xh){var p=this.mg(w);p&&(p.Ri()!=n&&p.Ah()!=n||h.push(p.getData()))}c?c.J6a(z):(a.Y.removeItem(this.eD,n),this.hu.removeChild(z));a.Y.removeItem(this.BT,n);this.oi[n]=null}this.Eoa(h)}};a.Nb.prototype.Eoa=
function(c){if(c&&0!=c.length)for(var e=0;e<c.length;e++){var h=c[e].id,f=this.mg(h);if(f){var n=f.getParent();n.removeChild(f);var n=this.Ib(f.Ri()),z=this.Ib(f.Ah());n&&n.Lva(h);z&&z.Kva(h);a.Y.removeItem(this.AT,h);this.xh[h]=null}else if(this.qr[h]){var f=this.qr[h],w=this.xh[f];if((n=w?w.getData()._links:null)&&1==n.length&&n[0].id==h)n=w.getParent(),n.removeChild(w),n=this.Ib(w.Ri()),z=this.Ib(w.Ah()),n&&n.Lva(f),z&&z.Kva(f),a.Y.removeItem(this.AT,w.getId()),this.xh[w.getId()]=null,this.pH[w.getId()]=
null,this.qr[h]=null;else if(n){for(e=0;e<n.length;e++)n[e].id==h&&n.splice(e,1);this.qr[h]=null}}}};a.I.ND(a.I.BW,{PROMOTED_LINK:"{0} link",PROMOTED_LINKS:"{0} links",PROMOTED_LINK_ARIA_DESC:"Indirect"});a.f.v(e,a.sd,"DvtDiagramCategoryRolloverHandler");e.pZ=100;e.prototype.nX=function(c){return a.f.Ni(this,function(){this.NY(!0);this.wa.Ef(c)})};e.prototype.mX=function(c){return a.f.Ni(this,function(){this.OY();this.wa.Ef(c)})};a.f.v(p,a.ka,"DvtDiagramDefaults");p.If={skin:a.j.Rg,emptyText:null,
selectionMode:"none",animationOnDataChange:"none",animationOnDisplay:"none",maxZoom:1,highlightMatch:"all",nodeHighlightMode:"node",linkHighlightMode:"link",panning:"none",touchResponse:"auto",zooming:"none",promotedLinkBehavior:"lazy",_statusMessageStyle:new a.j(a.ka.pj),dnd:{drag:{nodes:{},ports:{}},drop:{background:{},nodes:{},links:{},ports:{}}},styleDefaults:{animationDuration:500,hoverBehaviorDelay:200,_highlightAlpha:.1,nodeDefaults:{_containerStyle:new a.j("border-color:#abb3ba;background-color:#f9f9f9;border-width:.5px;border-radius:1px;padding-top:20px;padding-left:20px;padding-bottom:20px;padding-right:20px;"),
labelStyle:a.ka.MW+"color:#383A47",hoverInnerColor:"rgb(255,255,255)",hoverOuterColor:"rgba(0,0,0, .3)",selectionColor:"rgb(0,0,0)",icon:{width:10,height:10,fillPattern:"none",shape:"circle"}},linkDefaults:{startConnectorType:"none",endConnectorType:"none",width:1,_style:{_type:"solid"},hoverInnerColor:"rgb(255,255,255)",hoverOuterColor:"rgba(0,0,0, .3)",selectionColor:"rgb(0,0,0)",labelStyle:a.ka.MW+"color:#383A47",_hitDetectionOffset:10},promotedLink:{startConnectorType:"none",endConnectorType:"none",
width:1,_style:{_type:"dot",strokeDasharray:"2,3"},color:"#778999",hoverInnerColor:"rgb(255,255,255)",hoverOuterColor:"rgba(0,0,0, .3)",selectionColor:"rgb(0,0,0)",_hitDetectionOffset:10}}};p.prototype.bL=function(){return{data:!0}};p.Rg={};a.f.v(c,a.f,"DvtDiagramDataAnimationState");c.prototype.Init=function(a,c,e){this.wa=a;this.oi=[];this.j1=[];this.xh=[];this.L$=[];this.rz={};this.NOa=this.wa.pc.$c.Wa();this.FX=c&&e?!0:!1;this.AOa=this.wa.zNa();this.kOa=this.wa.xNa();this.d_a(c,e);this.c_a(c,
e)};c.prototype.getId=function(){return this.wa.getId()};c.prototype.A=function(){return this.wa.A()};c.prototype.k9a=function(a,c){if(c){var e=c.data.nodes,h=c.data.links,n;if("add"==a){for(n=0;e&&n<e.length;n++){var f=this.wa.Ib(e[n].id);f&&(!0===this.H_a&&this.j1.push(f),this.rz[f.getId()]=!0)}for(n=0;h&&n<h.length;n++)if(e=h[n].id,e=this.wa.mg(e)||this.wa.qr&&this.wa.mg(this.wa.qr[e]))this.L$.push(e),this.rz[e.getId()]=!0}else if("change"==a)for(n=0;h&&n<h.length;n++)if(e=h[n].id,e=this.wa.mg(e)||
this.wa.qr&&this.wa.mg(this.wa.qr[e]))this.L$.push(e),this.rz[e.getId()]=!0}};c.prototype.KLa=function(a){if(this.FX){a=a.UA;for(var c in a)this.rz[c]||this.rz[c]||(a=this.wa.Ib(c)||this.wa.mg(c),a instanceof D?(this.oi.push(a.WU()),this.j1.push(a),this.rz[c]=!0):a instanceof E&&(this.xh.push(a.WU()),this.L$.push(a),this.rz[c]=!0))}};c.prototype.d_a=function(a,c){if(this.FX){var e=c.data.nodes,h=c.parentId;if("add"==a)this.dja(h);else if("change"==a)for(h=0;e&&h<e.length;h++){var n=this.wa.Ib(e[h].id);
n&&(this.dja(n.lj()),this.oi.push(n.WU()),this.j1.push(n),this.rz[n.getId()]=!0)}else if("remove"==a&&(this.dja(h),e&&!h))for(h=0;h<e.length;h++)if(n=this.wa.Ib(e[h].id))this.oi.push(n),this.rz[n.getId()]=!0}else this.oi=this.wa.I7()};c.prototype.c_a=function(a,c){if(this.FX){var e=c.data.links;if(e){var h,n;if("change"==a)for(h=0;h<e.length;h++){if(n=e[h].id,n=this.wa.mg(n)||this.wa.qr&&this.wa.mg(this.wa.qr[n]))this.xh.push(n.WU()),this.rz[n.getId()]=!0}else if("remove"==a)for(h=0;h<e.length;h++)if(n=
e[h].id,n=this.wa.mg(n)||this.wa.qr&&this.wa.mg(this.wa.qr[n]))this.xh.push(n),this.rz[n.getId()]=!0}}else this.xh=this.wa.jya()};c.prototype.dja=function(a){var c=a?this.wa.Ib(a):null;for(this.H_a=c?c.gd():!0;c;){var e=c.WU(c.getId()===a);this.oi.push(e);this.j1.push(c);this.rz[c.getId()]=!0;c=c.lj()?this.wa.Ib(c.lj()):null}};a.f.v(f,a.Pl,"DvtDiagramDataAnimationHandler");f.VL=0;f.tj=1;f.dF=2;f.prototype.Init=function(a,c,e,h){f.C.Init.call(this,a,c);this.Xna=e;this.VXa=h};f.prototype.Lb=function(){return h.Lb(this.Xna)};
f.prototype.Dn=function(c,e){var h=!1;e&&0<e.length&&(h=e[0]instanceof E);if(h&&!this.a.NR()){var h=f.xCa(c),p=f.xCa(e),n,z,w={},A;for(A in h)if(n=h[A],z=p[A])if(!n.Jl()&&!z.Jl()||n.Jl()&&z.Jl()&&n.getId()==z.getId())z.Mf(this,n);else{var d=n.Jl()?n.getData()._links.length:1,g=z.Jl()?z.getData()._links.length:1;d>g&&!w[n.getId()]?this.QBa(n,p,w,!0):d<g&&!w[z.getId()]?this.QBa(z,h,w,!1):d==g&&z.Mf(this,n)}else-1==a.Y.$b(this.VXa.zJ(),n.getId())&&n.ai(this);for(A in p)n=h[A],z=p[A],n||this.Xna.kOa[z.getId()]||
z.nh(this)}else f.C.Dn.call(this,c,e)};f.prototype.QBa=function(c,e,h,f){for(var n=[],z=c.getData()._links,w=0;w<z.length;w++){var p=e[z[w].id];p&&-1===a.Y.$b(n,p)&&n.push(p)}0<n.length&&(f?c.l0a(this,n):c.k0a(this,n),h[c.getId()]=!0)};f.xCa=function(a){for(var c={},e=0;e<a.length;e++){var h=a[e];if(h)if(h.Jl())for(var n=h.getData()._links,f=0;f<n.length;f++)c[n[f].id]=h;else c[h.getId()]=h}return c};a.f.v(x,a.u,"DvtDiagramEventManager");x.prototype.yLa=function(a,c){this.xt(a,c)};x.prototype.xt=
function(a,c){this.wa.PJa()||x.C.xt.call(this,a,c)};x.prototype.Ij=function(c,e,h){c=this.wa.A();"dim"==c.hoverBehavior&&(e=e.rd?e.rd():[],c.highlightedCategories=h?e.slice():null,h=a.la.MI(c.highlightedCategories,h),e=a.Za.Aq(c.styleDefaults.hoverBehaviorDelay),this.pF.Ef(h,this.wa.yNa(),e,"any"==c.highlightMatch))};x.prototype.rW=function(a,c){return new e(a,c)};x.prototype.Ul=function(c){var e=!0,h=c.keyCode,f=this.Fe(),n=f instanceof D?f.ik:null;h!=a.KeyboardEvent.rg&&this.gD?(n.KQ(c),c.preventDefault()):
h==a.KeyboardEvent.rg&&n instanceof a.ec?!c.shiftKey&&f.Ae()?(f.mf(),n.KQ(c),c.preventDefault(),this.gD=!0):(c.shiftKey&&this.gD?(this.xt(c,f),c.preventDefault()):(this.gD&&f.rh(),e=x.C.Ul.call(this,c)),this.gD=!1):h==a.KeyboardEvent.Kj&&c.ctrlKey&&c.shiftKey?f&&f.Ry&&f.Ry(c):(h==a.KeyboardEvent.rg&&f&&this.wa.TD(c,f),e=x.C.Ul.call(this,c));return e};x.prototype.Oy=function(){var c=this.wa.A();return"none"!==c.panning||"none"!==c.zooming?a.u.UC:c.touchResponse===a.u.ns?a.u.ns:a.u.XY};x.prototype.ev=
function(c){return this.Xg(c,a.Dd.HW)};x.prototype.tA=function(c){return c==a.Dd.HW?!1:x.C.tA.call(this,c)};x.prototype.by=function(){return this.wa};x.prototype.mE=function(){return!0};x.prototype.rw=function(a){var c=this.vc.eo;if(c&&c.tT)return c.tT;if(c instanceof D){null===this.B$&&(this.B$=this.wa.A().dnd.drag.ports.selector);var e;this.B$&&(e=this.CDa(document.elementFromPoint(a.Ng().clientX,a.Ng().clientY),this.B$))&&(this.ZS=!0,c.b9=e);c.tT=e?"ports":"nodes";return c.tT}return null};x.prototype.VE=
function(){var c=this.vc.eo;if(this.wa.Qk()&&1<this.wa.Ue().wj.length){for(var c=this.wa.Ue().getSelection(),e=this.ODa(c),h=this.wa.pc.Vo(),f=[],n=0;n<c.length;n++)if(c[n]instanceof D){var z=c[n].zj(),w=c[n].V(this.a.Gc);z.nodeOffset=new a.P((w.x-e.x)/h,(w.y-e.y)/h);f.push(z)}return f}if(c instanceof D){if("ports"===c.tT&&c.b9)return{dataContext:c.zj(),portElement:c.b9};z=c.zj();z.nodeOffset=new a.P(0,0);return[z]}return[]};x.prototype.hX=function(c){var e;if(this.wa.Qk()&&1<this.wa.Ue().wj.length)e=
this.ODa(this.wa.Ue().getSelection());else{var h=this.vc.eo;h instanceof D&&(e=h.V(this.a.Gc))}return e?(c=this.a.nf(c.pageX,c.pageY),h=this.wa.pc.Vo(),new a.P((e.x-c.x)/h,(e.y-c.y)/h)):null};x.prototype.ODa=function(c){if(!c)return null;for(var e=Number.MAX_VALUE,h=Number.MAX_VALUE,f=0;f<c.length;f++)if(c[f]instanceof D)var n=c[f].V(this.a.Gc),e=n?Math.min(n.x,e):e,h=n?Math.min(n.y,h):h;return new a.P(e,h)};x.prototype.aY=function(a){var c=this.vc.eo;c&&c.tT&&(c.tT=null,c.b9=null);this.ZS=!1;x.C.aY.call(this,
a)};x.prototype.$X=function(a){x.C.$X.call(this,a);this.ZS&&this.wa.zPa(a)};x.prototype.ZX=function(a){x.C.ZX.call(this,a);this.ZS&&(this.wa.bOa(),this.ZS=!1);this.wa.pc.$5a();this.G2(!0)};x.prototype.G2=function(a){this.wa.oU&&this.wa.pc.TV(a)};x.prototype.W7=function(){if(!this.fEa){var a=this.wa.A();this.fEa=this.mE()&&(a.dnd.drag.nodes.dataTypes||a.dnd.drag.ports.dataTypes)}return this.fEa};x.prototype.Sl=function(a){var c=this.Ya(this.Vd(a));this.W7()&&c instanceof D&&this.G2(!1);x.C.Sl.call(this,
a)};x.prototype.Tl=function(a){x.C.Tl.call(this,a);this.G2(!0)};x.prototype.$E=function(a){this.W7()&&1==a.targetTouches.length&&this.Ya(this.Vd(a))instanceof D&&this.G2(!1)};x.prototype.PS=function(){this.W7()&&this.G2(!0)};x.prototype.sw=function(a){var c=this.Ya(this.Vd(a));this.wa.Vb.Pf("dropTarget",c);if(null===c)return"background";if(c instanceof D){var e;null===this.C$&&(this.C$=this.wa.A().dnd.drop.ports.selector);this.C$&&(e=this.CDa(a.Ng().target,this.C$));return(c.IF=e)?"ports":"nodes"}return c instanceof
E?"links":null};x.prototype.KS=function(c){var e=c.Ng().dataTransfer,h=Number(e.getData(a.u.DW))||0,e=Number(e.getData(a.u.EW))||0,f=this.wa.pc.$c.pf(this.a.nf(c.pageX,c.pageY)),n=this.wa.usa(),n={x:f.x-n.x+h,y:f.y-n.y+e};c=this.Ya(this.Vd(c));c instanceof D?(c.IF?(n.dataContext=c.zj(),n.portElement=c.IF):n.nodeContext=c.zj(),c=(c=c.V(this.a.Gc))?this.wa.pc.$c.pf({x:c.x,y:c.y}):null,n.nodeX=c?f.x-c.x+h:null,n.nodeY=c?f.y-c.y+e:null):c instanceof E&&(n.linkContext=c.zj());return n};x.prototype.PC=
function(c){c=this.sw(c);var e=this.wa.Vb.Te("dropTarget");"background"===c?this.wa.pc.Tw.sc("oj-active-drop"):"nodes"===c||"links"===c?e&&e.PC&&e.PC():e&&"ports"===c&&e.IF&&a.l.n3(e.IF,"oj-active-drop")};x.prototype.QC=function(c){c=this.sw(c);var e=this.wa.Vb.Te("dropTarget");"background"===c?this.wa.pc.Tw.sc("oj-invalid-drop"):"nodes"===c||"links"===c?e&&e.QC&&e.QC():e&&"ports"===c&&e.IF&&a.l.n3(e.IF,"oj-invalid-drop")};x.prototype.My=function(){this.wa.pc.Tw.sc(null);var c=this.wa.Vb.Te("dropTarget");
c&&c.My&&c.My();c&&c.IF&&(a.l.UI(c.IF,"oj-active-drop"),a.l.UI(c.IF,"oj-invalid-drop"));this.wa.Vb.Pf("dropTarget",null)};x.prototype.CDa=function(a,c){return a&&a.closest?a.closest(c):null};a.f.v(v,a.yf,"DvtDiagramKeyboardHandler");v.prototype.Uh=function(c){var e=!1;switch(c.keyCode){case a.KeyboardEvent.Uy:case a.KeyboardEvent.jw:e=!0;break;case a.KeyboardEvent.Ty:case a.KeyboardEvent.iw:e=c.altKey?!0:!1;break;default:e=v.C.Uh.call(this,c)}return e};v.prototype.Rk=function(c){if(c.keyCode==a.KeyboardEvent.rg){var e=
this.Fc.Fe();if(e)return a.u.Ud(c),e;e=this.wa.I7();if(0<e.length)return a.u.Ud(c),e=this.kI(e),this.wa.TD(c,e),e}return v.C.Rk.call(this,c)};v.prototype.Py=function(a){return this.wa.Ib(a)};a.f.v(E,a.Ab,"DvtDiagramLink");E.o7="customStyle";E.newInstance=function(a,c,e){return new E(a.a,a,c,e)};E.prototype.Init=function(a,c,e,h){E.C.Init.call(this,a,e.id,c);this.sb=e;this.UV(h);this.wa.Qk()&&this.setCursor("pointer");this.Gwa(E.sWa(this,c))};E.prototype.getData=function(){return this.sb};E.prototype.setData=
function(a){this.sb=a};E.prototype.getId=function(){return this.getData().id};E.prototype.M3=function(){this.FZ||(this.FZ=this.getId()+Math.floor(1E9*Math.random()));return this.FZ};E.prototype.Ri=function(){return this.getData().startNode};E.prototype.Ah=function(){return this.getData().endNode};E.prototype.Mg=function(){var a=null;this.yd&&(a=this.yd.V());return a};E.prototype.gV=function(){return this.getData().svgStyle||this.getData().style};E.prototype.zz=function(){return this.getData().width};
E.prototype.aL=function(){return this.getData().color};E.prototype.Rv=function(){return this.getData().startConnectorType};E.prototype.Ts=function(){return this.getData().endConnectorType};E.prototype.jL=function(){return this.Rv()?a.La.Y4(this.Rv(),this.Ny(),this.Ny()):0};E.prototype.UK=function(){return this.Ts()?a.La.Y4(this.Ts(),this.Ny(),this.Ny()):0};E.prototype.ia=function(){var a=this.wa,c=this.lj(),e=a.Ib(this.Ri()).lj(),h=a.Ib(this.Ah()).lj();if(c){var n=a.Ib(c).cX();c==e&&c==h?n.Ad(this,
0):n.B(this)}else e||h?a.hu.B(this):a.hB.B(this);E.tZa(a,this.getData(),this);this.zg("img");this.qs();this.wa.Ob().Xb(this,this)};E.prototype.Vh=function(a){!this.Fx&&a&&E.uZa(this.getData(),this);E.C.Vh.call(this,a)};E.uZa=function(c,e){var h=e.Fx;h||(h=["M",0,0,"L",0,0]);var f=c.id,n=c.color,z=c.width,w=c.svgStyle||c.style;e.JO=e.v7("#000000",0,c._hitDetectionOffset);e.Ad(e.JO,0);n=new a.ma(n,1,z);n.We(!0);h=new a.Jb(e.a,h,f);f=c.svgClassName||c.className;h.Ia(null);h.sc(f);if(e.a.sp)h.Ma(w);else if(w&&
w instanceof Object){f=a.Oa.Tk;w._type==E.o7?w.strokeDasharray&&(f=a.Oa.Zu,w.strokeDasharray=a.Qd.yKa(w.strokeDasharray)):f=a.Qd.qJ(w._type);n.um(f,w.strokeDasharray,w.strokeDashoffset);var p=a.bb.clone(w);a.Y.forEach(["_type","strokeDasharray","strokeDashoffset"],function(a){delete p[a]});h.Ma(p)}else f=a.Qd.qJ(w),n.um(f,a.Qd.jM(f),a.Qd.kM(f));h.Ha(n);e.tLa(h);e.Ad(h,1)};E.tZa=function(c,e,h){var f=a.m.ea(c.a)?a.M.ii:a.M.Fj;e.label&&(c=E.km(c.a,e.label,e.labelStyle,f,a.M.Oj),e=a.j.Xe((new a.j(e.labelStyle)).getWidth()),
0<e&&a.ga.Yc(c,e,Infinity,h)||h.B(c),h.yd=c)};E.km=function(c,e,h,f,n){h=new a.j(h);h.D5()?c=new a.Fb(c,e,0,0,h):(c=new a.M(c,e,0,0),c.ub(h));c.Eq(f);c.Uz(n);return c};E.prototype.hc=function(a){E.C.hc.call(this,a);a?this.Mpa(this.xl,!0):this.YDa();this.qs()};E.prototype.fb=function(){return this.wa.Qk()&&"off"!=this.getData().selectable};E.prototype.Mpa=function(a,c){if(a){this.CB||(this.CB=this.yg().fe());var e=this.yg().fe().clone();e.Yp&&e.Yp(this.getData().hoverInnerColor);this.yg().Ha(e);this.QM(this.HD,
e);this.QM(this.rD,e)}else this.CB&&(this.yg().Ha(this.CB),this.QM(this.HD,this.CB),this.QM(this.rD,this.CB),this.CB=null);this.Qm||(this.Qm=this.dea("#000000",1,0,this.getData().svgStyle,this.getData().svgClassName),this.Ad(this.Qm,0));var e=c?this.getData().selectionColor:this.getData().hoverOuterColor,h=this.Qm.fe().clone();h.Yp(e);h.jb(2+this.Ny());this.d7(h,!0);this.Qm.Ha(h,2)};E.prototype.YDa=function(){this.CB&&(this.yg().Ha(this.CB),this.QM(this.HD,this.CB),this.QM(this.rD,this.CB),this.CB=
null);this.Qm&&(this.removeChild(this.Qm),this.Qm.Ec&&this.Qm.Ec(),this.Qm=null)};E.prototype.d7=function(c,e){if(!this.a.sp){var h=this.G7();if(h&&h instanceof Object)if(h._type==E.o7){var f=null!=h.strokeDashoffset?a.j.Xe(h.strokeDashoffset)+1:1;c.um(a.Oa.Zu,a.Qd.PHa(h.strokeDasharray),f)}else h=a.Qd.qJ(h._type),c.um(h,a.Qd.jM(h,e),a.Qd.kM(h,e));else E.C.d7.call(this,c,e)}};E.prototype.Rc=function(){this.xl||(this.xl=!0,this.Mpa(!0,this.gb()))};E.prototype.Cc=function(){this.gb()?this.Mpa(!1,!0):
this.YDa();this.xl=!1};E.prototype.bf=function(){var a=this.wa.A().tooltip;return(a=a?a.renderer:null)?this.wa.a.cf().Rs(a,this.zj()):this.Eh()};E.prototype.Eh=function(){return this.Jl()?1<this.getData()._links.length?a.I.Zc(this.wa.A(),"promotedLinks",a.I.BW,"PROMOTED_LINKS",this.getData()._links.length):a.I.Zc(this.wa.A(),"promotedLink",a.I.BW,"PROMOTED_LINK",this.getData()._links.length):this.getData().shortDesc};E.prototype.zj=function(){return{id:this.getId(),type:this.Jl()?"promotedLink":"link",
label:this.getData().label,data:this.Jl()?this.getData()._links:this.getData()._origData,component:this.wa.A()._widgetConstructor}};E.prototype.te=function(){var c=[];this.fb()&&c.push(a.I.Ja(a.I.pa,this.gb()?"STATE_SELECTED":"STATE_UNSELECTED"));this.Jl()&&c.push(a.I.Ja(a.I.BW,"PROMOTED_LINK_ARIA_DESC"));return a.R.lm(this.Eh(),c)};E.prototype.qs=function(){if(!a.m.Vj()){var c=this.te();c&&this.Od("label",c)}};E.prototype.Kd=function(c){if(c.keyCode==a.KeyboardEvent.Kj&&c.ctrlKey)return this;if(c.keyCode==
a.KeyboardEvent.sg||c.keyCode==a.KeyboardEvent.kf){var e=this.x$;e||(e=this.wa.Ib(this.Ri()));var h=this,f=this.wa.lV(e.getId()),n=this.wa.Ob().ya;n&&n.Csa&&(h=n.Csa(e,this,c,f));h.Nwa(e);this.wa.TD(c,h);return h}return c.keyCode==a.KeyboardEvent.Be||c.keyCode==a.KeyboardEvent.Ne?(e=this.UXa(c.keyCode)?this.Ri():this.Ah(),e=this.wa.Ib(e),this.wa.TD(c,e),e):c.type==a.MouseEvent.He?this:null};E.prototype.UXa=function(c){var e=this.Fba(),h=this.Eba(),e=e.x<h.x?!0:!1;return c==a.KeyboardEvent.Be&&e||
c==a.KeyboardEvent.Ne&&!e?!1:!0};E.prototype.rh=function(){this.Tc=!0;this.Rc()};E.prototype.mf=function(){this.Tc=!1;this.Cc()};E.prototype.Ae=function(){return this.Tc};E.prototype.rd=function(){return this.getData().categories?this.getData().categories:[this.getId()]};E.prototype.eua=function(){var c=this.wa.A().hiddenCategories;return c&&a.Y.$s(c,this.rd())||!this.wa.Ib(this.Ri())||!this.wa.Ib(this.Ah())?!0:!1};E.prototype.Mf=function(c,e,h){var p=e.Df(),n=this.Df(),z=new a.td(this.a,null,c.Lb());
a.Y.mc(p,n)||(this.Vh(p),p=a.L.L8,0<n.length&&isNaN(n[0])&&(p=a.L.XC),z.da.aa(p,this,this.Df,this.Vh,n));e.yd&&this.yd&&(n=e.yd.Wa(),p=this.yd.Wa(),n.mc(p)||(this.yd.mb(n),z.da.aa(a.L.ji,this.yd,this.yd.Wa,this.yd.mb,p)));e.yg()&&this.yg()&&(e=e.yg().fe(),n=this.yg().fe(),e&&n&&e instanceof a.ma&&n instanceof a.ma&&(e.Zb()!=n.Zb()||e.getWidth()!=n.getWidth())&&(this.yg().Ha(e),z.da.aa(a.L.eZ,this.yg(),this.yg().fe,this.yg().Ha,n)));if(h){var w=this;a.yb.Le(z,function(){w.getParent().removeChild(w)})}c.add(z,
f.tj)};E.prototype.ai=function(c){this.wa.hB.B(this);var e=this,h=new a.Wg(this.a,this,c.Lb());a.yb.Le(h,function(){e.getParent().removeChild(e);e.Ec()});c.add(h,f.VL)};E.prototype.nh=function(c){this.qa(0);c.add(new a.dg(this.a,this,c.Lb()),f.dF)};E.prototype.k0a=function(c,e){if(e&&0!=e.length){var h=a.Y.copy(this.Df());this.Mf(c,e[0]);for(var f=1;f<e.length;f++){var n={id:"_fakeLink"+f+this.getId()},n=a.bb.ae(n,this.getData()),n=new E(this.wa.a,this.wa,n,!0);n.ia();n.Vh(h);n.Mf(c,e[f],!0)}}};E.prototype.l0a=
function(a,c){if(c&&0!=c.length)for(var e=0;e<c.length;e++)c[e].Mf(a,this)};E.prototype.lS=function(c,e){c&&(c==a.M.Fj?this.yd.Ph():c==a.M.Lh?this.yd.$f():c==a.M.ii&&this.yd.dh());e&&(e==a.M.Oj?this.yd.Mk():e==a.M.rf?this.yd.ug():e==a.M.Oh?this.yd.jm():"baseline"==e&&this.yd.uz())};E.prototype.Gwa=function(a){this.pma=a};E.prototype.lj=function(){return this.pma};E.sWa=function(c,e){function h(a,c){for(var d=[],g=c.Ib(a)?c.Ib(a).lj():null;g;)d.push(g),g=c.Ib(g)?c.Ib(g).lj():null;return d}for(var f=
h(c.Ri(),e),n=h(c.Ah(),e),z=0;z<f.length;z++)if(-1<a.Y.$b(n,f[z]))return f[z];return null};E.rya=function(a,c){return"_plL"+a+"_L"+c};E.prototype.PC=function(){this.bx||this.s_("oj-diagram-link oj-active-drop")};E.prototype.QC=function(){this.bx||this.s_("oj-diagram-link oj-invalid-drop")};E.prototype.My=function(){this.bx&&(this.removeChild(this.bx),this.bx=null)};E.prototype.s_=function(a){var c=this.getData()._hitDetectionOffset;this.bx=this.dea("#000000",0,c,null,a);this.bx.dd(!1);this.B(this.bx)};
E.HMa=function(a){return{id:a.id,startNode:a.startNode,endNode:a.endNode,label:a.label,selectable:a.selectable,shortDesc:a.shortDesc,categories:a.categories,_origData:a}};E.prototype.WU=function(){var a,c,e;this.yd&&(a={matrix:this.yd.Wa(),Wa:function(){return a.matrix}});this.yg()&&(c={stroke:this.yg().fe().clone(),fe:function(){return c.stroke}});var h=this.Jl()?this.getData()._links:null;return e={partialUpdate:!0,id:this.getId(),promoted:this.Jl(),includedLinks:h,points:this.Df(),shape:c,yd:a,
getId:function(){return e.id},Jl:function(){return e.promoted},getData:function(){return{_links:e.includedLinks}},Df:function(){return e.points},yg:function(){return e.shape}}};a.f.v(D,a.ic,"DvtDiagramNode");D.newInstance=function(a,c){return new D(a.a,a,c)};D.prototype.Init=function(a,c,e){D.C.Init.call(this,a,e.id,c);this.sb=e;this.wa.Qk()&&this.setCursor("pointer")};D.prototype.getData=function(){return this.sb};D.prototype.setData=function(a){this.sb=a};D.prototype.getId=function(){return this.sb.id};
D.prototype.M3=function(){this.FZ||(this.FZ=this.getId()+Math.floor(1E9*Math.random()));return this.FZ};D.prototype.po=function(a){!this.dka&&a&&(this.dka=this.sUa());return this.dka};D.prototype.Mg=function(a){var c=null;this.yd&&a&&(c=this.yd.V());return c};D.prototype.hc=function(a){var c=this.dm();D.C.hc.call(this,a);this.wa.A().selectionRenderer?this.MN(this.wa.A().selectionRenderer,this.dm(),c):this.OI(a);this.qs()};D.prototype.OI=function(a){this.Xs()&&this.Xs().hc(a)};D.prototype.fb=function(){return this.wa.Qk()&&
"off"!=this.getData().selectable};D.prototype.afa=function(){return this.X};D.prototype.ia=function(){this.D9();var a=this.getData();if(this.wa.A().renderer){if(this.MN(this.wa.A().renderer,this.dm(),null),this.gd()){var c=this.ja().getBoundingClientRect(),e=this.PA?this.PA.ja().getBoundingClientRect():null;this.aj={left:e.left-c.left,right:c.right-e.right,top:e.top-c.top,bottom:c.bottom-e.bottom}}}else this.gd()?D.bZa(this.wa,a,this):(D.r2(this.wa,a,this),D.Uoa(this.wa,a,this)),D.ATa(this.Xs(),a);
D.Woa(this.wa,a,this);this.a_a();D.cZa(this.wa,a,this);this.zg("img");this.qs();this.wa.Ob().Xb(this,this)};D.prototype.MN=function(c,e,h){var f=this.wa.A()._contextHandler;if(f){var n=this.getData()._origData,z=null;if(this.gd())var z=this.cX(),w=z.V(),z={element:z.ja(),w:w?w.b-w.x:null,h:w?w.i-w.y:null};e=f(this.ja(),this.ik,z,n,e,h);!(c=c(e))&&this.ik&&this.a.sp||(this.ik&&c!=this.ik&&(this.ik.namespaceURI===a.l.sF?this.ZB().removeChild(this.ik):this.removeChild(c),this.ik=null),c&&c.namespaceURI===
a.l.sF?this.ik||(a.l.Dc(this.ZB(),c),this.ik=c):c instanceof a.ec?this.ik||(this.B(c),this.ik=c):c&&this.wa.Nfa("dvt.Diagram: could not add custom node content for the node "+this.getId()+c))}else this.wa.Nfa("dvt.Diagram: could not add custom node content - context handler is undefined")};D.r2=function(c,e,h){if(!c.a.sp){var f=e.backgroundSvgStyle||e.backgroundStyle,n=a.bb.clone(f),z=[a.j.Xl,a.j.cq,a.j.ge,a.j.we,a.j.fi,a.j.ei],f=D.Vla(n,e._backgroundStyle,z);if(!f.HJa()){var w=a.j.Xe(f.N(a.j.Xl)),
p=a.j.Xe(f.N(a.j.cq)),d=f.N(a.j.ge),g=f.N(a.j.we),B=a.j.Xe(f.N(a.j.fi)),f=a.j.Xe(f.N(a.j.ei));c=new a.Rect(c.a,0,0,w,p);c.$a(d);f&&(c.hl(f),c.il(f));g&&c.Ha(new a.ma(g,1,B));n&&a.Y.forEach(z,function(d){delete n[a.j.RD(d)]});e=e.backgroundSvgClassName||e.backgroundClassName;c.Ma(n).sc(e);h.B(c);h.GL(c);h.xb=c}}};D.Uoa=function(c,e,h){var f=e.icon;if(f){var n=f.width,z=f.height,w=f.color,p=f.borderRadius;c=f.source?new a.xc(c.a,n/2,z/2,n,z,p,f.source,f.sourceSelected,f.sourceHover,f.sourceHoverSelected):
new a.W(c.a,f.shape,a.j.Rg,n/2,z/2,n,z,p);"none"!=f.fillPattern?c.Ia(new a.kb(f.fillPattern,w,w)):c.$a(w);null!=f.opacity&&c.qa(f.opacity);f.borderColor&&c.Ha(new a.ma(f.borderColor,1,f.borderWidth));w=f.svgClassName||f.className;c.Ma(f.svgStyle||f.style).sc(w);h.B(c);h.X=c;D.b_a(e,h);h.xb||h.GL(c)}};D.b_a=function(c,e){if(e.xb){var h=c.icon,f=e.xb.getWidth(),n=e.xb.getHeight(),z=h.width,w=h.height,p=.5*(f-z),d=.5*(n-w);if(void 0!==h.positionX)p=parseFloat(h.positionX),a.m.ea(e.a)&&(p=f-p-z);else{var g=
h.halign;"start"==g?g=a.m.ea(e.a)?"right":"left":"end"==g&&(g=a.m.ea(e.a)?"left":"right");p="left"==g?0:"right"==g?f-z:p}void 0!==h.positionY?d=parseFloat(h.positionY):"top"==h.valign?d=0:"bottom"==h.valign&&(d=n-w);e.X.ib(p,d)}};D.Woa=function(c,e,h){var f=a.m.ea(c.a)?a.M.ii:a.M.Fj;e.label&&(c=D.km(c.a,e.label,e.labelStyle,f,a.M.Oj),e=a.j.Xe((new a.j(e.labelStyle)).getWidth()),0<e&&a.ga.Yc(c,e,Infinity,h)||h.B(c),h.yd=c)};D.km=function(c,e,h,f,n){h=new a.j(h);h.D5()?c=new a.Fb(c,e,0,0,h):(c=new a.M(c,
e,0,0),c.ub(h));c.Eq(f);c.Uz(n);return c};D.ATa=function(c,e){var h=e.hoverInnerColor,f=e.hoverOuterColor,n=e.selectionColor,z=new a.ma(h,1,4);z.We(!0);f=new a.ma(f,1,8);f.We(!0);var w=new a.ma(h,1,2);w.We(!0);var p=new a.ma(n,1,6);p.We(!0);h=new a.ma(h,1,4);h.We(!0);n=new a.ma(n,1,8);n.We(!0);c.$o(z,f).Fq(w,p).cs(h,n)};D.BTa=function(c,e){var h=e.hoverInnerColor,f=e.hoverOuterColor,n=e.selectionColor,z=new a.ma(h,1,2);z.We(!0);f=new a.ma(f,1,2);f.We(!0);var w=new a.ma(h,1,1);w.We(!0);var p=new a.ma(n,
1,2);p.We(!0);h=new a.ma(h,1,2);h.We(!0);n=new a.ma(n,1,2);n.We(!0);c.$o(z,f).Fq(w,p).cs(h,n)};D.prototype.GL=function(a){this.WP=a};D.prototype.Xs=function(){if(!this.WP){var c=this.po(!0);c&&(c=new a.Rect(this.wa.a,c.x,c.y,c.b,c.i),c.Yb(),c.I6(a.Oa.WX),this.GL(c),this.Ad(c,0),D.BTa(c,this.getData()),this.WP=c)}return this.WP};D.prototype.Rc=function(){if(!this.xl){var a=this.dm();this.xl=!0;this.wa.A().hoverRenderer?this.MN(this.wa.A().hoverRenderer,this.dm(),a):this.zy(!0)}};D.prototype.Cc=function(){if(this.xl){var a=
this.dm();this.xl=!1;this.wa.A().hoverRenderer?this.MN(this.wa.A().hoverRenderer,this.dm(),a):this.zy(!1)}};D.prototype.zy=function(a){this.Xs()&&(a?this.Xs().Rc():this.Xs().Cc())};D.prototype.bf=function(){var a=this.wa.A().tooltip;return(a=a?a.renderer:null)?this.wa.a.cf().Rs(a,this.zj()):this.Eh()};D.prototype.Eh=function(){return this.getData().shortDesc};D.prototype.zj=function(){return{id:this.getId(),type:"node",label:this.getData().label,data:this.getData()._origData,component:this.wa.A()._widgetConstructor}};
D.prototype.te=function(){var c=[];this.fb()&&c.push(a.I.Ja(a.I.pa,this.gb()?"STATE_SELECTED":"STATE_UNSELECTED"));this.Yta()&&c.push(this.gd()?a.I.Ja(a.I.pa,"STATE_EXPANDED"):a.I.Ja(a.I.pa,"STATE_COLLAPSED"));return a.R.lm(this.Eh(),c)};D.prototype.qs=function(){if(!a.m.Vj()){var c=this.te();c&&this.Od("label",c)}};D.prototype.Kd=function(c){var e=null;if(c.keyCode==a.KeyboardEvent.Kj&&c.ctrlKey)e=this;else if((c.keyCode==a.KeyboardEvent.Ty||a.KeyboardEvent.iw)&&c.altKey){var h=this.wa.lV(this.getId()),
f=this.wa.Ob().ya;f&&f.g4&&(e=f.g4(this,c,h));e?e.Nwa(this):e=this}else c.keyCode==a.KeyboardEvent.Uy?e=this.gd()?this.Of()[0]:this:c.keyCode==a.KeyboardEvent.jw?e=(e=this.lj()?this.wa.Ib(this.lj()):null)?e:this:c.type==a.MouseEvent.He?e=this:(e=(e=this.lj()?this.wa.Ib(this.lj()):null)?e.Of():this.wa.I7(),e=a.ya.pI(this,c,e));c instanceof a.KeyboardEvent&&this.wa.TD(c,e);return e};D.prototype.Ry=function(c){c.keyCode==a.KeyboardEvent.Kj&&c.ctrlKey&&c.shiftKey&&this.Yta()&&this.wa.gLa(this.getId(),
!this.gd())};D.prototype.Yta=function(){return 0==this.wa.A().data.getChildCount(this.getData())?!1:!0};D.prototype.rh=function(){if(!this.Ae()){var a=this.dm();this.Tc=!0;this.wa.A().focusRenderer?this.MN(this.wa.A().focusRenderer,this.dm(),a):this.vC(!0)}};D.prototype.mf=function(){if(this.Ae()){var a=this.dm();this.Tc=!1;this.wa.A().focusRenderer?this.MN(this.wa.A().focusRenderer,this.dm(),a):this.vC(!1)}};D.prototype.vC=function(a){this.zy(a)};D.prototype.Ae=function(){return this.Tc};D.prototype.rd=
function(){return this.getData().categories?this.getData().categories:[this.getId()]};D.prototype.eua=function(){var c=this.wa.A().hiddenCategories;return c&&a.Y.$s(c,this.rd())?!0:!1};D.prototype.sUa=function(){var c=null;if(this.ik){var e;this.ik instanceof a.ec?(e=this.ik.V())&&(c=new a.U(e.x,e.y,e.b,e.i)):(e=this.ik.getBBox())&&(c=new a.U(e.x,e.y,e.width,e.height))}else this.gd()?c=this.qv.lt(this):(c=this.xb?this.xb.lt(this):null)&&this.X?c=c.Gn(this.X.lt(this)):!c&&this.X&&(c=this.X.lt(this));
return c};D.prototype.Mf=function(c,e){var h=new a.td(this.a,null,c.Lb());if(this.gd()||e.gd())if(this.gd()&&e.gd())if(e.yd&&this.yd&&(p=e.yd.Wa(),n=this.yd.Wa(),p.mc(n)||(this.yd.mb(p),h.da.aa(a.L.ji,this.yd,this.yd.Wa,this.yd.mb,n))),this.wa.A().renderer)this.iBa(c,e);else{if(D.uja(h,e,this),D.UTa(h,e.qv,this.qv),a.m.ea(this.a)&&e.az&&this.az&&(p=e.az.ac(),n=this.az.ac(),p!=n&&(this.az.Ua(p),h.da.aa(a.L.ta,this.az,this.az.ac,this.az.Ua,n))),!e.partialUpdate){for(var p=[],n=[],z=this.jD,w=0;w<z.length;w++)p.push(this.wa.Ib(z[w]));
for(var z=e.jD,A=c.Xna.AOa,w=0;w<z.length;w++)n.push(A[z[w]]);c.Dn(n,p)}}else this.iBa(c,e);else{D.uja(h,e,this);e.X&&this.X&&(h.da.aa(a.L.GJ,this.X,this.X.Ps,this.X.xC,this.X.Ps()),this.X.xC(e.X.Ps()));if(e.yd&&this.yd){var p=e.yd.Wa(),n=this.yd.Wa();p.mc(n)||(this.yd.mb(p),h.da.aa(a.L.ji,this.yd,this.yd.Wa,this.yd.mb,n))}D.dD(h,e.xb,this.xb);D.dD(h,e.X,this.X)}c.add(h,f.tj)};D.prototype.iBa=function(c,e){var h=e.po(),p=this.po();if(h.mc(p)){var n=new a.td(this.a,null,c.Lb());D.uja(n,e,this);c.add(n,
f.tj)}else{var z=p.b/h.b,w=h.b/p.b,n=new a.td(this.a,null,c.Lb()),A=new a.P(e.ac()+.5*h.b,e.qc()+.5*h.i),d=this.ac(),g=this.qc();this.Ua(A.x-p.b*w*.5);this.Eb(A.y-p.b*w*.5);n.da.aa(a.L.ta,this,this.ac,this.Ua,d);n.da.aa(a.L.ta,this,this.qc,this.Eb,g);c.add(n,f.tj);this.Nl(w);this.ln(w);w=new a.aw(this.a,this,new a.P(1,1),c.Lb());c.add(w,f.tj);var B=e.partialUpdate?e.origContent:e;if(B){this.getParent().B(B);p=new a.P(this.ac()+.5*p.b,this.qc()+.5*p.i);n.da.aa(a.L.ta,B,e.ac,B.Ua,p.x-h.b*z*.5);n.da.aa(a.L.ta,
B,e.qc,B.Eb,p.y-h.i*z*.5);h=new a.aw(this.a,B,new a.P(z,z),c.Lb());c.add(h,f.tj);h=new a.Wg(this.a,B,c.Lb());c.add(h,f.tj);var r=this;a.yb.Le(h,function(){r.getParent().removeChild(B)});this.qa(0);h=new a.dg(this.a,this,c.Lb());c.add(h,f.tj)}}};D.uja=function(c,e,h){if(h&&e){var f=e.ac();e=e.qc();var n=h.ac(),p=h.qc();f!=n&&(h.Ua(f),c.da.aa(a.L.ta,h,h.ac,h.Ua,n));e!=p&&(h.Eb(e),c.da.aa(a.L.ta,h,h.qc,h.Eb,p))}};D.UTa=function(c,e,h){h&&e&&(D.dD(c,e,h),c.da.aa(a.L.ta,h,h.getWidth,h.jb,h.getWidth()),
h.jb(e.getWidth()),c.da.aa(a.L.ta,h,h.getHeight,h.Mb,h.getHeight()),h.Mb(e.getHeight()))};D.dD=function(c,e,h){e&&h&&h.Hd()instanceof a.oc&&!h.Hd().mc(e.Hd())&&(c.da.aa(a.L.At,h,h.Hd,h.Ia,h.Hd()),h.Ia(e.Hd()))};D.prototype.ai=function(c){this.wa.hu.B(this);var e=this,h=new a.Wg(this.a,this,c.Lb());a.yb.Le(h,function(){e.getParent().removeChild(e);e.Ec()});c.add(h,f.VL)};D.prototype.nh=function(c){this.qa(0);c.add(new a.dg(this.a,this,c.Lb()),f.dF)};D.prototype.dm=function(a){return{hovered:this.xl,
selected:this.gb(),focused:this.Tc,zoom:a?a:this.wa.pc.Vo(),expanded:this.gd()}};D.prototype.b7a=function(a){if(this.wa.A().zoomRenderer){var c=this.dm(a.$na);a=this.dm(a.hU);this.MN(this.wa.A().zoomRenderer,a,c)}};D.prototype.lS=function(c,e){c&&(c==a.M.Fj?this.yd.Ph():c==a.M.Lh?this.yd.$f():c==a.M.ii&&this.yd.dh());e&&(e==a.M.Oj?this.yd.Mk():e==a.M.rf?this.yd.ug():e==a.M.Oh?this.yd.jm():"baseline"==e&&this.yd.uz())};D.prototype.bi=function(){if(!this.aj&&this.wa.A().renderer){var a=this.ja().getBoundingClientRect(),
c=this.PA?this.PA.ja().getBoundingClientRect():null;this.aj={left:c.left-a.left,right:a.right-c.right,top:c.top-a.top,bottom:a.bottom-c.bottom}}else this.aj||(a=D.Vla(this.sb.containerSvgStyle||this.sb.containerStyle,this.sb._containerStyle,["padding-left","padding-right","padding-top","padding-bottom"]),this.aj={left:a.ky("padding-left"),right:a.ky("padding-right"),top:a.ky("padding-top"),bottom:a.ky("padding-bottom")});return this.aj};D.prototype.W_a=function(a){this.jD||(this.jD=[]);this.jD.push(a)};
D.prototype.K6a=function(c){this.jD&&a.Y.removeItem(this.jD,c)};D.prototype.J6a=function(a){a&&(this.K6a(a.getId()),this.PA.removeChild(a))};D.prototype.Of=function(){for(var a=[],c=this.jD?this.jD.length:-1,e=0;e<c;e++){var h=this.wa.Ib(this.jD[e]);h&&a.push(h)}return a};D.prototype.Gwa=function(a){this.pma=a};D.prototype.lj=function(){return this.pma};D.prototype.cX=function(){this.PA||(this.PA=new a.ca(this.a),this.B(this.PA));return this.PA};D.prototype.M4a=function(c){a.u.Ud(c);this.wa.gLa(this.getId(),
!this.gd())};D.bZa=function(c,e,h){var f=a.bb.clone(c.a.sp?null:e.containerSvgStyle||e.containerStyle),n=[a.j.ge,a.j.we,a.j.fi,a.j.ei],p=D.Vla(f,e._containerStyle,n),w=p.N(a.j.ge),A=p.N(a.j.we),d=a.j.Xe(p.N(a.j.fi)),p=a.j.Xe(p.N(a.j.ei)),g=h.cX(),B=h.bi();g.ib(B.left,B.top);g=g.Ss();B=new a.Rect(c.a,0,0,g.b+B.left+B.right,g.i+B.top+B.bottom);B.$a(w);p&&(B.hl(p),B.il(p));A&&B.Ha(new a.ma(A,1,d));f&&a.Y.forEach(n,function(d){delete f[a.j.RD(d)]});c=c.a.sp?null:e.containerSvgClassName||e.containerClassName;
B.Ma(f).sc(c);h.Ad(B,0);h.GL(B);h.qv=B};D.Vla=function(c,e,h){var f=new a.j;a.Y.forEach(h,function(n){var h=null,w=a.j.RD(n);c&&null!=c[w]?h=c[w]:e&&(h=e.N(n));f.Ma(n,h)});return f};D.cZa=function(c,e,h){if(h.Yta()&&"off"!=e.showDisclosure){var f,n,p=c.A();h.gd()?(e=p._resources.collapse_ena,f=p._resources.collapse_ovr,n=p._resources.collapse_dwn):(e=p._resources.expand_ena,f=p._resources.expand_ovr,n=p._resources.expand_dwn);p=new a.Image(c.a,e.src,0,0,e.width,e.height);f=new a.Image(c.a,f.src,0,
0,f.width,f.height);n=new a.Image(c.a,n.src,0,0,n.width,n.height);p=new a.ra(c.a,p,f,n,null,null,h.M4a,h);h.B(p);if(f=h.po(!0))c=a.m.ea(c.a)?f.x+f.b-e.width:f.x,p.ib(c,f.y);h.az=p}};D.prototype.hn=function(){return!0};D.prototype.El=function(){return"off"===this.getData().draggable?null:[this.getId()]};D.prototype.Rp=function(){if(this.wa.Ob().ZS)return null;if(this.wa.Qk()&&1<this.wa.Ue().wj.length){for(var a=this.wa.Ue().getSelection(),c=[],e=0;e<a.length;e++)c.push(a[e]);return c}return this};
D.prototype.PC=function(){this.bx||this.s_("oj-diagram-node oj-active-drop")};D.prototype.QC=function(){this.bx||this.s_("oj-diagram-node oj-invalid-drop")};D.prototype.My=function(){this.bx&&(this.removeChild(this.bx),this.bx=null)};D.prototype.s_=function(c){var e;if(this.ik||this.gd()||this.xb||this.X&&this.X instanceof a.xc){var h=this.po(!0);h&&(e=new a.Rect(this.wa.a,h.x,h.y,h.b,h.i),h=this.ik?null:this.gd()?this.qv.Up():this.xb?this.xb.Up():null)&&(e.hl(h),e.il(h))}else this.X&&this.X instanceof
a.W&&(e=this.X.oh());e.Yb();e.sc(c);e.dd(!1);this.B(e);this.bx=e};D.prototype.a_a=function(){if(this.wa.Ob().W7()&&"off"!=this.getData().draggable){var c=this.ik?this:this.gd()?this.qv:this.xb?this.xb:this.X,c=c.ja()?c.ja():c;a.l.n3(c,"oj-diagram-node");a.l.n3(c,"oj-draggable")}};D.IMa=function(a){return{id:a.id,label:a.label,selectable:a.selectable,shortDesc:a.shortDesc,categories:a.categories,nodes:a.nodes,_origData:a}};D.prototype.D9=function(c){this.qv&&(this.removeChild(this.qv),c&&c.B(this.qv),
this.qv=null);this.xb&&(this.removeChild(this.xb),c&&c.B(this.xb),this.xb=null);this.X&&(this.removeChild(this.X),c&&c.B(this.X),this.X=null);this.yd&&(this.removeChild(this.yd),c&&c.B(this.yd),this.yd=null);this.az&&(this.removeChild(this.az),c&&c.B(this.az),this.az=null);this.ik&&(this.PA&&(this.PA.FL(null),this.B(this.PA)),this.ik.namespaceURI===a.l.sF?(this.ZB().removeChild(this.ik),c&&a.l.Dc(c.ZB(),this.ik)):this.ik instanceof a.ec&&(this.removeChild(this.ik),c&&c.B(this.ik)),this.ik=null);this.dka=
null};D.prototype.WU=function(c){var e,h,f,n,p,w=this.po();this.X&&(e={centerDimensions:this.X.Ps(),fill:this.X.Hd(),Ps:function(){return e.centerDimensions},Hd:function(){return e.fill}});this.yd&&(h={matrix:this.yd.Wa(),Wa:function(){return h.matrix}});this.gd()&&this.qv&&(f={fill:this.qv.Hd(),width:this.qv.getWidth(),height:this.qv.getHeight(),Hd:function(){return f.fill},getWidth:function(){return f.width},getHeight:function(){return f.height}});if(c||this.gd()&&this.wa.A().renderer)p=new a.ca(this.a),
this.D9(p),p.ib(this.ac(),this.qc());return n={partialUpdate:!0,id:this.getId(),disclosed:this.gd(),tx:this.ac(),ty:this.qc(),contentBounds:w,origContent:p,X:e,yd:h,qv:f,getId:function(){return n.id},gd:function(){return n.disclosed},ac:function(){return n.tx},qc:function(){return n.ty},po:function(){return n.contentBounds}}};D.prototype.m0a=function(c,e){this.sb.nodes instanceof Array||(this.sb.nodes=[]);this.sb.nodes=a.Y.Vta(this.sb.nodes,c,e)};D.prototype.L6a=function(a){if(this.sb.nodes instanceof
Array)for(var c=0;c<a.length;c++)for(var e=a[c].id,h=0;h<this.sb.nodes.length;h++)if(this.sb.nodes[h].id===e){this.sb.nodes.splice(h,1);break}};a.f.v(F,a.Lc,"DvtDiagramAutomation");F.prototype.Init=function(a){this.wa=a};F.prototype.Ql=function(a){return(a=this.wa.Ob().Ya(a))&&a instanceof D?"node["+this.wa.JS().indexOf(a.getId())+"]":a&&a instanceof E?"link["+this.wa.zJ().indexOf(a.getId())+"]":null};F.prototype.Sh=function(c){if(c==a.Lc.Dw)return this.eA(this.wa);var e=this.roa(c);c=e.component;
var e=e.index,h=null;"node"==c?h=this.fK(e):"link"==c&&(h=this.pDa(e));return h?h.ja():null};F.prototype.roa=function(a){var c=a,e=-1,h=a.substring(0,a.indexOf("["));h&&(c="node"==h||"link"==h?h:null,e=parseInt(a.substring(a.indexOf("[")+1,a.indexOf("]"))));return{component:c,index:e}};F.prototype.Aj=function(){return this.wa.JS().length};F.prototype.fC=function(){return this.wa.zJ().length};F.prototype.Me=function(c){if(c=this.fK(c)){var e={};e.id=c.getId();e.selected=c.gb();e.tooltip=c.Eh();e.label=
c.getData().label;var h=c.getData().backgroundStyle;h&&h instanceof Object&&(h=a.j.OU(h));e.background=h;e.icon=this.g0(c.afa());e.expanded=c.gd();return e}return null};F.prototype.k3a=function(c){if(c=this.pDa(c)){var e={};e.id=c.getId();e.selected=c.gb();e.tooltip=c.Eh();e.label=c.getData().label;e.color=c.aL();e.width=c.zz();e.style=this.qDa(c.gV());e.startNode=c.Ri();e.endNode=c.Ah();e.startConnectorType=c.Rv();e.endConnectorType=c.Ts();e.promoted=c.Jl();c.Jl()&&(e.links=a.bb.clone(c.getData()._links));
return e}return null};F.prototype.H3a=function(a,c){var e=this.fK(a),h=this.fK(c);if(!e||!h)return null;e=E.rya(e.getId(),h.getId());return(e=this.wa.mg(e))?(h={},h.id=e.getId(),h.selected=e.gb(),h.tooltip=e.Eh(),h.color=e.aL(),h.width=e.zz(),h.style=this.qDa(e.gV()),h.startNode=e.Ri(),h.endNode=e.Ah(),h.startConnectorType=e.Rv(),h.endConnectorType=e.Ts(),h.count=e.getData()._links.length,h):null};F.prototype.qDa=function(c){return this.wa.a.sp?a.j.OU(c):c&&c instanceof Object?c._type==E.o7?(c=a.bb.clone(c),
delete c._type,a.j.OU(c)):c._type:c};F.prototype.M2a=function(){return this.wa.bv};F.prototype.g0=function(c){if(c){var e={};e.shape=c instanceof a.W?c.Hc():"none";c.Hd()&&(e.color=c.Hd().Zb());return e}return null};F.prototype.fK=function(a){var c=this.wa.JS();return 0<=a&&a<c.length?this.wa.Ib(c[a]):null};F.prototype.pDa=function(a){var c=this.wa.zJ();return 0<=a&&a<c.length?this.wa.mg(c[a]):null};a.K(a,"Diagram",a.Nb);a.K(a.Nb,"newInstance",a.Nb.newInstance);a.K(a.Nb.prototype,"highlight",a.Nb.prototype.Zd);
a.K(a.Nb.prototype,"select",a.Nb.prototype.select);a.K(a.Nb.prototype,"getAutomation",a.Nb.prototype.Bi);a.K(a.Nb.prototype,"processDefaultHoverEffect",a.Nb.prototype.zy);a.K(a.Nb.prototype,"processDefaultSelectionEffect",a.Nb.prototype.OI);a.K(a.Nb.prototype,"processDefaultFocusEffect",a.Nb.prototype.vC);a.K(a.Nb.prototype,"clearDisclosedState",a.Nb.prototype.M0a);a.K(a.Nb.prototype,"expand",a.Nb.prototype.expand);a.K(a.Nb.prototype,"collapse",a.Nb.prototype.collapse);a.K(F.prototype,"getDomElementForSubId",
F.prototype.Sh);a.K(F.prototype,"getNodeCount",F.prototype.Aj);a.K(F.prototype,"getLinkCount",F.prototype.fC);a.K(F.prototype,"getNode",F.prototype.Me);a.K(F.prototype,"getLink",F.prototype.k3a);a.K(F.prototype,"getPromotedLink",F.prototype.H3a);a.K(F.prototype,"getExpanded",F.prototype.M2a)})(dvt);
  return dvt;
});
