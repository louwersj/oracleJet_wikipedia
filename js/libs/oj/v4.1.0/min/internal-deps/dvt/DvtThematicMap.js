/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(['./DvtToolkit', './DvtPanZoomCanvas'], function(dvt) {
  // Internal use only.  All APIs and functionality are subject to change at any time.

var ga;function ka(a,F){0==a.indexOf("dvt.")&&(a=a.substring(4));var D=a.split("."),E=eval("dvt");D[0]in E||!E.execScript||E.execScript("var "+D[0]);for(var v;D.length&&(v=D.shift());)D.length||void 0===F?E=E[v]?E[v]:E[v]={}:E[v]=F}Math.floor(2147483648*Math.random()).toString(36);
(function(a){function F(a){this.Init(a)}function D(a,c,d){this.Init(a,c,d)}function E(a,c){this.Init(a,c)}function v(a,c,d,e,f){this.Init(a,c,d,e,f)}function x(a,c,d,e,f){this.Init(a,c,d,e,f)}function f(a,c,d){this.Init(a,c,d)}function c(a,c,d,e,f,h){this.Init(a,c,d,e,f,h)}function p(a,c,d,e,f,h,n){this.Init(a,c,d,e,f,h,n)}function e(a,c,d,e,f){this.Init(a,c,d,e,f)}function h(a,c,d,e,f,h){this.Init(a,c,d,e,f,h)}function u(a,c,d,e,f,h){this.Init(a,c,d,e,f,h)}function t(a,c){this.Init(a,c)}function H(a,
c,d){this.Init(a,c,d)}function y(a,c){this.Init(a,c)}function n(a){this.Ta=a}function z(){this.Init({fusion:z.DEFAULT,alta:z.Rg})}a.kc=function(a,c,d){this.Init(a,c,d)};a.f.v(a.kc,a.Ed);a.kc.Sxa=6;a.kc.prototype.Init=function(c,d,e){a.kc.C.Init.call(this,c,d,e);this.yn=[];this.cCa();this.Cja=this.ws=!1;this.Ff=new z;this.Z$=this.Faa=this.Rma=!1;this.UZa={};this.t9=!1;this.$Ba();this.u.Xb(this,this)};a.kc.prototype.cCa=function(){this.pBa=new a.ca(this.a);this.N9=new a.ca(this.a);this.WJ=new a.ca(this.a);
this.SG=new a.ca(this.a);this.$T=new a.ca(this.a)};a.kc.newInstance=function(c,d,e){return new a.kc(c,d,e)};a.kc.prototype.ne=function(c){a.kc.C.ne.call(this,c);a.m.Hl()||(this.J.animationOnDisplay="none",this.J.animationOnMapChange="none");(new F(this)).parse(this.J)};a.kc.prototype.C8a=function(a){this.Q2=a};a.kc.prototype.uIa=function(){var c=this.J.maxZoom;return this.Faa?isNaN(c)?a.kc.Sxa:Math.max(c,1):1};a.kc.prototype.rL=function(){return"fixed"==this.J.markerZoomBehavior};a.kc.prototype.tGa=
function(a){this.yn.push(a)};a.kc.prototype.ssa=function(a){for(var c=0;c<this.yn.length;c++)if(this.yn[c].AM==a)return this.yn[c]};a.kc.prototype.f8a=function(a){this.Cja=this.nz&&this.nz!=a;this.nz=a};a.kc.prototype.LV=function(a){this.Ow=parseFloat(a)};a.kc.prototype.Lb=function(){return this.Ow};a.kc.prototype.$ra=function(){var a=this.J.tooltipDisplay;switch(a){case "shortDesc":return"shortDescOnly";case "none":return a;default:return"auto"}};a.kc.prototype.Y7a=function(a){this.Rma=a};a.kc.prototype.e8=
function(){a.kc.C.e8.call(this);!this.kz&&this.GYa&&(this.IEa=this.J.mapProvider,this.yn=[],this.Z$=this.Faa=!0,this.jU=this.le,this.cCa(),this.u.kn(this),this.$Ba(),this.t9=!1,this.u.ed(),this.u.Xb(this,this))};a.kc.prototype.$Ba=function(){this.u=new D(this.a,this.dispatchEvent,this);this.u.Lf(this);a.m.cb()?this.zv=null:(this.zv=new E(this,this.u),this.u.Zr(this.zv))};a.kc.prototype.Fm=function(){a.kc.C.Fm.call(this);var c=new a.ca(this.a),d=new a.ca(this.a);this.le=this.pc;this.le.B(c);this.le.$c.B(d);
this.kaa(c,d);if(this.Qw){this.Vq(!0);d=new a.U(0,0,this.getWidth(),this.getHeight());if(null==this.nz){var e=this.J.mapProvider;this.IEa!==e&&(this.Cja=!0,this.IEa=e)}if(this.ws||this.jU)this.Cja&&!this.kz&&(e=this.J.animationOnMapChange,e="auto"===e?"alphaFade":null)&&(this.Cb=a.Ra.QK(this.a,e,this.jU,this.le,d,this.Ow),this.B(this.jU));else if(e=this.J.animationOnDisplay,e="auto"===e?"alphaFade":null)this.Cb=a.Ra.YD(this.a,e,this.le,d,this.Ow);this.Cb?(this.u.ed(),this.u.kn(this),this.t9=!0,this.Cb.pg(this.tw,
this),this.Cb.play()):this.tw();this.GYa=c;this.a.DL([this]);this.ws=!0}};a.kc.prototype.tUa=function(){var a=this.le.TH,c=this.Qw.w4(),d=this.le.ve();return Math.min((d.b-2*a)/c.b,(d.i-2*a)/c.i)};a.kc.prototype.kaa=function(a,c){c.B(this.pBa);c.B(this.N9);this.rL()?a.B(this.WJ):c.B(this.WJ);a.B(this.SG);a.B(this.$T);var d=this.le.$c.Wa();this.Aja=!1;for(var e=0;e<this.yn.length;e++){var f=this.yn[e];if(!this.Aja&&f instanceof x||!(f instanceof x))f.ia(d),!this.Aja&&f instanceof x&&(this.Aja=!0,this.Qw=
f)}this.Qw&&(d=this.Qw.ZO,this.ZO!=d&&(this.ZO=d),this.NFa(),this.le.Tz(null),this.le.Sz(null),this.le.L6(!0),this.le.TV(!0),this.le.mJ(null,this.Qw.w4()),this.jGa(),this.le.L6(this.Faa),this.le.TV(this.Z$))};a.kc.prototype.NFa=function(){if(this.zv){var a=this.F4();0==a.length&&(a=this.eR());0==a.length&&(a=this.G4());this.u.V7a(a[0])}};a.kc.prototype.f9a=function(a,c,d){this.ws=!1;this.Vq(!0);(new F(this)).d8([a],this.ssa(c),this.Qw.AM,d);this.ws=!0;this.NFa();this.a.DL([this]);this.jGa()};a.kc.prototype.oFa=
function(){this.Bj||this.nl();this.Cb=null;this.Bj=!1};a.kc.prototype.jGa=function(){var a=this.tUa();this.le.Tz(a);this.le.Sz(a*this.uIa())};a.kc.prototype.Sya=function(){this.Qw.ZO&&this.le.mJ(null,this.Qw.w4());this.Rma&&this.nGa();this.oFa()};a.kc.prototype.bGa=function(c){var d=new a.Da;d.translate(c.zc,c.tc);this.rL()&&this.WJ.mb(d);this.SG.mb(d);this.$T.mb(d)};a.kc.prototype.KUa=function(c){var d=this.le.TH,e=this.le.ve(),d=new a.U(d,d,e.b-2*d,e.i-2*d),f=this.Qw.w4(),h=f.x*c,e=f.y*c,n=f.b*
c;c*=f.i;n>d.b?(this.le.D6(d.x+d.wab-(h+n)),this.le.B6(d.x-h)):(h=(d.x+d.b)/2-(h+n/2),this.le.D6(h),this.le.B6(h));c>d.i?(this.le.E6(d.y+d.i-(e+c)),this.le.C6(d.y-e)):(c=(d.y+d.i)/2-(e+c/2),this.le.E6(c),this.le.C6(c))};a.kc.prototype.eGa=function(c,d){var e=c.da;if(e){var f=this.le.$c,h=e.Z3(f,f.Wa);d&&(this.kCa=f.Wa(),e.aa(a.L.ji,this,this.mWa,this.ZZa,h));f=new a.Da(1,0,0,1,h.zc,h.tc);this.rL()&&e.aa(a.L.ji,this.WJ,this.WJ.Wa,this.WJ.mb,f);e.aa(a.L.ji,this.SG,this.SG.Wa,this.SG.mb,f);e.aa(a.L.ji,
this.$T,this.$T.Wa,this.$T.mb,f)}};a.kc.prototype.Bo=function(c){switch(c.Cn){case a.vd.u8:this.Z$&&this.KUa(c.hU);break;case a.vd.Vga:case a.vd.VM:this.eGa(c,!0);break;case a.vd.MY:var d=c.hU;if(null!=d){var e=this.le.$c.Wa();c.da=null;this.dispatchEvent(a.la.Dca(e.zc,e.tc,d));this.bGa(e);for(d=0;d<this.yn.length;d++)this.yn[d].Bo(c,e)}break;case a.vd.Wga:this.nHa();break;case a.vd.Yga:this.dispatchEvent(a.la.Dca())}};a.kc.prototype.RS=function(c){var d=c.Cn;if(d==a.Fi.VM||d==a.Fi.Qga)this.eGa(c,
!1);else if(d==a.Fi.Pga&&null!=c.FEa)for(d=this.le.$c.Wa(),c.da=null,this.dispatchEvent(a.la.Dca(d.zc,d.tc,this.le.Vo())),this.bGa(d),c=0;c<this.yn.length;c++)this.yn[c].RS(d)};a.kc.prototype.lya=function(){return a.Ed.Jxa};a.kc.prototype.kya=function(){return null};a.kc.prototype.K8a=function(a){this.Faa=a};a.kc.prototype.q8a=function(a){this.Z$=a};a.kc.prototype.nGa=function(){var c=this.N9.V(),d=this.WJ.V();if(this.rL()){var e=this.le.$c.Wa();d.b/=e.kd;d.i/=e.ke;d.x/=e.kd;d.y/=e.ke}c=c.Gn(d);this.Vq(!0);
var f;this.le.KA||(f=this.le.iy(),this.le.Sz(f*a.kc.Sxa));var h;a.m.Hl()&&(h=new a.L(this.a,.3));0<c.b&&0<c.i?this.le.mJ(h,c):this.le.mJ(h,this.Qw.w4());h&&h.play();f&&this.le.Sz(f)};a.kc.prototype.sQ=function(c){var d=new a.L(this.a,.3);this.le.mJ(d,c);d.play()};a.kc.prototype.w1a=function(a){a||(a=this.oGa);a||(a=this.m_);this.sQ(a.V())};a.kc.prototype.nHa=function(){if(this.l_){var a=this.ssa(this.Xja).qo(this.l_);if(a&&(a=a.Fd)){for(var a=a.getSelection(),c=0;c<a.length;c++)a[c]=a[c].Ga();if(0<
a.length){for(var c=a[0].V(),d=1;d<a.length;d++)c=c.Gn(a[d].V());this.sQ(c)}}}};a.kc.prototype.F4=function(){var a=[];if(this.Qw){var c=this.Qw.Kq,d;for(d in c)a=a.concat(c[d].v3a())}return a};a.kc.prototype.eR=function(){for(var a=[],c=0;c<this.yn.length;c++){var d=this.yn[c].Kq,e;for(e in d)a=a.concat(d[e].hP)}return a};a.kc.prototype.G4=function(){for(var a=[],c=0;c<this.yn.length;c++){var d=this.yn[c].Kq,e;for(e in d)a=a.concat(d[e].gP)}return a};a.kc.prototype.ZZa=function(a){this.kCa=a;if(this.rL()){for(var c=
this.eR(),d=0;d<c.length;d++)c[d].Bo(a);c=this.SG.Vc();for(d=0;d<c;d++)for(var e=this.SG.dc(d),f=e.Vc(),h=0;h<f;h++){var n=e.dc(h);n instanceof u&&n.update(a)}}};a.kc.prototype.mWa=function(){return this.kCa};a.kc.prototype.C7a=function(a,c,d){this.Xja=c;this.l_=a;this.m_=d};a.kc.prototype.dispatchEvent=function(c){"selection"==c.type&&this.mXa(c);a.kc.C.dispatchEvent.call(this,c)};a.kc.prototype.mXa=function(c){this.l_?(this.VZa=c.selection,this.UZa[this.Xja]=this.ssa(this.Xja).qo(this.l_).T3a(this.VZa),
c.clientId=this.l_,!this.m_||this.m_ instanceof a.W||this.m_ instanceof a.xc||(this.oGa=this.m_)):this.oGa=null};a.kc.prototype.Ec=function(){for(var c=this.yn,d=0;d<c.length;d++)c[d].Ec();a.kc.C.Ec.call(this)};a.kc.prototype.tw=function(){this.jU&&(this.removeChild(this.jU),this.jU=null);this.oFa();this.Rma&&this.nGa();this.J.highlightedCategories&&0<this.J.highlightedCategories.length&&this.Zd(this.J.highlightedCategories);this.t9&&(this.u.Lf(this),this.t9=!1)};a.kc.prototype.Bi=function(){this.Lc||
(this.Lc=new n(this));return this.Lc};a.kc.prototype.vk=function(){return a.I.Ja(a.I.pa,"THEMATIC_MAP")};a.kc.prototype.Zd=function(c){this.J.highlightedCategories=a.bb.clone(c);a.sd.Zd(c,this.F4().concat(this.eR()).concat(this.G4()),"any"==this.J.highlightMatch)};a.kc.prototype.zy=function(a,c){var d=this.Ela(a);d&&d.zy(c)};a.kc.prototype.OI=function(a,c){var d=this.Ela(a);d&&d.OI(c)};a.kc.prototype.vC=function(a,c){var d=this.Ela(a);d&&d.vC(c)};a.kc.prototype.Ela=function(a){for(var c=0;c<this.yn.length;c++){var d=
this.yn[c].Kq,e;for(e in d)for(var f=d[e].hP,h=0;h<f.length;h++)if(f[h].getId()===a)return f[h]}return null};a.f.v(z,a.ka);z.DEFAULT={animationDuration:500,animationOnDisplay:"none",animationOnMapChange:"none",highlightMatch:"all",hoverBehavior:"none",initialZooming:"none",markerZoomBehavior:"fixed",panning:"none",tooltipDisplay:"auto",touchResponse:"auto",visualEffects:"none",zooming:"none",styleDefaults:{skin:"alta",_areaStyle:{backgroundColor:"#B8CDEC",borderColor:"#FFFFFF"},hoverBehaviorDelay:200,
dataAreaDefaults:{borderColor:"#FFFFFF",hoverColor:"#FFFFFF",opacity:1,selectedInnerColor:"#FFFFFF",selectedOuterColor:"#000000"},dataMarkerDefaults:{borderColor:"#FFFFFF",borderStyle:"solid",borderWidth:.5,color:"#000000",height:8,labelStyle:"font-family:Tahoma;font-size:13pt;color:#000000",opacity:.4,scaleX:1,scaleY:1,shape:"circle",width:8},linkDefaults:{color:"#9bb2c7",_hoverColor:"#FFFFFF",_selectedColor:"#000000",width:2},labelStyle:"font-family:Tahoma;font-size:11pt;"},resources:{images:{},
translations:{}}};z.Rg={styleDefaults:{_areaStyle:{backgroundColor:"#DDDDDD",borderColor:"#FFFFFF"},dataMarkerDefaults:{color:"rgb(51,51,51)",labelStyle:a.ka.cp+"color:#333333",opacity:1},labelStyle:a.ka.cp}};z.MMa={animationOnLayerChange:"none",labelDisplay:"auto",labelType:"short"};z.OMa={animationOnDataChange:"none",selectionMode:"none"};z.prototype.y0a=function(c,d){var e=z.MMa;d&&(e=a.bb.ae({labelDisplay:"off"},e));return a.bb.ae(c,e)};z.prototype.B0a=function(c){return a.bb.ae(c,z.OMa)};z.Bh=
function(a,c){return Math.ceil(c*a.aab())};z.prototype.bL=function(){return{mapProvider:!0,areaLayers:{areaDataLayer:{areas:!0,markers:!0,links:!0}},pointDataLayers:{markers:!0,links:!0},areas:!0,markers:!0,links:!0}};a.kc.prototype.d$=function(){for(var a=0;a<this.yn.length;a++){var c=this.yn[a].Kq,d;for(d in c){var e=c[d].Go;if(e&&e.sv)return e}}return null};a.kc.prototype.hn=function(a,c,d){return(a=this.d$())?a.hn(d):!1};a.kc.prototype.El=function(a,c){var d=this.d$();return d?d.El(a,c):null};
a.kc.prototype.ey=function(a,c){var d=this.d$();return d?d.ey(a,c):null};a.kc.prototype.aC=function(a,c){var d=this.d$();return d?d.aC(a,c):null};a.f.v(function(a){this.Qw=a},a.bM);a.f.v(n,a.Lc);n.prototype.Ql=function(a){return(a=this.Ta.Ob().Ya(a))&&(a instanceof e||a instanceof h)?this.bXa(a):null};n.prototype.Sh=function(c){if(c==a.Lc.Dw)return this.eA(this.Ta);var d=c.indexOf(":"),e=c.indexOf("[");return 0<d&&0<e?this.zWa(c.substring(0,d),c.substring(d+1,e),parseInt(c.substring(e+1,c.length-
1))):null};n.prototype.getData=function(a,c,d){return(a=this.aDa(a,c,d))?(c={},c.color=a.pi(),c.tooltip=a.Eh(),d=a.ag(),c.label=d?d.Wc():null,c.selected=a.gb(),c):null};n.prototype.zWa=function(a,c,d){return(a=this.aDa(a,c,d))?a.Ga().ja():null};n.prototype.bXa=function(c){for(var d=c.Ga(),e=this.Ta.yn,f=0;f<e.length;f++){var h=e[f].Kq,n;for(n in h)if(d instanceof a.Jb){for(var p=h[n].It,t=0;t<p.length;t++)if(p[t]===c)return this.e$(n)+":area["+t+"]";p=h[n].gP;for(t=0;t<p.length;t++)if(p[t]===c)return this.e$(n)+
":link["+t+"]"}else if(d instanceof a.W||d instanceof a.xc)for(p=h[n].hP,t=0;t<p.length;t++)if(p[t]===c)return this.e$(n)+":marker["+t+"]"}return null};n.prototype.aDa=function(a,c,d){for(var e=this.Ta.yn,f=0;f<e.length;f++){var h=e[f].Kq,n;for(n in h)if(this.e$(n)==a){if("area"==c)return h[n].M9[d];if("marker"==c)return h[n].T9[d];if("link"==c)return h[n].R9[d]}}return null};n.prototype.e$=function(a){var c=a.lastIndexOf(":");return 0<c?a.substring(c+1):a};a.f.v(y,a.Jb);y.oM=2;y.i8=1;y.j8=4;y.h8=
6;y.prototype.Init=function(a,c){y.C.Init.call(this,a);this.Zoom=1;this.ao=c};y.prototype.hc=function(a){this.fk!=a&&(a&&(this.he?(this.sJ(),this.ol=this.PF(this.ol,y.oM),this.yk=this.PF(this.yk,y.h8)):(this.jp=this.PF(this.jp,y.i8),this.tn=this.PF(this.tn,y.j8))),y.C.hc.call(this,a))};y.prototype.Rc=function(){this.gb()?(this.sJ(),this.ol=this.PF(this.ol,y.oM),this.yk=this.PF(this.yk,y.h8)):this.eq=this.PF(this.eq,y.oM);y.C.Rc.call(this)};y.prototype.sJ=function(){this.ol||(this.ol=this.eq.clone(),
this.ol.jb(y.oM),this.ao&&this.ol.We(!0));this.yk||(this.yk=this.tn.clone(),this.yk.jb(y.h8),this.ao&&this.yk.We(!0))};y.prototype.Cc=function(){this.gb()&&(this.jp=this.PF(this.jp,y.i8),this.tn=this.PF(this.tn,y.j8));y.C.Cc.call(this)};y.prototype.$o=function(a,c){y.C.$o.call(this,a,c);this.ao&&(this.eq&&this.eq.We(!0),this.fA&&this.fA.We(!0));return this};y.prototype.Fq=function(a,c){y.C.Fq.call(this,a,c);this.ao&&(this.jp&&this.jp.We(!0),this.tn&&this.tn.We(!0));return this};y.prototype.cs=function(a,
c){y.C.cs.call(this,a,c);this.ao&&(this.ol&&this.ol.We(!0),this.yk&&this.yk.We(!0));return this};y.prototype.IU=function(a,c){if(!this.ao){var d=a.fe();d&&(d=d.clone(),d.jb(c/this.Zoom),a.Ha(d))}};y.prototype.PF=function(a,c){if(!this.ao){var d=a.clone();d.jb(c/this.Zoom);return d}return a};y.prototype.O4a=function(a){this.Zoom=a.kd;this.gb()?this.he?(this.IU(this.Qf,y.oM),this.IU(this,y.h8)):(this.IU(this.Qf,y.i8),this.IU(this,y.j8)):this.he?this.IU(this.Qf,y.oM):this.IU(this,1)};a.f.v(H,a.ca);H.prototype.Init=
function(c,d,e){H.C.Init.call(this,c);this.oD=d;d instanceof a.ec?(this.Xa=d.getWidth(),this.nb=d.getHeight(),this.B(d)):(this.ja().appendChild(d),d=a.uk.lI(c,this),this.Xa=d.b,this.nb=d.i);this.Zy=new a.Rect(c,0,0,this.Xa,this.nb);this.Zy.Yb();c=new a.ma(e.selectedInnerColor,1,2);d=new a.ma("rgb(235, 236, 237)",1,2);var f=new a.ma(e.selectedInnerColor,1,1),h=new a.ma(e.selectedOuterColor,1,2),n=new a.ma(e.selectedInnerColor,1,2);e=new a.ma(e.selectedOuterColor,1,2);this.Zy.$o(c,d).Fq(f,h).cs(n,e);
this.Zy.I6(a.Oa.WX);this.Ad(this.Zy,0)};H.prototype.Od=function(c,d){a.m.cb()?this.Zy.Od(c,d):H.C.Od.call(this,c,d)};H.prototype.zg=function(c){a.m.cb()?this.Zy.zg(c):H.C.zg.call(this,c)};H.prototype.getWidth=function(){return this.Xa};H.prototype.getHeight=function(){return this.nb};H.prototype.Jn=function(a){this.Zy.Jn(a)};H.prototype.fb=function(){return this.Zy.fb()};H.prototype.gb=function(){return this.Zy.gb()};H.prototype.hc=function(a){this.Zy.hc(a)};H.prototype.Rc=function(){this.Zy.Rc()};
H.prototype.Cc=function(){this.Zy.Cc()};H.prototype.i9a=function(c){this.oD!==c&&(this.oD&&(this.oD instanceof a.ec?this.removeChild(this.oD):this.ja().removeChild(this.oD)),c instanceof a.ec?this.B(c):this.ja().appendChild(c),this.oD=c)};H.prototype.KQ=function(c){this.oD instanceof a.ec&&this.oD.KQ(c)};var w;this?this.DvtBaseMapManager?w=this.DvtBaseMapManager:(this.DvtBaseMapManager=w={},w._UNPROCESSED_MAPS=[[],[],[]],w._UNPROCESSED_PARENT_UPDATES=[[]]):window.DvtBaseMapManager?w=window.DvtBaseMapManager:
(w={},window.DvtBaseMapManager=w,w._UNPROCESSED_MAPS=[[],[],[]],w._UNPROCESSED_PARENT_UPDATES=[[]]);a.f.v(w,a.f,"DvtBaseMapManager");w.kN=0;w.XC=1;w.Fza=2;w.sha=3;w.dZ=4;w.tN="__index";w.ts={};w.R1a=function(c,d){w.BD();var e=w.ts[c][d];return e&&(e=e[w.dZ])?new a.U(e[0],e[1],e[2],e[3]):null};w.I1a=function(a,c){w.BD();var d=w.ts[a][c];return d?d[w.sha]:null};w.H1a=function(a,c){var d=[],e=w.tHa(a,c),f;for(f in e)d.push(f);return d};w.J1a=function(a,c){w.BD();var d=w.ts[a][c];return d?d[w.kN]:null};
w.cab=function(a,c,d){w.BD();a=w.ts[a][c];var e;a&&(e=a[w.kN]);return e&&e[d]?e[d][1]:null};w.f2a=function(c,d){w.BD();var e=w.ts[c];return e&&(e=e.cities)&&(e=e[w.XC][d])?new a.P(e[0],e[1]):null};w.g2a=function(a,c){w.BD();var d=w.ts[a];return d&&(d=d.cities)&&(d=d[w.kN][c])?d[1]:null};w.F1a=function(c,d,e){w.BD();return(c=w.ts[c])&&(d=c[d])&&(d=d[w.sha])&&d[e]?a.U.create(d[e][0]).Yd():null};w.tHa=function(a,c,d,e,f){w.BD();c=w.ts[a][c];a=c[w.XC];return(c=c[w.dZ])?w.j_a(a,c[2],c[3],d,e,f):a};w.RIa=
function(a,c,d){w.BD();return(a=w.ts[a][c])?a[w.XC][d]:null};w.E6a=function(a,c,d,e,f,h,n,p){var t=w.ts[a];t||(t={},t[w.tN]=[],w.ts[a]=t);a=t[c];a||(a={},t[c]=a,null!=n&&(t[w.tN][n]=c));a[w.kN]=d;a[w.XC]=e;a[w.Fza]=f;a[w.sha]=h;a[w.dZ]=p;a[w.tN]=n};w.H6a=function(a,c,d){var e=w.ts[a];e||(e={},w.ts[a]=e);a=e[c];a||(a={},e[c]=a);(a=e[c])&&(a[w.kN]=d)};w.h9a=function(a,c,d){if(a=w.ts[a])if(c=a[c])for(var e in d)c[w.kN][e]=d[e]};w.BD=function(){var a,c,d=w._UNPROCESSED_MAPS;if(d){for(a=0;a<d[0].length;a++)c=
d[0][a],w.E6a(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7]);for(a=0;a<d[1].length;a++)c=d[1][a],w.H6a(c[0],c[1],c[2]);for(a=0;a<d[2].length;a++)c=d[2][a],w.h9a(c[0],c[1],c[2]);w._UNPROCESSED_MAPS=[[],[],[]]}if(d=w._UNPROCESSED_PARENT_UPDATES){for(a=0;a<d[0].length;a++){c=d[0][a];var e=c[1],f=c[2],h=w.ts[c[0]],n;if(h){if(e=h[e])for(e[w.Fza]=c[3],n=e[w.dZ],a=e[w.tN],e=h[w.tN],e.splice(a,0,f),h[f][w.tN]=a,a+=1;a<e.length;a++)(f=h[e[a]])&&f[w.tN]++;(e=h[c[2]])&&(e[w.dZ]=n)}}w._UNPROCESSED_PARENT_UPDATES=[[]]}};
w.j_a=function(c,d,e,f,h,n){if(0<n){d=1/(Math.min(f/d,h/e)*n);if(1>=d)return c;e=[];if(c)for(var p in c)f=c[p],isNaN(f)&&(f=a.G.GK(c[p])),e[p]=a.G.zLa(f,d);return e}return c};w.h3a=function(a,c){w.BD();var d=w.ts[a][c],e={};if(d){var d=d[w.kN],f;for(f in d)e[f]=d[f][1];if("cities"!==c&&!d)for(f=w.H1a(a,c),d=0;d<f.length;d++)e[f[d]]=null}return e};a.f.v(t,a.f);t.prototype.Init=function(a,c){this.af=a;this.dO=c};t.prototype.rd=function(){return this.dO};t.prototype.Xd=function(){return[this.af]};a.f.v(u,
a.M);u.prototype.Init=function(c,d,e,f,h,n){u.C.Init.call(this,c,d,0,0);this.ao=n;this.iD=[];this.dd(!1);this.$f();this.ug();this.sl=null;this.qx=f;this.xP=h;if(e&&(this.iD.push(a.U.create(e[0])),1<e.length))for(this.Bna=[],d=1;d<e.length;d++)f=e[d],this.iD.push(a.U.create(f[0])),f=new a.Co(c,f[1]),f.Xc(!0),h=new a.ma("#000000"),this.ao&&h.We(!0),f.Ha(h),this.Bna.push(f)};u.prototype.T_a=function(a){this.iD.push(a)};u.prototype.Q4a=function(){return 0<this.iD.length};u.prototype.update=function(c){c=
c.kd;for(var d=-1,e=this.V(),f=!1,h=0;h<this.iD.length;h++){var n=this.iD[h].b*c;if(e.i<=this.iD[h].i*c)if(e.b<=n){d=h;break}else if(this.getParent()||(f=!0,this.xP.B(this)),this.V().b<=n){d=h;break}}-1==d&&"on"==this.qx&&(d=this.iD.length-1);this.wka!=d?(-1==d?this.reset():(this.getParent()||this.xP.B(this),e=this.iD[d].Yd(),this.Wr(e),this.Bna&&(this.xP.removeChild(this.lz),this.lz=null,0<d?(this.lz=this.Bna[d-1],this.xP.B(this.lz),f=this.Bd(),f.Ma(a.j.od,"#000000"),this.ub(f),f=this.iD[d],h=this.lz.Df(),
n=h.length,f.x>h[n-2]?(this.Ph(),this.ug(),this.Wr(new a.P(f.x,e.y))):f.y>h[n-1]?(this.Mk(),this.$f(),this.Wr(new a.P(e.x,f.y))):f.x+f.b<h[n-2]?(this.dh(),this.ug(),this.Wr(new a.P(f.x+f.b,e.y))):f.y+f.i<h[n-1]&&(this.jm(),this.$f(),this.Wr(new a.P(e.x,f.y+f.i)))):(this.$f(),this.ug(),f=this.Bd(),f.Ma(a.j.od,this.mEa),this.ub(f)))),this.wka=d):-1==d&&f&&this.xP.removeChild(this);-1!=this.wka&&(d=new a.Da,d.translate(c*this.sl.x-this.sl.x,c*this.sl.y-this.sl.y),this.mb(d),this.lz&&(this.lz.mb(new a.Da(c,
0,0,c)),this.ao||(d=this.lz.fe().clone(),d.jb(1/c),this.lz.Ha(d))))};u.prototype.Wr=function(a){this.sl=a;this.na(a.x);this.Pa(a.y)};u.prototype.Yd=function(){return this.sl};u.prototype.ub=function(c){u.C.ub.call(this,c);this.mEa||(this.mEa=c.N(a.j.od))};u.prototype.reset=function(){this.xP.removeChild(this);this.wka=-1;this.lz&&(this.xP.removeChild(this.lz),this.lz=null)};a.f.v(h,a.f,"DvtMapObjPeer");h.kda=0;h.b7=1;h.lda=2;h.prototype.Init=function(a,c,d,e,f,h){this.sb=a;this.fr=c;this.R=d;this.Tc=
this.xl=this.wi=!1;this.R.eS&&this.R.eS(a.color);this.Md=e;this.sl=f;this.Zoom=1;this.Fa=c.Ta;this.NXa=h;this.sb.categories||this.Md&&(this.sb.categories=[this.Md.Wc()]);"auto"==this.Fa.$ra()&&h&&(this.sb.shortDesc=a.shortDesc?h+": "+a.shortDesc:h);this.R&&(c=a.svgClassName||a.className,this.R.Ma(a.svgStyle||a.style).sc(c),this.R.zg("img"));this.qs();this.Jn(this.fb())};h.prototype.getId=function(){return this.sb.id};h.prototype.aE=function(){return this.sb.location};h.prototype.Yd=function(){return this.sl};
h.prototype.LFa=function(a){this.sl=a;this.EZ()};h.prototype.Ga=function(){return this.R};h.prototype.ag=function(){return this.Md};h.prototype.qo=function(){return this.fr};h.prototype.ph=function(){return this.sb.action};h.prototype.Ci=function(a){this.R.Ci(a);this.Md&&this.Md.Ci(a)};h.prototype.Eh=function(){return this.sb.shortDesc};h.prototype.O6a=function(){this.Md=null};h.prototype.ve=function(){return this.R.getWidth?this.R.getWidth()*this.R.getHeight():0};h.prototype.rd=function(){var a=
this.sb.categories;return a?a:[]};h.prototype.bf=function(){if("none"!=this.Fa.$ra()){var a=this.Fa.A()._tooltip;return a?this.Fa.a.cf().Rs(a.renderer,this.zj()):this.Eh()}return null};h.prototype.zj=function(){return{color:this.pi(),component:this.Fa.A()._widgetConstructor,data:this.sb,id:this.getId(),label:this.Md?this.Md.Wc():null,location:this.aE(),locationName:this.NXa,tooltip:this.Eh(),x:this.sb.x,y:this.sb.y}};h.prototype.pi=function(){return this.sb.color?this.sb.color:"#000000"};h.prototype.te=
function(){var c=[];this.fb()&&c.push(a.I.Ja(a.I.pa,this.gb()?"STATE_SELECTED":"STATE_UNSELECTED"));return a.R.lm(this.Eh(),c)};h.prototype.Xd=function(){return[this.Ga()]};h.prototype.qs=function(){if(!a.m.Vj()){var c=this.te();c&&this.R.Od("label",c)}};h.prototype.Jn=function(a){var c=this.ag();this.R.Jn&&(this.R.Jn(a),c&&a&&c.setCursor("pointer"))};h.prototype.fb=function(){return this.R.fb?"off"!==this.sb.selectable?this.fr.fb():!1:!1};h.prototype.gb=function(){return this.wi};h.prototype.hc=
function(a){if(this.fb()){var c=this.dm();this.wi=a;this.fr.A().selectionRenderer?this.f_(this.fr.A().selectionRenderer,this.dm(),c):this.OI(a);this.qs()}};h.prototype.Rc=function(){var a=this.dm();this.xl=!0;this.fr.A().hoverRenderer?this.f_(this.fr.A().hoverRenderer,this.dm(),a):this.zy(!0)};h.prototype.Cc=function(){var a=this.dm();this.xl=!1;this.fr.A().hoverRenderer?this.f_(this.fr.A().hoverRenderer,this.dm(),a):this.zy(!1)};h.prototype.pk=function(){return this.Lp};h.prototype.hn=function(a){for(var c=
this.fr.IT,d=0;d<a.length&&a[d]!=c;d++);return c};h.prototype.El=function(){return this.fr.vT(this)};h.prototype.Rp=function(){return this.fr.uT()};h.prototype.Kd=function(c){var d;if(c.type==a.MouseEvent.He||c.keyCode==a.KeyboardEvent.Kj&&c.ctrlKey)return this;(c.keyCode==a.KeyboardEvent.Ty||a.KeyboardEvent.iw)&&c.altKey?(d=this.qo().lV(this.getId()),d=E.g4(this,c,d)):d=a.ya.pI(this,c,this.H7());this.qo().Ta.TD(c,d);return d};h.prototype.H7=function(){return this.qo().Ta.eR()};h.prototype.md=function(c){return this.R.getParent()?
this.R.V(c?c:this.R.a.Gc):new a.U(0,0,0,0)};h.prototype.$j=function(){return this.R.ja()};h.prototype.rh=function(){var a=this.dm();this.Tc=!0;this.fr.A().focusRenderer?this.f_(this.fr.A().focusRenderer,this.dm(),a):this.vC(!0)};h.prototype.mf=function(){if(this.Ae()){var a=this.dm();this.Tc=!1;this.fr.A().focusRenderer?this.f_(this.fr.A().focusRenderer,this.dm(),a):this.vC(!1)}};h.prototype.Ae=function(){return this.Tc};h.prototype.Bo=function(a){this.R.getParent()&&(this.Zoom=a.kd,this.EZ())};h.prototype.Gca=
function(){if(this.Md){this.Md.$f();var c=this.R.Kg()*this.Zoom,d=this.R.Lg()*this.Zoom,e=this.R.getHeight(),f=this.R instanceof a.W?this.R.Hc():"image",h=this.sb.labelPosition;"top"==h?(d=d-e/2-4,this.Md.jm()):"bottom"==h?(d+=e/2,this.Md.Mk()):(d=f==a.W.WC?d+e/6:f==a.W.VC?d-e/6:d,this.Md.ug());this.Md.na(c).Pa(d)}};h.prototype.EZ=function(){var c=this.R.getWidth(),d=this.R.getHeight();if(null!=c&&null!=d&&this.R.getParent()){var e=0,f=this.sl.x,e=this.sl.y;this.R.rR&&(e=this.R.rR(),f=this.sl.x*Math.cos(e)-
this.sl.y*Math.sin(e),e=this.sl.x*Math.sin(e)+this.sl.y*Math.cos(e));f=this.sl.x*this.Zoom-f;e=this.sl.y*this.Zoom-e;this.R instanceof H&&(f+=this.sl.x-c/2,e+=this.sl.y-d/2);this.R.ib(f,e);a.m.gda(this.R);this.Gca()}};h.prototype.Mf=function(c,d){var e=new a.td(this.Fa.a,this.R,this.qo().Lb()),f=d.Ga();if(this.R.Hd){var n=f.Hd(),p=this.R.Hd();p instanceof a.oc&&!p.mc(n)&&(this.R.Ia(n),d.ag()&&this.Md&&(n=this.Md.Hd(),this.Md.Ia(d.ag().Hd().clone()),n.mc(this.Md.Hd())||e.da.aa(a.L.At,this.Md,this.Md.Hd,
this.Md.Ia,n)),e.da.aa(a.L.At,this.R,this.R.Hd,this.R.Ia,p))}this.R.Ps&&(p=d.Ga().Ps(),n=this.R.Ps(),p.x!=n.x||p.y!=n.y||p.b!=n.b||p.i!=n.i)&&(this.R.xC(p),e.da.aa(a.L.GJ,this.R,this.R.Ps,this.R.xC,n));p=f.rR();n=this.R.rR();if(p!=n){var t=p-n;t>Math.PI?p-=2*Math.PI:t<-Math.PI&&(p+=2*Math.PI);this.R.sE(p);e.da.aa(a.L.ta,this.R,this.R.rR,this.R.sE,n)}var t=d.Yd(),w=this.Yd();t&&w&&(t.x!=w.x||t.y!=w.y||p!=n)&&(this.LFa(new a.P(t.x,t.y)),e.da.aa(a.L.K8,this,this.Yd,this.LFa,new a.P(w.x,w.y)));this.Md&&
d.ag()?(p=d.ag().rb(),n=this.Md.rb(),p!=n&&(this.Md.na(p),e.da.aa(a.L.ta,this.Md,this.Md.rb,this.Md.na,n)),p=d.ag().vb(),n=this.Md.vb(),p!=n&&(this.Md.Pa(p),e.da.aa(a.L.ta,this.Md,this.Md.vb,this.Md.Pa,n)),d.ag().qa(0)):d.ag()&&d.ag().qa(0);f.qa(0);c.add(e,h.b7)};h.prototype.ai=function(c){var d=[this.R],e=this.ag();e&&d.push(e);d=new a.Wg(this.Fa.a,d,this.qo().Lb());c.add(d,h.kda)};h.prototype.nh=function(c){var d=[this.R];this.R.qa(0);var e=this.ag();e&&(e.qa(0),d.push(e));d=new a.dg(this.Fa.a,
d,this.qo().Lb());c.add(d,h.lda)};h.prototype.OI=function(a){this.R.hc&&this.R.hc(a)};h.prototype.vC=function(a){this.zy(a)};h.prototype.zy=function(a){a?this.R.Rc&&this.R.Rc():this.R.Cc&&!this.Ae()&&this.R.Cc()};h.prototype.f_=function(a,c,d){if(this.R instanceof H){var e=this.Fa.A()._contextHandler;if(e){var f=this.R.oD;c=e(this.R.ja(),f,this.sb,c,d);a=a(c);!a&&f&&this.Fa.a.sp||this.R.i9a(a)}}};h.prototype.dm=function(){return{hovered:this.xl,selected:this.gb(),focused:this.Ae()}};a.f.v(e,h,"DvtMapAreaPeer");
e.prototype.Init=function(a,c,d,f,h){e.C.Init.call(this,a,c,d,f,null,h)};e.prototype.t7a=function(a){this.nD=a};e.prototype.hc=function(a){this.fb()&&(a&&!this.xl&&this.nD.B(this.R),e.C.hc.call(this,a))};e.prototype.Rc=function(){this.nD.B(this.R);e.C.Rc.call(this)};e.prototype.Cc=function(){this.gb()?this.nD.B(this.R):this.nD.Ad(this.R,0);e.C.Cc.call(this)};e.prototype.Bo=function(a){e.C.Bo.call(this,a);this.R.getParent()&&(this.R.O4a(a),this.Gca(a))};e.prototype.Gca=function(a){this.ag()&&this.ag().update(a)};
e.prototype.H7=function(){return this.qo().Ta.F4()};e.prototype.Mf=function(a,c){e.C.Mf.call(this,a,c);this.qo().M1.Tca(this.aE(),!1)};e.prototype.EZ=function(){};a.f.v(p,h,"DvtMapLinkPeer");p.prototype.Init=function(a,c,d,e,f,h,n){p.C.Init.call(this,a,c,d);this.BK=e;this.ZJ=f;this.xaa=h;this.$ka=n};p.prototype.Kd=function(c){var d=this.fr.Ta.u.ya;if(c.type==a.MouseEvent.He||c.keyCode==a.KeyboardEvent.Kj&&c.ctrlKey)return this;if(d.D$===E.Iya)if(c.keyCode===a.KeyboardEvent.sg){var d=d.sEa.getId(),
d=this.qo().lV(d),e=d.indexOf(this);e++;e===d.length&&(e=0);d=d[e]}else if(c.keyCode===a.KeyboardEvent.kf)d=d.sEa.getId(),d=this.qo().lV(d),e=d.indexOf(this),e--,-1===e&&(e=d.length-1),d=d[e];else if(c.keyCode===a.KeyboardEvent.Ne)d=this.BK.x<=this.ZJ.x?this.xaa:this.$ka;else if(c.keyCode===a.KeyboardEvent.Be)d=this.BK.x>=this.ZJ.x?this.xaa:this.$ka;else return this;else d=a.ya.pI(this,c,this.H7());this.qo().Ta.TD(c,d);return d};p.prototype.H7=function(){return this.qo().Ta.G4()};p.prototype.EZ=function(){if(this.R.getParent()){var c=
new a.P(this.BK.x*this.Zoom,this.BK.y*this.Zoom),d=new a.P(this.ZJ.x*this.Zoom,this.ZJ.y*this.Zoom),c=F.CGa(this.fr,this.BK,this.ZJ,c,d);this.R.Vg(c);a.m.gda(this.R)}};p.prototype.Mf=function(c,d){var e=new a.td(this.Fa.a,this.R,this.qo().Lb()),f=d.Ga(),n=f.fe(),p=this.R.fe();p.Zb()!=n.Zb()&&(this.R.Ha(n),e.da.aa(a.L.eZ,this.R,this.R.fe,this.R.Ha,p));var n=d.ZJ,p=this.ZJ,t=!0;d.BK.mc(this.BK)&&n.mc(p)||(t=!1,this.R.qa(0),e.da.aa(a.L.ta,this.R,this.R.Kb,this.R.qa,1),e.da.aa(a.L.ta,f,f.Kb,f.qa,0));
t&&f.qa(0);c.add(e,h.b7)};a.f.v(c,a.ca);c.p$a=1;c.prototype.Init=function(a,d,e,f,h,n){c.C.Init.call(this,a);this.dUa=f;this.eUa=h;this.X=e;this.B(this.X);this.Fa=d;this.ao=n;if(a=e.fe())this.qBa=a.getWidth()};c.prototype.bf=function(){if("none"!=this.Fa.$ra()){var a=this.Fa.A()._tooltip;return a?this.Fa.a.cf().Rs(a.renderer,this.zj()):this.Ks}return null};c.prototype.pwa=function(a){this.Ks=a};c.prototype.zj=function(){return{color:null,component:this.Fa.A()._widgetConstructor,data:null,id:null,
label:null,location:this.dUa,locationName:this.eUa,tooltip:this.Ks,x:null,y:null}};c.prototype.fe=function(){return this.X instanceof a.Db?this.X.fe():null};c.prototype.Ha=function(c){this.X instanceof a.Db&&this.X.Ha(c)};c.prototype.Ia=function(c){this.X instanceof a.Db&&this.X.Ia(c)};c.prototype.Hd=function(){return this.X instanceof a.Db?this.X.Hd():null};c.prototype.OK=function(){return this.X instanceof a.Jb?this.X.OK():null};c.prototype.Vg=function(c){this.X instanceof a.Jb&&this.X.Vg(c)};c.prototype.rS=
function(c){this.X instanceof a.Image&&this.X.rS(c)};c.prototype.contains=function(a,c){var d=this.V();return a>=d.x&&a<=d.x+d.b&&c>=d.y&&c<=d.y+d.i};c.prototype.Bo=function(a){if(!this.ao&&this.X&&this.qBa){var c=this.X.fe().clone();c.jb(this.qBa/a.kd);this.X.Ha(c)}};a.f.v(f,a.f);f.prototype.Init=function(c,d,e){this.Ta=c;this.AM=d;this.Iea=e;this.Kq={};this.zw=new a.Da};f.prototype.rGa=function(a){this.Kq[a.IT]=a};f.prototype.$ya=function(){};f.prototype.qga=function(){};f.prototype.sxa=function(c,
d){this.Ht&&this.Ht.stop(!0);this.zw=d;this.rP=this.qo(c.IT);this.rGa(c);c.ia(this.zw);c.Bo(new a.vd(a.vd.MY),this.zw);if(this.rP){var e=c.vz(),f=c.Lb();if("auto"==e){var h=new a.Pl(this.Ta.a);h.Dn(this.rP.dba(),c.dba());this.Ht=h.vz()}else if(a.Ra.isSupported(e)){this.iFa=!0;for(var n=new a.U(0,0,this.Ta.getWidth(),this.Ta.getHeight()),p=this.rP.Esa(),h=0;h<p.length;h++){var t=new a.Rect(this.Ta.a,0,0,this.Ta.getWidth(),this.Ta.getHeight());t.Ia(null);p[h].B(t)}for(var w=c.Esa(),h=0;h<w.length;h++)t=
new a.Rect(this.Ta.a,0,0,this.Ta.getWidth(),this.Ta.getHeight()),t.Ia(null),w[h].B(t);n=a.Ra.QK(this.Ta.a,e,p,w,n,f);p=new a.U(0,0,this.Ta.getWidth()/this.zw.kd,this.Ta.getHeight()/this.zw.kd);w=this.rP.Xsa();for(h=0;h<w.length;h++)t=new a.Rect(this.Ta.a,0,0,this.Ta.getWidth()/this.zw.kd,this.Ta.getHeight()/this.zw.kd),t.Ia(null),w[h].B(t);for(var u=c.Xsa(),h=0;h<u.length;h++)t=new a.Rect(this.Ta.a,0,0,this.Ta.getWidth()/this.zw.kd,this.Ta.getHeight()/this.zw.kd),t.Ia(null),u[h].B(t);h=a.Ra.QK(this.Ta.a,
e,w,u,p,f);this.Ht=new a.$d(this.Ta.a,[n,h])}else for(e=this.rP.MHa(),h=0;h<e.length;h++)e[h].getParent().removeChild(e[h]);this.$ya();if(this.Ht){this.Iea.kn(this.Ba);var z=this;this.Ht.pg(function(){z.tw(c)},this);this.Ht.play()}}else this.qga(),this.Ta.Sya()};f.prototype.qo=function(a){return this.Kq?this.Kq[a]:null};f.prototype.ia=function(a){this.zw=a;for(var c in this.Kq)this.Kq[c].ia(a)};f.prototype.Bo=function(a,c){this.zw=c;for(var d in this.Kq)this.Kq[d].Bo(a,c)};f.prototype.RS=function(a){this.zw=
a;for(var c in this.Kq)this.Kq[c].RS(a)};f.prototype.tw=function(a){if(this.rP)for(var c=this.rP.MHa(),d=0;d<c.length;d++){var e=c[d].getParent();e&&e.removeChild(c[d])}if(this.iFa){this.iFa=!1;c=a.Esa();for(d=0;d<c.length;d++)c[d].Nz(c[d].Vc()-1);a=a.Xsa();for(d=0;d<a.length;d++)a[d].Nz(a[d].Vc()-1)}this.qga();this.Ta.Sya();this.Ht=null;this.Iea.Lf(this.Ba)};f.prototype.Ec=function(){var a=this.Kq,c;for(c in a)a[c].Ec()};a.f.v(x,f);x.IAa=0;x.Bia=1;x.prototype.Init=function(c,d,e,f,h){x.C.Init.call(this,
c,d,h);this.qx=e;this.nEa=f;this.PZ={};this.yS={};this.KL={};this.WT=this.Xu=null;this.xK={};this.sH={};this.paa={};this.e7=new a.ca(this.Ta.a);this.PX=new a.ca(this.Ta.a);this.Ta.pBa.Ad(this.e7,0);this.Ta.SG.Ad(this.PX,0)};x.prototype.u7a=function(a){this.KL=a;for(var c in a)this.Tca(c,!0)};x.prototype.s7a=function(a){this.Xu=a;for(var c in a)this.QV(c,!0)};x.prototype.Z3a=function(a){return this.Xu&&this.Xu[a]?this.Xu[a][x.IAa]:null};x.prototype.kIa=function(a){return this.Xu&&this.Xu[a]?this.Xu[a][x.Bia]:
null};x.prototype.r7a=function(a){this.WT=a};x.prototype.bIa=function(a){return this.WT?this.WT[a]:null};x.prototype.O3=function(a){return this.KL[a]};x.prototype.a8a=function(a){this.Ana=a};x.prototype.g3a=function(){return new a.j(this.Ana)};x.prototype.Tca=function(a,c){this.xK[a]=c};x.prototype.QV=function(a,c){this.sH[a]=c};x.prototype.Z7a=function(a){this.ZO=a;this.YT=null;for(var c in this.KL)c!=a&&(this.xK[c]=!1)};x.prototype.w4=function(){if(!this.YT){var c=this.Ta.nz;this.ZO?this.YT=c?a.G.V(a.G.GK(w.RIa(this.Ta.nz,
this.AM,this.ZO))):a.uk.lI(this.Ta.a,this.O3(this.ZO)):(c&&"world"!=c&&"worldRegions"!=c&&(this.YT=w.R1a(this.Ta.nz,this.AM)),this.YT||(c=this.e7.V().Gn(this.Ta.N9.V()),0<c.b&&0<c.i&&(this.YT=c)))}return this.YT};x.prototype.ika=function(d){var e=this.KL[d];if(e){if(!this.yS[d]){var f=this.Xu&&this.Xu[d]?this.Xu[d][x.Bia]:null,h=new c(this.Ta.a,this.Ta,e,d,f,this.Ta.ao);this.yS[d]=h;this.Iea.Xb(e,h);h.pwa(f)}this.sH[d]&&(f=this.PZ[d],!f&&"off"!=this.qx&&this.Xu&&(f="short"==this.nEa?this.Xu[d][x.IAa]:
this.Xu[d][x.Bia]))&&(this.WT&&this.WT[d]?f=new u(this.Ta.a,f,this.WT[d],this.qx,this.PX,this.Ta.ao):(e=a.uk.lI(this.Ta.a,e),f=new u(this.Ta.a,f,[[e.x,e.y,e.b,e.i]],this.qx,this.PX,this.Ta.ao)),this.PZ[d]=f,this.Ana&&f.ub(this.Ana))}};x.prototype.eja=function(a){if(this.KL[a]){this.e7.B(this.yS[a]);var c=this.PZ[a];c&&(this.sH[a]?c.update(this.zw):c.reset(),this.paa[a]=this.sH[a])}};x.prototype.d7a=function(){for(var a in this.Xu)this.Tca(a,!0),this.QV(a,!0)};x.prototype.sxa=function(a,c,d){x.C.sxa.call(this,
a,c,d);if(d==this.AM)for(var e in this.KL)this.ika(e),this.xK[e]&&this.eja(e)};x.prototype.ia=function(a){for(var c in this.KL)this.ika(c),this.xK[c]&&this.eja(c);x.C.ia.call(this,a)};x.prototype.$ya=function(){for(var a in this.xK)this.xK[a]||(this.ika(a),this.eja(a))};x.prototype.qga=function(){for(var a in this.xK)if(!this.xK[a]){this.e7.removeChild(this.yS[a]);var c=this.PZ[a];c&&(this.paa[a]=!1,this.PX.removeChild(c),(c=c.lz)&&this.PX.removeChild(c))}};x.prototype.Bo=function(a,c){x.C.Bo.call(this,
a,c);if(!this.Ta.ao)for(var d in this.yS)this.yS[d].Bo(c);for(d in this.paa)if(this.paa[d]){var e=this.PZ[d];e&&e.update(c)}};a.f.v(v,a.f);v.prototype.Init=function(c,d,e,f,h){this.Ta=c;this.IT=e;this.Vf=h;this.It=[];this.hP=[];this.gP=[];this.M9=[];this.T9=[];this.R9=[];this.hz=f;this.O0={};this.Go=new a.vc(c.a);this.hz.gS(this.Go);this.nD=new a.ca(this.Ta.a);this.A_=new a.ca(this.Ta.a);this.P9=new a.ca(this.Ta.a);this.S9=new a.ca(this.Ta.a);this.Ta.N9.Ad(this.nD,0);this.Ta.WJ.Ad(this.A_,0);this.Ta.SG.Ad(this.P9,
0);this.Ta.$T.Ad(this.S9,0);this.M1=d};v.prototype.A=function(){return this.Vf};v.prototype.MHa=function(){return[this.nD,this.A_,this.P9,this.S9]};v.prototype.Xsa=function(){return[this.nD]};v.prototype.Esa=function(){var a=[this.P9,this.S9];this.Ta.rL()&&a.push(this.A_);return a};v.prototype.dba=function(){return this.hP.concat(this.It).concat(this.gP)};v.prototype.v3a=function(){for(var a=[],c=0;c<this.It.length;c++)a.push(this.It[c]);return a};v.prototype.Kaa=function(a){this.T9.push(a);if(a){this.hP.push(a);
this.hz.Xb(a.Ga(),a);var c=a.ag();c&&this.hz.Xb(c,a)}};v.prototype.jqa=function(a){this.M9.push(a);a&&(this.It.push(a),this.hz.Xb(a.Ga(),a),a.t7a(this.nD))};v.prototype.b0a=function(a){this.R9.push(a);a&&(this.gP.push(a),this.hz.Xb(a.Ga(),a))};v.prototype.Y8a=function(a,c){var d=v.MWa(a,c);this.O0[d]?this.O0[d]++:this.O0[d]=1;return this.O0[d]};v.MWa=function(a,c){return a.x<c.x?a.x.toString()+a.y.toString()+c.x.toString()+c.y.toString():c.x.toString()+c.y.toString()+a.x.toString()+a.y.toString()};
v.prototype.JYa=function(a){a=this.It.indexOf(a);-1!==a&&this.It.splice(a,1)};v.prototype.q7a=function(a){this.STa=a};v.prototype.vz=function(){return this.STa};v.prototype.LV=function(a){this.RTa=a};v.prototype.Lb=function(){return this.RTa};v.prototype.qS=function(c){if(this.Jp=c)this.Fd=new a.Hb(this.Jp),this.hz.Fy(this.IT,this.Fd)};v.prototype.fb=function(){return null!=this.Jp};v.prototype.y_a=function(a){var c=a.Ga(),d=this.M1.O3(a.aE());if(d)return c.Vg(d.OK()),!0;this.JYa(a);return!1};v.prototype.MYa=
function(a){if(this.y_a(this.It[a])){var c=this.It[a].Ga();this.nD.B(c);if(a=this.It[a].ag())a.Q4a()||(c=c.V(),a.T_a(c)),a.update(this.yoa);return!0}return!1};v.prototype.ia=function(c){this.yoa=c;c={};var d=this.hP.slice();d.sort(function(a,c){return a.ve()<c.ve()?1:a.ve()>c.ve()?-1:0});for(var e=0;e<d.length;e++){var f=d[e],h=f.Ga(),n=f.ag();if(n){var p=new a.ca(h.a);this.A_.B(p);p.B(h);p.B(n);f.Gca()}else this.A_.B(h);(f=f.aE())&&(c[f]=!0)}for(e=0;e<this.It.length;e++)c[this.It[e].aE()]&&this.It[e].O6a(),
this.MYa(e)||e--;for(e=0;e<this.gP.length;e++)this.S9.B(this.gP[e].Ga());this.Nma&&this.wK()};v.prototype.Bo=function(a,c){this.yoa=c;for(var d=this.It,e=0;e<d.length;e++)d[e].Bo(c);if(this.Ta.rL())for(d=this.hP,e=0;e<d.length;e++)d[e].Bo(c);this.O0={};d=this.gP;for(e=0;e<d.length;e++)d[e].Bo(c)};v.prototype.RS=function(a){this.yoa=a};v.prototype.X7a=function(a){this.Nma=a};v.prototype.wK=function(){this.Fd&&(this.Fd.Vr(this.Nma,this.dba()),this.Nma=null)};v.prototype.vT=function(a){if(this.Fd){a.gb()||
(this.Fd.jn(a,!1),this.hz.Du(a));a=[];for(var c=this.Fd.getSelection(),d=0;d<c.length;d++)a.push(c[d].getId());return a}return null};v.prototype.uT=function(){for(var a=[],c=this.Fd.getSelection(),d=0;d<c.length;d++)a.push(c[d].Ga());return a};v.prototype.T3a=function(a){for(var c=[],d=this.It,e=0;e<a.length;e++)for(var f=0;f<d.length;f++)if(d[f].getId()==a[e]){c.push(d[f].aE());break}return c};v.prototype.Ec=function(){for(var a=this.dba(),c=0;c<a.length;c++){var d=a[c].Ga();d instanceof H&&(d=d.oD,
d.Ec&&d.Ec())}this.hz=null};v.prototype.lV=function(a){for(var c=[],d=0;d<this.R9.length;d++){var e=this.R9[d],f=e.xaa,h=e.$ka;f&&f.getId()===a?c.push(e):h&&h.getId()===a&&c.push(e)}return c};a.f.v(E,a.EJ);E.Iya="linkNode";E.Mfa="link";E.prototype.Init=function(a,c){E.C.Init.call(this,a,c);this.Ta=a;this.D$=E.Mfa};E.prototype.Iz=function(a){return this.Uh(a)&&!a.ctrlKey};E.prototype.Rk=function(c){var d=c.keyCode,f=this.Fc.Fe();if(d==a.KeyboardEvent.jw){this.D$=E.Mfa;d=[];f instanceof e&&(d=this.Ta.eR());
if("DvtMapObjPeer"===f.getTypeName()||0===d.length)d=this.Ta.G4();0<d.length&&(f=a.ya.pI(f,c,d),this.Ta.TD(c,f));this.Fc.XM(f)}else if(d==a.KeyboardEvent.Uy){this.D$=E.Mfa;d=[];f instanceof p&&(d=this.Ta.eR());if("DvtMapObjPeer"===f.getTypeName()||0===d.length)d=this.Ta.F4();0<d.length&&(f=a.ya.pI(f,c,d),this.Ta.TD(c,f));this.Fc.XM(f)}else(c.keyCode==a.KeyboardEvent.Ty||a.KeyboardEvent.iw)&&c.altKey&&(this.sEa=f,this.D$=E.Iya),f=E.C.Rk.call(this,c),this.Uh(c)&&!c.ctrlKey&&this.Fc.XM(f);return f};
E.prototype.xo=function(c){return c.keyCode==a.KeyboardEvent.Kj&&c.ctrlKey};E.prototype.Uh=function(c){var d=E.C.Uh.call(this,c);switch(c.keyCode){case a.KeyboardEvent.Uy:case a.KeyboardEvent.jw:d=!0;break;case a.KeyboardEvent.Ty:case a.KeyboardEvent.iw:d=c.altKey?!0:!1;break;default:d=E.C.Uh.call(this,c)}return d};E.g4=function(c,d,e){d=d.keyCode;if(!e||1>e.length||!c)return null;for(var f=c.Yd(),h=0;h<e.length;h++){var n=e[h],p;p=c.getId()===n.xaa.getId()?n.ZJ:n.BK;if(d==a.KeyboardEvent.Ty&&p.x<=
f.x||d==a.KeyboardEvent.iw&&p.x>=f.x)break}return n};a.f.v(D,a.u);D.prototype.Init=function(a,c,d){D.C.Init.call(this,a,c,d);this.VP={};this.Ta=d;this.gD=!1};D.prototype.Ue=function(a){if(a&&a.qo)return this.VP[a.qo().IT]};D.prototype.Fy=function(a,c){this.VP[a]=c};D.prototype.V7a=function(a){a&&D.C.Pu.call(this,a)};D.prototype.rj=function(c){var d=this.Ya(c.target);this.XM(d);if(!(d&&d.fb&&d.fb()))for(var e in this.VP)this.VP[e].jn(null,c.ctrlKey)&&(d=a.la.vL([]),d.clientId=e,this.Tb.call(this.Ba,
d));D.C.rj.call(this,c)};D.prototype.XM=function(a){var d=null,e=null,f=null;a&&(a instanceof h?f=a.Ga():a instanceof c&&(f=a),a.qo&&(a=a.qo(),d=a.IT,e=a.M1.AM));this.Ta.C7a(d,e,f)};D.prototype.Ul=function(c){var d=!0,e=c.keyCode,f=this.Fe(),h=f.Ga();e!=a.KeyboardEvent.rg&&this.gD?(h.KQ(c),c.preventDefault()):e==a.KeyboardEvent.Kj&&c.ctrlKey?(this.XM(f),this.NC(f,!0),c.preventDefault()):e!=a.KeyboardEvent.ZERO&&e!=a.KeyboardEvent.Xfa||!c.ctrlKey?e==a.KeyboardEvent.rg&&h instanceof H?!c.shiftKey&&
f.Ae()?(f.mf(),h.KQ(c),c.preventDefault(),this.gD=!0):(c.shiftKey&&this.gD?(this.xt(c,f),c.preventDefault()):(this.gD&&f.rh(),d=D.C.Ul.call(this,c)),this.gD=!1):(e==a.KeyboardEvent.rg&&f&&this.Ta.TD(c,f),d=D.C.Ul.call(this,c)):(c.altKey?this.Ta.w1a(h):this.Ta.nHa(),c.preventDefault());return d};D.prototype.CJ=function(c){if(!this.Xg(c,a.Dd.HW)){var d=this.Ya(c.target);this.XM(d);if(d instanceof a.kc)for(var e in this.VP)if(this.VP[e].jn(null,c.ctrlKey)){for(var d=this.VP[e].getSelection(),f=[],h=
0;h<d.length;h++)f.push(d[h].getId());d=a.la.vL(f);this.Tb.call(this.Ba,d)}D.C.CJ.call(this,c)}};D.prototype.tM=function(a,c){var d=this.Ya(a.target);this.XM(d);D.C.tM.call(this,a,c)};D.prototype.Ij=function(c,d,e){c=this.Ta.A();"dim"==c.hoverBehavior&&(d=d.rd?d.rd():[],c.highlightedCategories=e?d.slice():null,e=a.la.MI(c.highlightedCategories,e),d=a.Za.Aq(c.styleDefaults.hoverBehaviorDelay),this.pF.Ef(e,this.Ta.F4().concat(this.Ta.eR()).concat(this.Ta.G4()),d,"any"==c.highlightMatch))};D.prototype.Oy=
function(){var c=this.Ta.A();return"none"!==c.panning||"none"!==c.zooming?a.u.UC:c.touchResponse===a.u.ns?a.u.ns:a.u.XY};D.prototype.tA=function(c){return c==a.Dd.HW?!1:D.C.tA.call(this,c)};D.prototype.yLa=function(a,c){this.xt(a,c)};D.prototype.xt=function(a,c){this.Ta.PJa()||D.C.xt.call(this,a,c)};a.f.v(F,a.f);F.VRa=6;F.MRa=.5;F.hSa=20;F.prototype.Init=function(a){this.Ta=a;this.QZ=this.QN=null};F.prototype.parse=function(a){this.vD=a.mapProvider;this.eYa(a);this.fYa(a.styleDefaults);this.dYa(a.areaLayers);
this.d8(a.pointDataLayers,null,null,!1)};F.prototype.eYa=function(a){var c=a.animationDuration;"string"==typeof c?"ms"==c.slice(-2)?c=parseInt(c.slice(0,-2))/1E3:"s"==c.slice(-1)&&(c=parseFloat(c.slice(0,-1))):c/=1E3;this.Ta.LV(c);this.vD||this.Ta.f8a(a.basemap);this.Ta.Y7a("auto"==a.initialZooming);this.Ta.q8a("auto"==a.panning);this.Ta.K8a("auto"==a.zooming)};F.prototype.dYa=function(c){var e=this.Ta.a;c=this.Ta.Ff.y0a(c[0],e.sp);var f=c.layer;if(f||this.vD){var h;if(h=c.areaSvgStyle||c.areaStyle){h instanceof
Object||(h=a.j.HK(h));var n=F.PCa(h);this.QZ=a.bb.ae(h,this.QZ);this.QN.ae(n)}c.labelStyle&&this.QN.gl(c.labelStyle);h=new x(this.Ta,f,c.labelDisplay,c.labelType,this.Ta.Ob());var n=this.Ta.nz,p,t;this.vD?(f=d.b6a(e,this.vD),e=f.areas,p=f.labels):(e=w.tHa(n,f,this.Ta.getWidth(),this.Ta.getHeight(),this.Ta.uIa()),p=w.J1a(n,f),t=w.I1a(n,f));h.u7a(this.gVa(e));h.s7a(p);h.r7a(t);h.a8a(this.QN);this.Ta.tGa(h);c.areaDataLayer&&this.d8([c.areaDataLayer],h,null,!0);c.pointDataLayers&&this.d8(c.pointDataLayers,
h,null,!1)}};F.prototype.d8=function(c,d,e,h){if(c)for(var n=0;n<c.length;n++){var p=this.Ta.Ff.B0a(c[n]);d?d instanceof x&&h&&d.d7a():(d=new f(this.Ta,p.id,this.Ta.Ob()),this.Ta.tGa(d));var t=new v(this.Ta,d,p.id,this.Ta.Ob(),p);h=p.selectionMode;"single"==h?t.qS(a.Hb.jv):"multiple"==h&&t.qS(a.Hb.os);t.q7a(p.animationOnDataChange);t.LV(this.Ta.Lb());var w=null;d instanceof x&&(w=p.isolatedItem);var u;h=d instanceof x;var z=this.Ta.A().hiddenCategories,A=p.areas;if(A)for(var y=0;y<A.length;y++)if(z&&
a.Y.$s(z,A[y].categories))t.jqa(null);else{var D=A[y].location;if(w)if(w!=A[y].id)continue;else u=D;(D=this.QUa(d,t,A[y]))&&t.jqa(D)}var A=p.renderer,E=p.markers;if(E&&!A)for(F.qUa(this.Ta,E),y=0;y<E.length;y++)if(z&&a.Y.$s(z,E[y].categories))t.Kaa(null);else{D=E[y].location;if(w)if(w!=E[y].id)continue;else u=D;(D=this.dz(d,t,E[y],h))&&t.Kaa(D)}var H=p.images;if(H)for(y=0;y<H.length;y++){D=H[y].location;if(w)if(w!=H[y].id)continue;else u=D;(D=this.nka(d,t,H[y],h))&&t.Kaa(D)}if(H=p.links)for(y=0;y<
H.length;y++)z&&a.Y.$s(z,H[y].categories)?t.jqa(null):(D=this.fVa(t,H[y]))&&t.b0a(D);if(A&&E)for(y=0;y<E.length;y++){D=E[y].location;if(w)if(w!=E[y].id)continue;else u=D;z=this.Ta.A()._contextHandler(this.Ta.ja(),null,E[y],{hovered:!1,selected:!1,focused:!1},null);z=A(z);(D=this.UUa(d,t,E[y],z,h))&&t.Kaa(D)}u&&d.Z7a(u);(p=p.selection)&&0<p.length&&t.X7a(p);e?d.sxa(t,this.Ta.pc.$c.Wa(),e):d.rGa(t)}};F.prototype.fYa=function(c){this.Ta.oKa(c);var d=c.areaSvgStyle||c.areaStyle;!d||d instanceof Object||
(d=a.j.HK(d));d=a.bb.ae(d,c._areaStyle);this.QN=F.PCa(d);this.QZ=d;this.QN.gl(c.labelStyle);new a.j(c.dropTargetStyle);this.Ta.C8a(c)};F.PCa=function(c){var d=new a.j;a.Y.forEach([a.j.we,a.j.ge],function(e){var f=null,h=a.j.RD(e);c&&null!=c[h]&&(f=c[h],delete c[h]);d.Ma(e,f)});return d};F.prototype.gVa=function(c){var d={},e=this.Ta.a,f;for(f in c){var h=new a.Jb(e);h.Vg(c[f]);var n=this.QN.N(a.j.we);n&&"transparent"!=n&&(n=new a.ma(n),this.Ta.ao&&n.We(!0),h.Ha(n));n=this.QN.N(a.j.ge);"transparent"!=
n?h.$a(n):h.Ia(null);this.QZ&&h.Ma(this.QZ);d[f]=h}return d};F.prototype.QUa=function(c,d,f){var h=f.location;if(c.O3(h)){c.Tca(h,!1);h=new y(this.Ta.a,this.Ta.ao);f=a.bb.ae(f,this.Ta.Q2.dataAreaDefaults);f.labelStyle||(f.labelStyle=this.Ta.Q2.labelStyle);var n=new a.ma(f.hoverColor,1,y.oM),p=new a.ma(f.selectedInnerColor,1,y.i8),t=new a.ma(f.selectedOuterColor,1,y.j8);h.$o(n,null).Fq(p,t);c.QV(f.location,!1);this.WFa(f,h);c=this.hO(c,d,f,h,!0);n=F.k$(this.Ta.nz,d,f);return new e(f,d,h,c,n)}return null};
F.prototype.dz=function(c,d,e,f){var n=e._size,p;p=this.vD&&null!=this.vD.geo&&!e.location?new a.P(e.x,-e.y):F.Yd(d,e.location,e.x,e.y);if(!p||0===n)return null;var t=this.Ta.Q2.dataMarkerDefaults,w=new a.j(t.labelStyle);w.gl(e.labelStyle);e=a.bb.ae(e,t);e.labelStyle=w.toString();if(null!=n)t=n;else{t=e.scaleX;null==t&&(t=1);n=e.scaleY;null==n&&(n=1);var u=e.width;null==u&&(u=this.Ta.A().styleDefaults.dataMarkerDefaults.width);w=e.height;null==w&&(w=this.Ta.A().styleDefaults.dataMarkerDefaults.height);
t*=u;n*=w}w=e.borderRadius;e.source?t=new a.xc(this.Ta.a,p.x,p.y,t,n,w,e.source,e.sourceSelected,e.sourceHover,e.sourceHoverSelected):(u=e.shape?e.shape:this.Ta.A().styleDefaults.dataMarkerDefaults.shape,t=new a.W(this.Ta.a,u,this.Ta.vaa,p.x,p.y,t,n,w));(n=e.rotation)&&t.sE(n*Math.PI/180);f&&c.QV(e.location,!1);this.WFa(e,t);c=this.hO(c,d,e,t,f);f=F.k$(this.Ta.nz,d,e);return new h(e,d,t,c,p,f)};F.prototype.nka=function(c,d,e,f){var n=F.Yd(d,e.location,e.x,e.y);if(!n)return null;var p=new a.Image(this.Ta.a,
e.url),t=e.width,w=e.height;null!=t&&null!=w&&(p.na(n.x-t/2),p.Pa(n.y-w/2),p.jb(t),p.Mb(w));f&&c.QV(e.location,!1);c=F.k$(this.Ta.nz,d,e);var u=new h(e,d,p,null,n,c);t&&w||a.gA.Kz(this.Ta.a,e.url,function(a){a&&a.width&&a.height&&(p.jb(a.width),p.Mb(a.height),p.na(n.x-a.width/2),p.Pa(n.y-a.height/2),u.EZ())});return u};F.prototype.UUa=function(c,d,e,f,n){var p;p=this.vD&&null!=this.vD.geo&&!e.location?new a.P(e.x,-e.y):F.Yd(d,e.location,e.x,e.y);if(!p)return null;n&&c.QV(e.location,!1);c=new H(this.Ta.a,
f,this.Ta.Q2.dataAreaDefaults);f=F.k$(this.Ta.nz,d,e);return new h(e,d,c,null,p,f)};F.prototype.fVa=function(c,d){var e=d.startLocation,f=d.endLocation,h,n;if(e.id){for(var t=c.T9,w=0;w<t.length;w++){var u=t[w];if(u&&u.getId()==e.id){n=u;h=u.Yd();break}}if(!n)for(t=c.M9,w=0;w<t.length;w++)if((u=t[w])&&u.getId()==e.id){n=u;h=this.l$(c,{location:u.aE()});break}}else h=this.l$(c,e);var z,v;if(f.id){t=c.T9;for(w=0;w<t.length;w++)if((u=t[w])&&u.getId()==f.id){v=u;z=u.Yd();break}if(!v)for(t=c.M9,w=0;w<
t.length;w++)if((u=t[w])&&u.getId()==f.id){v=u;z=this.l$(c,{location:u.aE()});break}}else z=this.l$(c,f);if(!z||!h)return null;e=new a.Jb(this.Ta.a,F.CGa(c,h,z,h,z));e.Ia(null);var w=this.Ta.Q2.linkDefaults,A=d.color;A||(A=w.color);(f=d.width)||(f=w.width);t=new a.ma(A,1,f);t.We(!0);e.Ha(t);var u=w._hoverColor,y=w._selectedColor,w=new a.ma(u,1,f),t=new a.ma(A,1,f+2),A=new a.ma(A,1,f),x=new a.ma(y,1,f+2),u=new a.ma(u,1,f),f=new a.ma(y,1,f+2);e.$o(w,t).Fq(A,x).cs(u,f);return new p(d,c,e,h,z,n,v)};F.prototype.l$=
function(c,d){return this.vD&&null!=this.vD.geo?new a.P(d.x,-d.y):F.Yd(c,d.location,d.x,d.y)};F.prototype.hO=function(c,d,e,f,h){var n=e.location,p=e.label,t=p?"on":"off";h&&(t=c.qx);f=f instanceof a.Jb;!p&&h&&(f&&"off"!=t||!f&&"on"==t)&&(p="long"==c.nEa?c.kIa(n):c.Z3a(n));if(p){var w=this.Ta.a,w=f?new u(w,p,c.bIa?c.bIa(n):null,t,d.P9,this.Ta.ao):new a.M(w,p,0,0);d=new a.j;f&&d.ae(c.g3a());e.labelStyle&&d.gl(e.labelStyle);c=d.N(a.j.od);d.Ma(a.j.od,null);w.ub(d);e.color&&w instanceof u&&(a.m.GI()||
!c)&&(c=a.D.Ok(e.color));c&&w.$a(c)}return w};F.prototype.WFa=function(c,d){var e=c.color,f=a.m.cb()||this.Ta.vaa==a.j.Rg?"none":c.visualEffects;if(d instanceof a.W){if("none"!=c.borderStyle){var h=c.borderWidth;"string"==typeof h&&(h="px"==h.slice(-2)?parseFloat(c.borderWidth.slice(0,-2)):parseFloat(c.borderWidth));var n=new a.ma(c.borderColor,1,h);this.Ta.rL()||n.We(!0);n.um(a.Oa.UB(c.borderStyle));d.Ha(n)}h=c.opacity;"none"!=f?d.Ia(new a.cT.TGa(e,d,h)):e&&d.$a(e,h)}else if(d instanceof a.Jb){if(f=
c.borderColor)n=new a.ma(f),this.Ta.ao&&n.We(!0),d.Ha(n);d.$a(e,h)}};F.Yd=function(c,d,e,f){var h=c.Ta,n=h.nz;c=c.M1;var p=c.AM;if(d){if((e=w.f2a(n,d))||(e=w.F1a(n,p,d)))return e;if(!n&&c.O3){d=c.O3(d);if(!d)return null;h=a.uk.lI(h.a,d)}else{h=w.RIa(n,p,d);if(!h)return null;h=a.G.GK(h);h=a.G.V(h)}return h.Yd()}return A.B6a(e,f,n)};F.qUa=function(c,d){for(var e=-Infinity,f=Infinity,h=0;h<d.length;h++){var n=d[h].value;null==n||0>=n||(e=Math.max(e,n),f=Math.min(f,n))}if(Infinity!==f){var n=2*F.hSa,
h=c.getWidth()-n,n=c.getHeight()-n,p=h/n;1.3>p?n=2*h/3:1.7<p&&(h=1.5*n);p=F.MRa*Math.min(h,n);for(h=0;h<d.length;h++)n=d[h].value,d[h]._size=null==n||0>=n?0:a.qj.Fra(n,f,e,F.VRa,p)}};F.CGa=function(c,d,e,f,h){var n=f.x,p=f.y;f=h.x;h=h.y;var t=c.Ta,w=a.G.moveTo(n,p);d=c.Y8a(d,e);e=Math.min(t.getWidth(),t.getHeight())/35;if(0===f-n||0===h-p){var u;1<d?(e*=d-1,0===f-n?(t=.3*Math.abs(p-h),c=n+e,d=p>h?p-t:p+t,u=c,n=h>p?h-t:h+t):(t=.3*Math.abs(n-f),c=n>f?n-t:n+t,d=p-e,u=f>n?f-t:f+t,n=d),w+=a.G.hra(c,d,
u,n,f,h)):w+=a.G.lineTo(f,h)}else{t=Math.sqrt(Math.pow(f-n,2),Math.pow(h-p,2));c=t/4;1<d&&(c+=(d-1)*e);d=(h-p)/(f-n);e=-1/d;0<e&&(c*=-1);u=.3*t/Math.sqrt(1+Math.pow(d,2));var z=0<f-n,t=n+(z?1:-1)*u,z=f+(z?-1:1)*u;u=c/Math.sqrt(1+Math.pow(e,2));c=t+u;u=z+u;w+=a.G.hra(c,e*(c-t)+(d*(t-n)+p),u,e*(u-z)+(d*(z-f)+h),f,h)}return w};F.k$=function(a,c,d){return(d=d.location)?(c=c.M1,c instanceof x?c.kIa(d):w.g2a(a,d)):null};var A={};a.f.v(A,a.f);A.Lw=new a.U(0,0,800,500);A.AN=6378206.4;A.Gia=new a.U(500,200,
200,200);A.Fia=new a.U(163,-49,17,17);A.Pza=new a.U(-17.379205428479874,-37.201510854305546,68.66391442808313,77.50071544582713);A.Sza=new a.U(-.8436866097568272,-.7626456732012923,1.8336308036296942,1.5748427214611724);A.Uza=new a.U(113.29667079927977,-52.89550592498755,65.25257389065216,42.123114617504626);A.iAa=new a.U(-.47944476148667076,-.0014669405958800579,.7364925893845453,.6293972741802124);A.BAa=new a.U(-.6154469465354344,-.24589767758847714,1.2448236795108683,1.2631535127174947);A.JAa=
new a.U(-80.60817722658722,-60.796273249672765,46.608687602908056,66.96595767361796);A.Rza=new a.U(68.20516856593524,-52.89892708045518,111.65739821771903,116.55460214469134);A.hAa=new a.U(-24.543831069368586,-37.202500659225905,204.54283106936856,164.9634493690208);A.wAa=new a.U(-117.12451221229134,-54.95921623126266,82.33223251442891,87.67786623127876);A.OAa=new a.U(-.6154656300926513,.0507209798775865,1.0153104799231851,.966537441082997);A.PAa=new a.U(-171.9,-62.6,349.8,150.8);A.UPa=new a.U(172,
51,8,3);A.VPa=new a.U(-180,51,51,21);A.uRa=new a.U(-178.5,18.9,35,11);A.SSa=new a.U(-124.8,24.4,58,25.5);A.Qza=new a.U(-187.5517578125,59.82610321044922,57.562225341796875,43.83738708496094);A.qAa=new a.U(-160.23606872558594,18.91549301147461,5.4374847412109375,3.3189010620117188);A.NAa=new a.U(-2386803.25,-1183550.5,4514111,2908402);A.sia=new a.U(165,400,100,100);A.zha=new a.U(-75,350,240,150);A.us=[[1,0],[.9986,.0314],[.9954,.0629],[.99,.0943],[.9822,.1258],[.973,.1572],[.96,.1887],[.9427,.2201],
[.9216,.2515],[.8962,.2826],[.8679,.3132],[.835,.3433],[.7986,.3726],[.7597,.4008],[.6732,.4532],[.6213,.4765],[.5722,.4951],[.5322,.5072]];A.B6a=function(c,d,e){var f;switch(e){case "africa":f=A.sG(A.Pza,A.h0(c,d));break;case "asia":f=A.sG(A.Sza,A.Z9(40,95,20,60,c,d),A.vm(5));break;case "australia":f=A.hWa(c,d);break;case "europe":f=A.sG(A.iAa,A.Z9(35,25,40,65,c,d),A.vm(10));break;case "northAmerica":f=A.sG(A.BAa,A.Z9(23,-96,20,60,c,d));break;case "southAmerica":f=A.sG(A.JAa,new a.P(c,d),A.vm(5));
break;case "apac":f=A.sG(A.Rza,A.h0(c,d));break;case "emea":f=A.sG(A.hAa,A.h0(c,d));break;case "latinAmerica":f=A.sG(A.wAa,new a.P(c,d));break;case "usaAndCanada":f=A.sG(A.OAa,A.Z9(23,-96,20,60,c,d));break;case "worldRegions":f=A.PDa(c,d);break;case "usa":f=A.cXa(c,d);break;case "world":f=A.PDa(c,d)}return f?new a.P(10*f.x,10*f.y):null};A.cXa=function(c,d){var e;A.UPa.hf(c,d)||A.VPa.hf(c,d)?(e=A.xv(A.Qza,A.zha),e=A.NZ(e,A.h0(c,d))):A.uRa.hf(c,d)?(e=A.xv(A.qAa,A.sia),e=A.NZ(e,new a.P(c,d))):A.SSa.hf(c,
d)&&(e=A.xv(A.NAa,A.Lw),e=A.NZ(e,A.QWa(new a.P(-95,36),c,d)));return A.a$(A.Lw,e)};A.PDa=function(a,c){var d=A.xv(A.PAa,A.Lw),d=A.NZ(d,A.XWa(a,c));return A.a$(A.Lw,d)};A.hWa=function(a,c){var d;d=A.Fia.hf(a,c)?A.xv(A.Fia,A.Gia):A.xv(A.Uza,A.Lw);d=A.NZ(d,A.h0(a,c));return A.a$(A.Lw,d)};A.sG=function(c,d,e){c=A.xv(c,A.Lw);if(e){var f=new a.Da;f.rotate(e);c=A.PBa(c,f)}d=c.wm(d);return A.a$(A.Lw,d)};A.a$=function(a,c){return c&&a.hf(c.x,c.y)?c:null};A.Z9=function(c,d,e,f,h,n){d=A.vm(d);c=A.vm(c);e=A.vm(e);
f=A.vm(f);f=.5*(Math.sin(e)+Math.sin(f));e=Math.pow(Math.cos(e),2)+2*f*Math.sin(e);c=e-2*f*Math.sin(c);c=Math.sqrt(c)/f;h=f*(A.vm(h)-d);n=e-2*f*Math.sin(A.vm(n));n=Math.sqrt(n)/f;return new a.P(n*Math.sin(h),c-n*Math.cos(h))};A.h0=function(c,d){return new a.P(c,A.ZV(Math.log(Math.tan(.25*Math.PI+.5*A.vm(d)))))};A.QWa=function(c,d,e){d=A.vm(d);e=A.vm(e);var f=A.vm(c.x);c=A.vm(c.y);return new a.P(Math.cos(e)*Math.sin(d-f)*A.AN,(Math.cos(c)*Math.sin(e)-Math.sin(c)*Math.cos(e)*Math.cos(d-f))*A.AN)};A.XWa=
function(c,d){var e=Math.floor(Math.abs(d)/5);e>=A.us.length-1&&(e=A.us.length-2);var f=(Math.abs(d)-5*e)/5,h=c*(A.us[e][0]+f*(A.us[e+1][0]-A.us[e][0])),e=A.us[e][1]+f*(A.us[e+1][1]-A.us[e][1]);0>d&&(e*=-1);return new a.P(h,180*e)};A.NZ=function(c,d){return new a.P(d.x*c.kd+c.zc,d.y*c.ke+c.tc)};A.PBa=function(c,d){var e=c.kd,f=c.ke;return new a.Da(d.kd*e,d.$e*e,d.xe*f,d.ke*f,c.zc+d.zc*e,c.tc+d.tc*f)};A.xv=function(c,d){var e=d.x,f=d.y,h=c.b,n=c.i,p=0,p=d.b/h,t=d.i/n,p=p<=t?p:t,e=e-c.x*p,f=f+c.y*p,
e=e+(d.b-h*p)/2,f=f+(d.i-(d.i-n*p)/2);return new a.Da(p,0,0,-p,e,f)};A.vm=function(a){return Math.PI/180*a};A.ZV=function(a){return 180/Math.PI*a};A.iab=function(c,d,e){var f;c/=10;d/=10;switch(e){case "africa":f=A.vG(A.Pza,new a.P(c,d));f=A.e0(f.x,f.y);break;case "asia":f=A.vG(A.Sza,new a.P(c,d),A.vm(5));f=A.j$(40,95,20,60,f.x,f.y);break;case "australia":f=A.FWa(c,d);break;case "europe":f=A.vG(A.iAa,new a.P(c,d),A.vm(10));f=A.j$(35,25,40,65,f.x,f.y);break;case "northAmerica":f=A.vG(A.BAa,new a.P(c,
d));f=A.j$(23,-96,20,60,f.x,f.y);break;case "southAmerica":f=A.vG(A.JAa,new a.P(c,d),A.vm(5));break;case "apac":f=A.vG(A.Rza,new a.P(c,d));f=A.e0(f.x,f.y);break;case "emea":f=A.vG(A.hAa,new a.P(c,d));f=A.e0(f.x,f.y);break;case "latinAmerica":f=A.vG(A.wAa,new a.P(c,d));break;case "usaAndCanada":f=A.vG(A.OAa,new a.P(c,d));f=A.j$(23,-96,20,60,f.x,f.y);break;case "worldRegions":f=A.jDa(c,d);break;case "usa":f=A.IWa(c,d);break;case "world":f=A.jDa(c,d)}return f?f:new a.P(c,d)};A.IWa=function(c,d){var e;
return A.zha.hf(c,d)?(e=A.xv(A.Qza,A.zha),e.mC(),e=e.wm(new a.P(c,d)),A.e0(e.x,e.y)):A.sia.hf(c,d)?(e=A.xv(A.qAa,A.sia),e.mC(),e.wm(new a.P(c,d))):A.Lw.hf(c,d)?(e=A.xv(A.NAa,A.Lw),e.mC(),e=e.wm(new a.P(c,d)),A.GWa(new a.P(-95,36),e.x,e.y)):new a.P(c,d)};A.jDa=function(c,d){var e=A.xv(A.PAa,A.Lw);e.mC();e=e.wm(new a.P(c,d));return A.HWa(e.x,e.y)};A.FWa=function(c,d){var e;e=A.Gia.hf(c,d)?A.xv(A.Fia,A.Gia):A.xv(A.Uza,A.Lw);e.mC();e=e.wm(new a.P(c,d));return A.e0(e.x,e.y)};A.vG=function(c,d,e){c=A.xv(c,
A.Lw);if(e){var f=new a.Da;f.rotate(e);c=A.PBa(c,f)}c.mC();return c.wm(d)};A.j$=function(c,d,e,f,h,n){d=A.vm(d);c=A.vm(c);e=A.vm(e);f=A.vm(f);f=.5*(Math.sin(e)+Math.sin(f));e=Math.pow(Math.cos(e),2)+2*f*Math.sin(e);c=e-2*f*Math.sin(c);c=Math.sqrt(c)/f;var p=Math.sqrt(h*h+(c-n)*(c-n));return new a.P(A.ZV(d+Math.atan(h/(c-n))/f),A.ZV(Math.asin((e-p*p*f*f)/(2*f))))};A.e0=function(c,d){return new a.P(c,A.ZV(2*Math.atan(Math.exp(A.vm(d)))-.5*Math.PI))};A.GWa=function(c,d,e){d/=A.AN;e/=A.AN;var f=A.vm(c.y),
h=Math.sqrt(d*d+e*e),n=Math.asin(h);return new a.P(A.ZV(A.vm(c.x)+Math.atan(d*Math.sin(n)/(h*Math.cos(f)*Math.cos(n)-e*Math.sin(f)*Math.sin(n)))),A.ZV(Math.asin(Math.cos(n)*Math.sin(f)+e*Math.sin(n)*Math.cos(f)/h)))};A.HWa=function(c,d){var e=Math.floor(Math.abs(d)/5);e>=A.us.length-1&&(e=A.us.length-2);var f=(Math.abs(d/180)-A.us[e][1])/(A.us[e+1][1]-A.us[e][1]),h=5*f+5*e,e=c/(A.us[e][0]+f*(A.us[e+1][0]-A.us[e][0]));0>d&&(h*=-1);return new a.P(e,h)};a.K(w,"getLayerIds",w.h3a);a.K(a,"ThematicMap",
a.kc);a.K(a.kc,"newInstance",a.kc.newInstance);a.K(a.kc.prototype,"updateLayer",a.kc.prototype.f9a);a.K(a.kc.prototype,"destroy",a.kc.prototype.Ec);a.K(a.kc.prototype,"getAutomation",a.kc.prototype.Bi);a.K(a.kc.prototype,"highlight",a.kc.prototype.Zd);a.K(a.kc.prototype,"processDefaultHoverEffect",a.kc.prototype.zy);a.K(a.kc.prototype,"processDefaultSelectionEffect",a.kc.prototype.OI);a.K(a.kc.prototype,"processDefaultFocusEffect",a.kc.prototype.vC);a.K(n.prototype,"getDomElementForSubId",n.prototype.Sh);
a.K(n.prototype,"getData",n.prototype.getData);var d={t$a:"DvtBaseMapManager",D$a:"_UNPROCESSED_MAPS",a9:"type",tRa:"geometry",FQa:"coordinates",sRa:"features",gSa:"properties",QSa:"FeatureCollection",C$a:"GeometryCollection",PSa:"Feature",MAa:"Polygon",LAa:"MultiPolygon",rAa:"id",ASa:"shortLabel",GRa:"longLabel",b6a:function(a,c){var e={},f={},h=c.geo,n=c.propertiesKeys||{};if(!n[d.rAa])throw Error("Missing required mapProvider.propertyKeys.id property.");var p=h[d.a9];if(p===d.QSa)for(h=h[d.sRa],
p=0;p<h.length;p++)d.QEa(a,h[p],n,f,e);else if(p===d.PSa)d.QEa(h,n,f,e);else throw Error("GeoJSON type of "+p+" is not supported. Only Feature and FeatureCollection types are supported.");if(0===Object.keys(f).length)throw Error("No valid Features found in GeoJSON.");return{labels:e,areas:f}},QEa:function(a,c,e,f,h){var n=c[d.gSa];c=c[d.tRa];if(d.yXa(c)){var p=n[e[d.rAa]];if(p){a=n[e[d.ASa]];e=n[e[d.GRa]];if(a||e)h[p]=[a,e];f[p]=d.cWa(c)}else a.oj.Logger.warn("No 'id' value found in the mapProvider.propertiesKey object. A Feature's 'properties' object must have an id in the field specified by the mapProvider.propertiesKey.id value.")}else a.oj.Logger.warn("A geometry of type "+
c[d.a9]+" is not supported and will be skipped.")},yXa:function(a){a=a[d.a9];return a===d.MAa||a===d.LAa?!0:!1},cWa:function(a){var c="",e=a[d.a9];a=a[d.FQa];if(e===d.MAa)c=d.SEa(a);else if(e===d.LAa)for(e=0;e<a.length;e++)c+=d.SEa(a[e]);return c},SEa:function(a){for(var c="",e=0;e<a.length;e++)c+=d.JXa(a[e]);return c},JXa:function(a){var c,d,e,f="M";if(a)for(var h=0;h<a.length;h++){var n=a[h],p=n[0],n=-n[1];if("M"===f)d=p,e=n,f="x",c="M"+p+" "+n;else{var t=p-d,w=n-e;if("l"==f){if(d==p){f="v";e=n;
c=c+f+w;continue}else if(e==n){f="h";d=p;c=c+f+t;continue}c=c+" "+t+" "+w}else f="l",c=c+"l"+t+" "+w;d=p;e=n}}return c+"Z"},eK:function(a,c){for(var d=c;d<a.length;d++){var e=a[d];if("-"!==e&&(isNaN(e)||" "===e)){var f=null;" "!==e&&(f=e);return{ZH:parseInt(a.substring(c,d)),DJa:d,Qaa:f}}}return{}},J$a:function(a){var c=[],e=0,f=0,h=a[0];if(a)for(var n=[],p=1;p<a.length;p++){var t=d.eK(a,p),w=null,p=t.DJa;"v"!==h&&"h"!==h?(w=d.eK(a,++p),p=w.DJa,e+=t.ZH,f+=w.ZH):"v"===h?f+=t.ZH:"h"===h&&(e+=t.ZH);
n.push([e,-f]);w?null!=w.Qaa&&(h=w.Qaa):null!=t.Qaa&&(h=t.Qaa);"Z"===h&&(c.push(n),n=[],h=a[++p])}return c}}})(dvt);
// To avoid changing the basemaps, which each call the basemap manager, we will
// put the basemap manager onto the returned object. We'll only do this if it's
// not defined, since in min/min-debug mode, the non-exported version is on the window.
if(!dvt['DvtBaseMapManager'])
  dvt['DvtBaseMapManager'] = DvtBaseMapManager;

  return dvt;
});
