/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(['./DvtToolkit'], function(dvt) {
  // Internal use only.  All APIs and functionality are subject to change at any time.

var ga;function ka(a,F){0==a.indexOf("dvt.")&&(a=a.substring(4));var D=a.split("."),E=eval("dvt");D[0]in E||!E.execScript||E.execScript("var "+D[0]);for(var v;D.length&&(v=D.shift());)D.length||void 0===F?E=E[v]?E[v]:E[v]={}:E[v]=F}Math.floor(2147483648*Math.random()).toString(36);
(function(a){function F(){}function D(a,f,e){this.Init(a,f,e)}function E(){this.Init({alta:E.If})}function v(a){this.Init(a)}a.Sa=function(a,f,e){this.Init(a,f,e)};a.f.v(a.Sa,a.ec);a.Sa.CM="vertical";a.Sa.Si=function(){return a.m.cb()};a.Sa.Nc=function(a,f,e,h){e=(e-a)*h;a=f-a;return 0==e||0==a?0:e/a};a.Sa.Ch=function(a,f,e,h){f=e*(f-a);return 0==f||0==h?a:f/h+a};a.Sa.newInstance=function(c,f,e){return new a.Sa(c,f,e)};a.Sa.BZ="seconds minutes hours days weeks months quarters years".split(" ");a.Sa.prototype.Init=
function(c,p,e){a.Sa.C.Init.call(this,c,p,e);this.Rja=new v;this.li=f.Nxa;this.aJ(!1,!1,!1,!1);this.iG=c.cR().dateToIsoWithTimeZoneConverter;this.zs={YGa:[a.I.Ja(a.I.pa,"DAY_SHORT_SUNDAY",null),a.I.Ja(a.I.pa,"DAY_SHORT_MONDAY",null),a.I.Ja(a.I.pa,"DAY_SHORT_TUESDAY",null),a.I.Ja(a.I.pa,"DAY_SHORT_WEDNESDAY",null),a.I.Ja(a.I.pa,"DAY_SHORT_THURSDAY",null),a.I.Ja(a.I.pa,"DAY_SHORT_FRIDAY",null),a.I.Ja(a.I.pa,"DAY_SHORT_SATURDAY",null),a.I.Ja(a.I.pa,"DAY_SUNDAY",null),a.I.Ja(a.I.pa,"DAY_MONDAY",null),
a.I.Ja(a.I.pa,"DAY_TUESDAY",null),a.I.Ja(a.I.pa,"DAY_WEDNESDAY",null),a.I.Ja(a.I.pa,"DAY_THURSDAY",null),a.I.Ja(a.I.pa,"DAY_FRIDAY",null),a.I.Ja(a.I.pa,"DAY_SATURDAY",null)],Aca:[a.I.Ja(a.I.pa,"MONTH_SHORT_JANUARY",null),a.I.Ja(a.I.pa,"MONTH_SHORT_FEBRUARY",null),a.I.Ja(a.I.pa,"MONTH_SHORT_MARCH",null),a.I.Ja(a.I.pa,"MONTH_SHORT_APRIL",null),a.I.Ja(a.I.pa,"MONTH_SHORT_MAY",null),a.I.Ja(a.I.pa,"MONTH_SHORT_JUNE",null),a.I.Ja(a.I.pa,"MONTH_SHORT_JULY",null),a.I.Ja(a.I.pa,"MONTH_SHORT_AUGUST",null),
a.I.Ja(a.I.pa,"MONTH_SHORT_SEPTEMBER",null),a.I.Ja(a.I.pa,"MONTH_SHORT_OCTOBER",null),a.I.Ja(a.I.pa,"MONTH_SHORT_NOVEMBER",null),a.I.Ja(a.I.pa,"MONTH_SHORT_DECEMBER",null),a.I.Ja(a.I.pa,"MONTH_JANUARY",null),a.I.Ja(a.I.pa,"MONTH_FEBRUARY",null),a.I.Ja(a.I.pa,"MONTH_MARCH",null),a.I.Ja(a.I.pa,"MONTH_APRIL",null),a.I.Ja(a.I.pa,"MONTH_MAY",null),a.I.Ja(a.I.pa,"MONTH_JUNE",null),a.I.Ja(a.I.pa,"MONTH_JULY",null),a.I.Ja(a.I.pa,"MONTH_AUGUST",null),a.I.Ja(a.I.pa,"MONTH_SEPTEMBER",null),a.I.Ja(a.I.pa,"MONTH_OCTOBER",
null),a.I.Ja(a.I.pa,"MONTH_NOVEMBER",null),a.I.Ja(a.I.pa,"MONTH_DECEMBER",null)]};this.Ff=new E};a.Sa.prototype.ne=function(a){this.J=this.Ff.mo(a)};a.Sa.prototype.hv=function(a){this.Oo=new F;return this.Oo.parse(a)};a.Sa.prototype.lp=function(c){var f=c.orientation;this.Ic=f&&f==a.Sa.CM?!0:!1;this.Lwa(this.Ic);this.IB=c.M6;this.MD=c.PLa?c.PLa.reverse():[c.scale];this.LD=c.S6;this.wh=c.cI;this.St=c.bI;this.Va=c.start;this.ob=c.end;this.SO=c.ry;this.ad=c.scale;this.Qt=c.ara;this.zu()};a.Sa.prototype.Pz=
function(a,f){if("undefined"===typeof f||null===f)f=this.Wd;this.Bc=f<a?a:f};a.Sa.prototype.cg=function(){return a.m.ea(this.a)};a.Sa.prototype.Ea=function(){return this.Ic};a.Sa.prototype.ia=function(a,f,e){a&&(this.Na=f,this.ab=e,this.UEa(),this.P4(a,this.Wd));this.eB(f,e);this.nl()};a.Sa.prototype.P4=function(a,f){this.ne(a);this.Lk=this.J._resources;null==this.Lk&&(this.Lk=[]);this.ux=this.J._locale?this.J._locale:"en-US";var e=this.Lk.firstDayOfWeek;null==e&&(e=0);this.Rja.R7a(e);this.iG||(this.iG=
this.a.cR().dateToIsoWithTimeZoneConverter);e=this.hv(this.J);this.lp(e);this.ad&&this.v6a(this.Va,this.ob,f);return this.Bc};a.Sa.prototype.Vp=function(){var c=this.ad&&-1!=a.Y.$b(a.Sa.BZ,this.ad),f=this.ad&&this.wh&&this.wh[this.ad],e=this.Va&&this.ob&&this.ob>this.Va;return(c||f)&&e};a.Sa.prototype.vk=function(){return this.IB?this.IB:a.I.Ja(a.I.pa,"TIMEAXIS")};a.Sa.prototype.zu=function(){this.p9=new a.j(f.O1a(this.J));this.p9.gl(this.SO);var c=this.p9.Rh();this.p9.gl("border:"+2*c+"px;");this.z7a(c)};
a.Sa.prototype.UEa=function(){this.Ic?(this.Wd=this.ab,this.Je=this.Na):(this.Wd=this.Na,this.Je=this.ab)};a.Sa.prototype.YZa=function(){null!==this.Je&&this.Wca(this.Je-this.lta());this.QJ=this.Bc+this.lta()-f.YMa};a.Sa.prototype.z_a=function(a,f){this.Na=a;this.ab=f;this.UEa();this.Pz(this.Wd);this.YZa()};a.Sa.prototype.eB=function(a,f){this.z_a(a,f);x.Z6a(this)};a.Sa.prototype.v6a=function(a,f,e){this.lwa(this.Qt);this.um("short",this.zs);this.lCa=[];this.xn=[];this.DK=[];this.Ic?this.MV(this.Lk.converterVert):
this.MV(this.Lk.converter);this.LD&&this.exa(this.LD);for(var h=this.ad,u=0;u<this.MD.length;u++){var t=this.MD[u],v=this.pYa(t,h,a,f);this.rYa(u,t,a,f,v,e)}this.Qu(h)};a.Sa.prototype.pYa=function(c,p,e,h){this.Qu(c);var u=Infinity,t=0,v;if(this.wh&&this.wh[c])v=this.wh[c],c=v.times,v=v.labels;else if(this.St&&this.St[c])v=this.St[c],c=v.times,v=v.labels;else for(c=[],v=[],e=this.VH(e).getTime(),c.push(e);e<h;)v.push(this.Os(new Date(e))),e=this.qI(e).getTime(),c.push(e);h=[];for(var y=0;y<v.length;y++){e=
c[y];var n=new a.M(this.a,v[y],0,0,"s_label"+e);n.ub(f.M1a(this.J));n.time=e;var z=c[y+1],w=n.V();if(this.Ic)var A=w.i,w=w.b,d=f.Pxa;else A=w.b,w=w.i,d=f.Rxa;e=(z-e)/Math.max(d,A+2*f.Qxa);e<u&&(u=e);w>t&&(t=w);h.push(n)}this.Wca(t+2*f.Qxa);this.lCa.push(c);this.xn.push(h);this.Qu(p);return u};a.Sa.prototype.rYa=function(a,f,e,h,u,t){e=null!==this.Je?t:(h-e)/u;this.DK.push(e);f==this.ad&&(this.bl=a,this.Pz(e,t));0==a&&(this.iP=this.xn[this.xn.length-1].length*t)};a.Sa.prototype.Qu=function(a){this.ad=
a};a.Sa.prototype.exa=function(a){this.LD=a};a.Sa.prototype.hca=function(){for(var a=0;a<this.MD.length-1;a++)if(this.MD[a]==this.ad){this.ad=this.MD[a+1];break}};a.Sa.prototype.Waa=function(){for(var a=1;a<this.MD.length;a++)if(this.MD[a]==this.ad){this.ad=this.MD[a-1];break}};a.Sa.prototype.lwa=function(a){this.Qt=a};a.Sa.prototype.MV=function(a){this.Ika=a};a.Sa.prototype.Wca=function(a){a>this.ul&&(this.ul=a)};a.Sa.prototype.wR=function(){null==this.V2&&(this.V2=30);return this.V2};a.Sa.prototype.z7a=
function(a){this.li=a};a.Sa.prototype.aJ=function(a,f,e,h){this.FBa=(a|0)*this.li;this.kUa=(f|0)*this.li;this.CBa=(e|0)*this.li;this.jUa=(h|0)*this.li};a.Sa.prototype.C0a=function(){for(var a=this.Ic?{top:this.ve(),right:this.QJ,bottom:this.ve(),left:this.QJ}:{top:this.QJ,right:this.ve(),bottom:this.QJ,left:this.ve()},f=[],e=0,h=1,u=["top","right","bottom","left"],t=0;t<u.length;t++)0<this.Rh(u[t])==h?e+=a[u[t]]:(f.push(e),e=a[u[t]],h=Math.abs(h-1));f.push(e);return f.toString()};a.Sa.prototype.lta=
function(){return this.FBa+this.CBa};a.Sa.prototype.Rh=function(a){switch(a){case "top":return this.FBa;case "right":return this.kUa;case "bottom":return this.CBa;case "left":return this.jUa;default:return this.li}};a.Sa.prototype.ve=function(){return this.ul+this.lta()};a.Sa.prototype.um=function(a,f){this.WVa=new D("short"==a?D.SHORT:D.jOa,f,this.ux)};a.Sa.prototype.VH=function(a){return this.Rja.VH(new Date(a),this.ad)};a.Sa.prototype.qI=function(a){return this.Rja.qI(a,this.ad)};a.Sa.prototype.Os=
function(a,f,e){var h=this.ad;if("axis"==(e||"axis"))(f=f||this.Qt)&&(f[h]?f=f[h]:f["default"]&&(f=f["default"])),f&&(f.format||f.getAsString)||!this.Ika||!this.Ika[h]||(f=this.Ika[h]);else if(!f)if(f="hours"==h||"minutes"==h||"seconds"==h?{formatType:"datetime",dateFormat:"medium",timeFormat:"medium"}:{formatType:"date",dateFormat:"medium"},e=this.Lk.converterFactory)f=e.createConverter(f);else{f="toLocaleDateString";e={year:"numeric",month:"short",day:"numeric"};if("hours"==h||"minutes"==h||"seconds"==
h)f="toLocaleString",e={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};try{return a[f](this.ux,e)}catch(u){}return a[f]()}if(f){if(f.format)return f.format(this.iG?this.iG(a):a);if(f.getAsString)return f.getAsString(a)}return this.WVa.format(a,h,this.LD)};a.Sa.prototype.Lwa=function(a){this.ul=a?f.Rxa:f.Pxa};a.Sa.prototype.Uca=function(){this.Je=null};a.Sa.prototype.vE=function(a){this.bl=a};a.f.v(v,a.f);v.prototype.Init=function(){this.vVa=864E5;this.GCa=
0};v.prototype.R7a=function(a){this.GCa=a};v.prototype.VH=function(a,f){var e=new Date(a.getTime());if("weeks"==f){e.setHours(0,0,0);var h=(a.getDay()-this.GCa+7)%7;0<h&&e.setTime(e.getTime()-h*this.vVa)}else"months"==f?e.setDate(1):"days"==f?e.setHours(0,0,0):"hours"==f?e.setMinutes(0,0,0):"minutes"==f?e.setSeconds(0,0):"seconds"==f?e.setMilliseconds(0):"quarters"==f?(e.setDate(1),h=2-(a.getMonth()+11)%3,0<h&&e.setMonth(e.getMonth()+h)):"halfyears"==f?(e.setDate(1),h=5-(a.getMonth()+11)%6,0<h&&e.setMonth(e.getMonth()+
h)):"years"==f?(e.setMonth(0),e.setDate(1)):"twoyears"==f&&(e.setMonth(0),e.setDate(1));return e};v.prototype.qI=function(a,f){if("seconds"==f)return new Date(a+1E3);if("minutes"==f)return new Date(a+6E4);if("hours"==f)return new Date(a+36E5);var e=new Date(a);"days"==f?e.setDate(e.getDate()+1):"weeks"==f?e.setDate(e.getDate()+7):"months"==f?e.setMonth(e.getMonth()+1):"quarters"==f?e.setMonth(e.getMonth()+3):"halfyears"==f?e.setMonth(e.getMonth()+6):"years"==f?e.setFullYear(e.getFullYear()+1):"twoyears"==
f?e.setFullYear(e.getFullYear()+2):e.setYear(e.getYear()+1);return e};a.f.v(E,a.ka,"DvtTimeAxisDefaults");E.If={backgroundColor:"rgba(255,255,255,0)",borderColor:"#d9dfe3",separatorColor:"#bcc7d2",labelStyle:new a.j(a.ka.cp+"color: #333333;")};a.f.v(D,a.f);D.jOa=0;D.SHORT=1;D.prototype.Init=function(a,f,e){this.Se=a;this.zs=f;this.ux=e;this.Mm=[];this.Mm[0]={};this.Mm[0].seconds="HH:MM:ss";this.Mm[0].minutes="HH:MM";this.Mm[0].hours="HH:MM";this.Mm[0].days="dddd";this.Mm[0].weeks="m/dd";this.Mm[0].months=
"mmmm";this.Mm[0].quarters="mmmm";this.Mm[0].halfyears="yyyy";this.Mm[0].years="yyyy";this.Mm[0].twoyears="yyyy";this.Mm[1]={};this.Mm[1].seconds="HH:MM:ss";this.Mm[1].minutes="HH:MM";this.Mm[1].hours="HH:MM";this.Mm[1].days="m/dd";this.Mm[1].weeks="m/dd";this.Mm[1].months="mmm";this.Mm[1].quarters="mmm";this.Mm[1].halfyears="yy";this.Mm[1].years="yy";this.Mm[1].twoyears="yy"};D.prototype.format=function(a,f,e){f=this.Mm[this.Se][f];if(null!=f){var h=!1;if(e){a=a.getTime();for(var h=Object.keys(e),
u=0,t=0;t<h.length;t++)a>=parseInt(h[t],10)&&(u=e[h[t]]);a=new Date(a+u);h=!0}if(-1!=f.indexOf(":"))var v=":";else-1!=f.indexOf("/")&&(v="/");if(v){f=f.split(v);e=this.Yra(a,f[0],h);for(t=1;t<f.length;t++)e+=v+this.Yra(a,f[t],h);return e}return this.Yra(a,f,h)}try{return a.toLocaleString(this.ux)}catch(y){}return a.toLocaleString()};D.prototype.Yra=function(a,f,e){if(e)switch(f){case "ss":return a=a.getUTCSeconds(),10>a?"0"+a:a;case "HH":return a=a.getUTCHours(),10>a?"0"+a:a;case "MM":return a=a.getUTCMinutes(),
10>a?"0"+a:a;case "dd":return a=a.getUTCDate(),10>a?"0"+a:a;case "dddd":return this.zs.YGa[a.getUTCDay()+7];case "m":return a.getUTCMonth()+1;case "mmm":return this.zs.Aca[a.getUTCMonth()];case "mmmm":return this.zs.Aca[a.getUTCMonth()+12];case "yy":return a.getUTCFullYear().toString().substring(2,4);default:return a.getUTCFullYear()}else switch(f){case "ss":return a=a.getSeconds(),10>a?"0"+a:a;case "HH":return a=a.getHours(),10>a?"0"+a:a;case "MM":return a=a.getMinutes(),10>a?"0"+a:a;case "dd":return a=
a.getDate(),10>a?"0"+a:a;case "dddd":return this.zs.YGa[a.getDay()+7];case "m":return a.getMonth()+1;case "mmm":return this.zs.Aca[a.getMonth()];case "mmmm":return this.zs.Aca[a.getMonth()+12];case "yy":return a.getFullYear().toString().substring(2,4);default:return a.getFullYear()}};a.f.v(F,a.f,"DvtTimeAxisParser");F.prototype.parse=function(a){this.tu=new Date(a.start);this.$A=new Date(a.end);var f=this.dT();f.ry=a.style;f.id=a.id;f.M6=a.shortDesc;f.S6=a._tzo;f.yca=a._ip;f.cI=a._cts;f.bI=a._cfs;
f.scale=a.scale;f.ara=a.converter;f.PLa=a.zoomOrder?a.zoomOrder:null;f.orientation=a.orientation?a.orientation:"horizontal";return f};F.prototype.dT=function(){var a={};a.start=this.tu.getTime();a.end=this.$A.getTime();return a};var x={};a.f.v(x,a.f,"DvtTimeAxisRenderer");x.Z6a=function(a){if(a.Vp()){var p=a.ve();x.PYa(a,p,f.vra(a.J))}};x.PYa=function(c,p,e){var h=0,u=c.a;if(null==c.uf){var t=new a.fc;c.Ea()?(c.uf=new a.Rect(u,h,-c.Rh("top"),p,c.QJ,"axis"),t.se(h,0,p,c.Bc)):(c.uf=new a.Rect(u,-c.Rh("left"),
h,c.QJ,p,"axis"),t.se(0,h,c.Bc,p));c.uf.ub(c.p9);c.uf.Xc(!0);c.uf.be(t);c.B(c.uf);(p=f.K1a(c.J))&&c.uf.Sp().ja().setAttribute("class",p)}else c.uf.be(null),t=new a.fc,c.Ea()?(c.uf.na(h),c.uf.Pa(-c.Rh("top")),c.uf.jb(p),c.uf.Mb(c.QJ),t.se(h,0,p,c.Bc)):(c.uf.na(-c.Rh("left")),c.uf.Pa(h),c.uf.jb(c.QJ),c.uf.Mb(p),t.se(0,h,c.Bc,p)),c.uf.be(t);c.uf.Ih();c.uf.Sp().ja().setAttribute("stroke-dasharray",c.C0a());e=new a.j(e);c.CH=new a.ma(e.N(a.j.od));p=c.ul;h=h+c.Ea()?c.Rh("left"):c.Rh("top");x.QYa(c,c.Je,
c.uf,c.Bc,h+p,h,h)};x.QYa=function(c,p,e,h,u,t,v){var y=c.a,n=a.m.ea(y),z=new a.ca(y,"block_0_"+p);z.eda=0;z.$aa=p;e.B(z);p=f.L1a(c.J);e=f.N1a(c.J);for(var w=c.ul,A=c.lCa[c.bl],d=c.xn[c.bl],g=0;g<A.length-1;g++){var B=A[g],r=A[g+1],l=d[g],C=a.Sa.Nc(c.Va,c.ob,B,h),r=a.Sa.Nc(c.Va,c.ob,r,h);0!=C&&((c.Ea()?x.lja(y,z,u,t,C,C,c.CH,"s_tick"+B,e):n?x.lja(y,z,h-C,h-C,u,t,c.CH,"s_tick"+B,e):x.lja(y,z,C,C,u,t,c.CH,"s_tick"+B,e)).time=B);l.Zo()&&l.Ge(l.fn());B=!1;if(c.Ea())l.$f(),x.cBa(z,l,v+(u-v)/2,C+(r-C)/
2,u-v,r-C,p);else{if(0===g&&0>C){var D=l.V().b,E=r-Math.max(0,(r-C-D)/2);n||l.dh();C=Math.max(0,E);B=!0}else g===A.length-2&&r>h?(D=l.V().b,E=h-C-Math.max(0,(r-C-D)/2),n&&l.dh(),C=Math.max(C,C+(r-C)/2-D/2)):(E=r-C,C+=(r-C)/2,l.$f());x.cBa(z,l,n?h-C:C,v+(u-v)/2,E,w,p,B)}}};x.cBa=function(c,f,e,h,u,t,v,y){c=a.ga.Yc(f,u,t,c);y&&f.Zo()&&c&&(y=f.fn(),f.Wc()!==y&&(c=y.length,f.Ge(a.M.tJ+y.substring(Math.max(0,c-(f.Wc().length-1)),c))));f.na(e);a.ga.wQ(f,h);v&&f.Sp().ja().setAttribute("class",v)};x.lja=
function(c,f,e,h,u,t,v,y,n){c=new a.Gb(c,e,u,h,t,y);c.Ha(v);c.Xc(!0);f.B(c);n&&c.Sp().ja().setAttribute("class",n);return c};var f={};a.f.v(f,a.f,"DvtTimeAxisStyleUtils");f.Nxa=1;f.YMa=1;f.Rxa=50;f.Pxa=21;f.Qxa=2;f.O1a=function(a){var p="",e=f.P1a(a);e&&(p=p+"background-color:"+e+";");(e=f.oo(a))&&(p=p+"border-color:"+e+";");(e=f.Rh())&&(p=p+"border-width:"+e+";");return p};f.P1a=function(a){return a.backgroundColor};f.oo=function(a){return a.borderColor};f.Rh=function(){return f.Nxa};f.M1a=function(a){return a.labelStyle};
f.Zsa=function(a){return a.separatorColor};f.vra=function(a){var p="";(a=f.Zsa(a))&&(p=p+"color:"+a+";");return p};f.K1a=function(a){return a._resources?a._resources.axisClass:void 0};f.Z$a=function(a){return a._resources?a._resources.axisBorderClass:void 0};f.L1a=function(a){return a._resources?a._resources.axisLabelClass:void 0};f.N1a=function(a){return a._resources?a._resources.axisSeparatorClass:void 0};f.mab=function(a){return a._resources?a._resources.borderTopVisible:!1};f.lab=function(a){return a._resources?
a._resources.borderRightVisible:!1};f.jab=function(a){return a._resources?a._resources.borderBottomVisible:!1};f.kab=function(a){return a._resources?a._resources.borderLeftVisible:!1};a.K(a,"TimeAxis",a.Sa);a.K(a.Sa,"newInstance",a.Sa.newInstance);a.K(a.Sa.prototype,"render",a.Sa.prototype.ia)})(dvt);
  return dvt;
});
