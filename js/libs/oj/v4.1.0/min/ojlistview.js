/**
 * Copyright (c) 2014, 2017, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","require","ojs/ojcomponentcore","ojs/ojdomscroller","ojs/ojanimation","promise","ojs/ojdataprovideradapter"],function(a,g){a.Xd=function(a,b,d){this.ha=b;this.u=a;this.Pd=!1;this.waa(d);this.Init()};a.f.va(a.Xd,a.f,"oj.DataSourceContentHandler");a.Xd.prototype.Init=function(){a.Xd.N.Init.call(this)};a.f.j("DataSourceContentHandler.prototype.Init",{Init:a.Xd.prototype.Init});a.Xd.prototype.Sn=function(){};a.Xd.prototype.vG=function(){};a.Xd.prototype.ty=function(){};a.Xd.prototype.Ji=
function(){null!=this.T$&&(this.ha=this.T$);g(this.ha).empty();this.T$=this.ha=this.u=null};a.Xd.prototype.Ev=function(){return!this.Pd};a.Xd.prototype.Baa=function(){this.rl()?this.ha.setAttribute("role","grid"):this.Bm()?this.ha.setAttribute("role","tree"):this.ha.setAttribute("role","listbox")};a.Xd.prototype.Cca=function(){var a,b;this.wc("rendering content");this.Baa();this.rl()&&this.Sh()&&!this.Bm()&&(a=document.createElement("li"),b=document.createElement("ul"),a.appendChild(b),g(a).attr("role",
"presentation").css("width","100%"),g(b).attr("role","row").addClass(this.u.Rg()),this.ha.appendChild(a),this.T$=this.ha,this.ha=b);this.Su(!1);this.sc()};a.Xd.prototype.mf=function(a){return a.key};a.Xd.prototype.Zd=function(c){var b,d,e;b=g(this.ha).find("."+this.u.ng());for(d=0;d<b.length;d++)if(e=b[d],c==this.mf(e)||a.f.Eb(c,this.mf(e)))return e;return null};a.Xd.prototype.waa=function(a){this.Ib=a};a.Xd.prototype.Cxa=function(){var c=this;return null!=this.IW?Promise.resolve(this.IW):null!=this.u.Pva()&&
null==this.u.Xka()?new Promise(function(b){a.ra.mGa().then(function(a){c.IW=a;b(a)},function(){b(null)})}):Promise.resolve(null)};a.Xd.prototype.Su=function(){this.u.JG()};a.Xd.prototype.n8=function(a,b,d,e,f){var h,k;h=document.createElement("li");g(h).uniqueId();-1===b?k=null:(k=g(a).children("."+this.u.ng()+", ."+this.u.IF()+", .oj-listview-temp-item"),k=b===k.length?null:k[b]);this.u.SG();a.insertBefore(h,k);k=g(a).children().index(h);this.Wfa(h,k,a,b,d,e,f)};a.Xd.prototype.g5a=function(a,b,d,
e,f){var h,k,l;this.wc("replace item");h=a.parentNode;k=g(h).children().index(a);l=document.createElement("li");g(a).replaceWith(l);this.Wfa(l,k,h,b,d,e,f)};a.Xd.prototype.Wfa=function(a,b,d,e,f,h,k){var l,m;void 0==k&&(k=this.iB.bind(this));e=this.K8(e,f,h,a);l=this.u.Xka();h=this.u.Pva();null!=l?(h=l.call(this,e),null!=h&&(null===h.parentNode||h.parentNode instanceof DocumentFragment?a.appendChild(h):null==h.parentNode&&h.toString&&(l=document.createElement("span"),l.appendChild(document.createTextNode(h.toString())),
a.appendChild(l)))):null!=h&&null!=this.IW?(l=this.u.og()[0],m=this.lY(e),h=this.IW.a1a(l,h,m),h.forEach(function(b){a.appendChild(b)})):(l=document.createElement("span"),l.appendChild(document.createTextNode(null==f?"":f.toString())),a.appendChild(l));a=d.children[b];e.parentElement=a;g.data(a,"data",f);k(a,e)};a.Xd.prototype.lY=function(a){var b,d;b={};b.data=a.data;b.index=a.index;b.componentElement=a.componentElement;d={$current:b};a=this.u.Nc("as");null!=a&&0<a.length&&(d[a]=b);return d};a.Xd.prototype.iB=
function(a,b){var d;a.key=b.key;a=g(a);a.uniqueId();d=this.u.UF(a);this.rl()?void 0==b.leaf||b.leaf?this.Sh()?d.attr("role","gridcell"):(a.attr("role","row"),d!=a?d.attr("role","gridcell"):d.children().wrapAll("\x3cdiv role\x3d'gridcell' class\x3d'oj-listview-cell-element'\x3e\x3c/div\x3e")):a.attr("role","presentation"):(d.attr("role",this.Bm()?"treeitem":"option"),d!=a&&a.attr("role","presentation"));d.addClass(this.u.Ko());this.hG(b)||a.addClass("oj-skipfocus");a.addClass(this.u.ng())};a.Xd.prototype.K8=
function(a,b,d,e){var f,g;f={};f.parentElement=e;f.index=a;f.data=b;f.component=this.u.JM();f.datasource=this.Ib;this.u.Nk&&(f=this.u.Nk(f));for(g in d)d.hasOwnProperty(g)&&(f[g]=d[g]);return f};a.Xd.prototype.hG=function(a){return this.u.p9(a)};a.Xd.prototype.tW=function(a){return this.u.Ova(a)};a.Xd.prototype.Sh=function(){return this.u.Sh()};a.Xd.prototype.rl=function(){return this.u.JC()};a.Xd.prototype.wc=function(a){this.u&&this.u.wc("DataSource ContentHandler "+a)};a.Xd.prototype.sc=function(){this.u&&
this.u.sc()};a.Gb=function(c,b,d){a.Gb.N.constructor.call(this,c,b,d)};a.f.va(a.Gb,a.Xd,"oj.IteratingDataProviderContentHandler");a.Gb.prototype.Init=function(){a.Gb.N.Init.call(this)};a.Gb.prototype.Bm=function(){return!1};a.Gb.prototype.Mia=function(){null!=this.dv&&(this.dv.destroy(),this.B$=this.dv=null)};a.Gb.prototype.Ji=function(){a.Gb.N.Ji.call(this);this.NE();this.Mia();this.qG=null};a.Gb.prototype.Sn=function(a,b){this.ln()&&void 0!=this.dy&&this.dy!=b&&(this.dy=b,this.checkViewport())};
a.Gb.prototype.vG=function(){this.ln()&&this.checkViewport()};a.Gb.prototype.ty=function(){var a,b;a=this.H2();void 0!=a&&null!=this.dv&&(this.Mp(),b=this.H2(),a!=b&&this.dv.E5a(b),this.checkViewport())};a.Gb.prototype.ln=function(){return"loadMoreOnScroll"==this.u.options.scrollPolicy?!0:!1};a.Gb.prototype.Ip=function(){return Math.max(0,this.u.options.scrollPolicyOptions.fetchSize)};a.Gb.prototype.Mp=function(){var c=this.u.options.scrollPolicyOptions.scroller;return null!=c&&g.contains(c,this.ha)?
(void 0===this.lo&&(this.lo=a.Zh.S_a(c,this.ha)+this.cla()),c):this.u.og()};a.Gb.prototype.H2=function(){void 0===this.lo&&(this.lo=this.cla());return this.lo};a.Gb.prototype.cla=function(){var a,b;a=g(document.createElement("div"));a.addClass(this.u.Df()).css({visibility:"hidden",overflow:"hidden",position:"absolute"});b=g(document.createElement("div"));b.addClass("oj-icon oj-listview-loading-icon");a.append(b);g(this.u.og()).append(a);b=a.get(0).offsetHeight;a.remove();return b};a.Gb.prototype.X2=
function(){return this.u.options.scrollPolicyOptions.maxCount};a.Gb.prototype.waa=function(c){this.NE();null!=c&&(this.Qxa=this.P2a.bind(this),this.Rxa=this.Q2a.bind(this),c.addEventListener("mutate",this.Qxa),c.addEventListener("refresh",this.Rxa));a.Gb.N.waa.call(this,c)};a.Gb.prototype.pga=function(){var a,b;null==this.qG&&(a=g(document.createElement("li")),a.uniqueId().attr("role","presentation").addClass(this.u.Df()).addClass("oj-listview-loading-icon-container"),b=g(document.createElement("div")),
b.addClass("oj-icon oj-listview-loading-icon"),a.append(b),g(this.ha).append(a),this.qG=a)};a.Gb.prototype.j6=function(){null!=this.qG&&this.qG.remove();this.qG=null};a.Gb.prototype.Uwa=function(){return null!=this.qG};a.Gb.prototype.iB=function(c,b){var d;a.Gb.N.iB.call(this,c,b);g(c).addClass(this.u.Df());this.u.Zc()&&this.tW(b)&&this.u.Cf(g(c)).attr("aria-selected",!1);this.ln()&&(d=Math.min(-1,this.X2()),-1===d&&(d=this.X2()),0<d&&g(c).attr("aria-setsize",d).attr("aria-posinset",b.index+1));this.u.GB(c,
b)};a.Gb.prototype.l_a=function(c,b){var d,e,f,h,k;this.wc("after render item from model insert event");c.setAttribute("data-oj-context","");this.iB(c,b);d=g(c);e=c.className;d.children().wrapAll("\x3cdiv\x3e\x3c/div\x3e");c.className="oj-listview-temp-item oj-listview-item-add-remove-transition";f=d.children().first();f[0].className=e;f[0].key=c.key;f.attr("role",c.getAttribute("role"));d[0].hasAttribute("aria-selected")&&f.attr("aria-selected",c.getAttribute("aria-selected"));h=this;a.Context.getContext(c).Rc().whenReady().then(function(){null!=
h.u&&(h.wc("kick off animation for insert item"),k=h.u.bz(c,"add"),k.then(function(){c.removeAttribute("data-oj-context");h.VOa(b,c)}),h.sc())})};a.Gb.prototype.i4=function(){a.D.error("max count reached")};a.Gb.prototype.NE=function(){var a=this.Ib;null!=a&&(a.removeEventListener("mutate",this.Qxa),a.removeEventListener("refresh",this.Rxa))};a.Gb.prototype.xYa=function(a){return this.ln()&&null!=a&&0<a.length&&a.length>=this.Ip()};a.Gb.prototype.Su=function(c){var b,d,e,f,h=0;this.wc("fetching rows");
this.Ev()&&(this.Pd=!0,a.Gb.N.Su.call(this,c),c=this.Cxa(),this.wc("first fetch"),b={},b.size=this.ln()?this.Ip():-1,d=this,this.Fxa=this.Ib.fetchFirst(b)[Symbol.asyncIterator](),b=this.Fxa.next(),Promise.all([b,c]).then(function(b){null!=d.u&&(e=b[0],f=d.Ib,f instanceof a.KC&&(h=f.offset),0==h&&g(d.ha).empty(),d.Cma(e)&&(d.pga(),d.u.DX()))},function(a){d.Gr(a);d.sc()}));this.sc()};a.Gb.prototype.Gr=function(c){a.D.error(c);this.ln()&&this.j6();this.u.zy()};a.Gb.prototype.Jw=function(a,b){var d,e,
f;d=this.ha.childElementCount;for(e=0;e<a.length;e++)f=a[e],this.n8(this.ha,d,f,this.getMetadata(d,b[e],f)),d+=1};a.Gb.prototype.g6=function(){var c=this,b,d;this.B$=function(a){null!=a?(c.wc("handle results when maxCountLimit reached"),c.j6(),c.Ev()&&c.wc("dummy task"),b=c.Cma(a),a.maxCountLimit?c.i4():b&&c.pga(),c.sc()):c.j6();c.sc()};d={fetchSize:this.Ip(),fetchTrigger:this.H2(),maxCount:this.X2(),asyncIterator:this.Fxa,initialRowCount:this.ha.childElementCount,success:this.B$,error:this.sc.bind(this)};
this.dv=new a.Zh(this.Mp(),this.Ib,d);this.dv.j4=function(b,d){1>=d-b&&c.wc("starts highwatermark scrolling");a.Zh.prototype.j4.call(this,b,d)}};a.Gb.prototype.Tpa=function(a){void 0==this.JW&&(this.JW=[]);this.JW.push(a)};a.Gb.prototype.MIa=function(){null!=this.JW&&(this.JW.length=0)};a.Gb.prototype.P2a=function(a){null!=a.detail.remove&&this.R2a(a);null!=a.detail.add&&this.N2a(a);null!=a.detail.update&&this.O2a(a)};a.Gb.prototype.yd=function(a,b){var d;if(null==a||0==a.length||b>=a.length)return-1;
d=this.Zd(a[b]);return null!=d?g(this.ha).children().index(d):-1};a.Gb.prototype.N2a=function(a){var b,d,e,f,g;if(null!=this.ha)if(this.Ev()){this.wc("handling model add event");b=a.detail.add;a=b.data;d=[];b.keys.forEach(function(a){d.push(a)});b.afterKeys&&(e=[],b.afterKeys.forEach(function(a){e.push(a)}));b=b.indexes;if(null!=a&&null!=d&&0<d.length&&0<a.length&&d.length==a.length&&(null==b||b.length==a.length)){for(f=0;f<a.length;f++)this.wc("handling model add event for item: "+d[f]),g=null==
b?this.yd(e,f)+1:b[f],this.n8(this.ha,g,a[f],this.getMetadata(g,d[f],a[f]),this.l_a.bind(this)),this.sc();this.Ev()&&this.wc("dummy task");this.$ua()}this.sc()}else this.Tpa({type:a.type,event:a})};a.Gb.prototype.VOa=function(a,b){var d;null!=this.u&&(d=g(b).children().first().attr("class"),g(b).children().children().unwrap(),b.className=d,this.u.txa(b,a));this.sc()};a.Gb.prototype.R2a=function(a){var b,d,e=this,f,g,k;b=a.detail.remove.keys;if(null!=this.ha&&null!=b&&0!=b.size)if(this.Ev()){this.wc("handling model remove event");
f=this.u.options.selection;g=f.slice(0);b.forEach(function(a){d=e.Zd(a);null!=d&&(e.wc("handling model remove event for item: "+a),e.ZVa(d),e.sc());e.u.rK()&&(k=e.u.nO(f,a),-1<k&&g.splice(k,1))});if(f.length!=g.length){b=Array(g.length);for(a=0;a<g.length;a++)b[a]=this.Zd(g[a]);this.u.Vr(g,null,b)}this.u.WG();this.sc()}else this.Tpa({type:a.type,event:a})};a.Gb.prototype.ZVa=function(a){var b,d=this;this.wc("removing an item");a=g(a);b=a.get(0).className;a.children().wrapAll("\x3cdiv class\x3d'"+
b+"'\x3e\x3c/div\x3e");a.get(0).className="oj-listview-item-add-remove-transition";this.wc("kick off animation to remove an item");b=a.get(0);this.u.bz(b,"remove").then(function(){d.EQa(a)});this.sc()};a.Gb.prototype.EQa=function(a){if(null!=this.u){a=g(a);var b=a.parent();0!=b.length&&(this.u.l$(a.get(0)),a.remove(),0==b.get(0).childElementCount&&this.u.zy(),this.u.Vua())}this.sc()};a.Gb.prototype.O2a=function(a){var b,d,e,f,g;if(null!=this.ha){this.wc("handling model update event");b=a.detail.update;
a=b.data;d=[];b.keys.forEach(function(a){d.push(a)});b=b.indexes;for(e=0;e<d.length;e++)f=this.Zd(d[e]),null!=f&&(this.wc("handling model update event for item: "+d[e]),g=null==b?-1:b[e],this.g5a(f,g,a[e],this.getMetadata(g,d[e],a[e]),this.k_a.bind(this)),this.sc());this.u.WG();this.sc()}};a.Gb.prototype.k_a=function(a,b){var d=this;this.wc("after render item for model change event");this.iB(a,b);this.u.bz(a,"update").then(function(){d.FQa(a)});this.sc()};a.Gb.prototype.FQa=function(a){null!=this.u&&
(g(a).removeClass("oj-listview-item-add-remove-transition"),this.u.p5a());this.sc()};a.Gb.prototype.Q2a=function(){null!=this.ha&&(this.wc("handling model reset event"),this.MIa(),this.u.WG(),this.Mia(),this.Su(!0),this.sc())};a.Gb.prototype.Cma=function(a){var b=!1,d;if(null==this.ha||null==a.value)return b;d=a.value.data;a=a.value.metadata.map(function(a){return a.key});d.length==a.length&&(this.Jw(d,a),this.ln()&&(b=this.xYa(a))&&null==this.dv&&this.g6(),this.$ua());return b};a.Gb.prototype.$ua=
function(){this.Pd=!1;this.u.zy();this.checkViewport();this.sc()};a.Gb.prototype.checkViewport=function(){var a=this,b;this.wc("checking viewport");null!=this.dv&&this.Ev()&&(b=this.dv.checkViewport(),null!=b&&(this.wc("got promise from checking viewport"),b.then(function(b){null!=b&&a.B$(b);a.sc()},null)));this.sc()};a.Gb.prototype.getMetadata=function(a,b,d){d=d.context;null==d&&(d={});null==d.index&&(d.index=a);null==d.key&&(d.key=b);return d};a.Ri=function(c,b,d){a.Ri.N.constructor.call(this,
c,b,d)};a.f.va(a.Ri,a.Xd,"oj.TreeDataSourceContentHandler");a.Ri.prototype.Init=function(){a.Ri.N.Init.call(this)};a.Ri.prototype.Bm=function(){return!0};a.Ri.prototype.Su=function(c){this.wc("fetching rows");a.Ri.N.Su.call(this,c);this.fetchChildren(0,null,this.ha,null);this.sc()};a.Ri.prototype.fetchChildren=function(a,b,d,e){var f,h,k,l=this;this.wc("fetching children from index: "+a);f=this.Cxa();null!=b&&(h=d.parentNode.firstElementChild.firstElementChild.firstElementChild)&&(h=g(h),k=this.u.lq(),
h.hasClass(k)&&h.removeClass(k).addClass("oj-listview-expanding-icon"));this.Pd=!0;a={start:a,count:this.Ib.getChildCount(b)};this.Ib.fetchChildren(b,a,{success:function(a){f.then(function(){l.Jw(a,b,d,e)})},error:function(a){l.Gr(a)}});this.sc()};a.Ri.prototype.Jw=function(a,b,d,e){var f,h,k,l,m;this.wc("handling successful fetch");f=a.getStart();h=a.getCount();for(k=0;k<h;k++)l=a.getData(f+k),m=a.getMetadata(f+k),this.n8(d,f+k,l,m);this.rl()&&this.Sh()&&null!=b&&1<h&&g(d.parentNode.firstElementChild.firstElementChild).attr("aria-colspan",
h);this.Pd=!1;null!=e&&e.call(null,d);this.u.zy();this.rk=!0;this.sc()};a.Ri.prototype.lY=function(c){var b,d;b=a.Ri.N.lY.call(this,c);d=b.$current;d.depth=c.depth;d.leaf=c.leaf;d.parentKey=c.parentKey;return b};a.Ri.prototype.iB=function(c,b){var d,e,f,h,k,l;this.wc("after rendering an item");a.Ri.N.iB.call(this,c,b);d=this.u.Rg();e=this.u.Df();f=this.u.mg(!0);h=this.u.uB();l=this.u.lq();k=this.u.Ko();c=g(c);!1==b.leaf?(c.children().wrapAll("\x3cdiv\x3e\x3c/div\x3e"),c.hasClass(k)?c.removeClass(k).children().first().addClass(k).attr("aria-expanded",
"false"):c.children().first().attr("role","presentation").find("."+k).attr("aria-expanded","false"),e=c.children().first(),e.uniqueId().addClass(f),this.u.gG()&&(c.addClass("oj-collapsed"),f=document.createElement("a"),g(f).attr("href","#").attr("aria-labelledby",e.get(0).id).addClass("oj-component-icon oj-clickable-icon-nocontext").addClass(l),e.prepend(f)),this.rl()&&(e.get(0).removeAttribute("aria-expanded"),e.removeClass(k),e.attr("role","row"),e.children().wrapAll("\x3cdiv role\x3d'gridcell' aria-expanded\x3d'false' class\x3d'oj-listview-cell-element "+
k+"'\x3e\x3c/div\x3e")),k=document.createElement("ul"),g(k).addClass(d).addClass(h).attr("role",this.rl()?this.Sh()?"row":"presentation":"group"),c.append(k)):!0==b.leaf&&c.addClass(e);this.u.Zc()&&this.tW(b)&&this.u.Cf(c).attr("aria-selected",!1);this.u.GB(c[0],b);this.sc()};a.Ri.prototype.Gr=function(c){this.wc("handling fetch error: "+c);a.D.error(c);this.u.zy();this.sc()};a.Ri.prototype.rC=function(a,b){var d,e;this.wc("expanding an item");d=this.mf(a[0]);e=a.children("ul")[0];this.fetchChildren(0,
d,e,b);this.sc()};a.Ri.prototype.nC=function(a){a.empty()};a.ge=function(a,b){this.u=a;this.ha=b};a.f.va(a.ge,a.f,"oj.StaticContentHandler");a.ge.prototype.Init=function(){a.ge.N.Init.call(this)};a.ge.prototype.Ji=function(){this.ha.hasAttribute("role")&&(this.rza(this.ha,0),this.u6a(),this.rl()&&this.Sh()&&!this.Bm()&&g(this.ha).children().first().children().unwrap().children().unwrap())};a.ge.prototype.Ev=function(){return!0};a.ge.prototype.Sn=function(){};a.ge.prototype.vG=function(){};a.ge.prototype.ty=
function(){};a.ge.prototype.Cca=function(){var a=this.ha;this.rl()&&this.Sh()&&!this.Bm()&&0<g(a).children("li").length&&(g(this.ha).children().wrapAll("\x3cli role\x3d'presentation' style\x3d'width:100%'\x3e\x3cul role\x3d'row' class\x3d'"+this.u.Rg()+"'\x3e\x3c/ul\x3e\x3c/li\x3e"),a=g(this.ha).children("li").first().children("ul").first().get(0));this.sya(a,0);this.Baa();this.u.zy()};a.ge.prototype.rC=function(a,b){var d;d="."+this.u.Rg();d=g(a).children(d)[0];g(d).css("display","");b.call(null,
d)};a.ge.prototype.nC=function(){};a.ge.prototype.Bm=function(){null==this.H$&&(this.H$=0<g(this.ha).children("li").children("ul").length);return this.H$};a.ge.prototype.rza=function(a,b){var d,e,f,h,k,l,m,p,t,s;d=this.u.Rg();e=this.u.uB();f=this.u.KF();h=this.u.mg(!0);k=this.u.Df();l=this.u.ng();m=a.children;for(p=0;p<m.length;p++)t=g(m[p]),t.hasClass(l)&&(this.s6a(t.get(0)),t.removeClass(l).removeClass(k).removeClass(this.u.j9(b)).removeClass("oj-skipfocus").removeClass("oj-focus").removeClass("oj-hover").removeClass("oj-expanded").removeClass("oj-collapsed").removeClass("oj-selected"),
s=t.children("ul"),0<s.length&&(t.children("."+h).children().unwrap(),this.rl()&&this.t6a(t),t.children(".oj-component-icon").remove(),t=g(s[0]),t.removeClass(d).removeClass(f).removeClass(e).removeAttr("role"),this.rza(t[0],b+1)))};a.ge.prototype.sya=function(a,b){var d,e,f,h,k,l,m,p,t,s,n,q,r,u,w,v;d=this.u.Df();e=this.u.ng();f=this.u.Rg();h=this.u.mg(!0);k=this.u.uB();l=this.u.lq();m=this.u.Ko();p=a.children;t=this.u.gG();for(s=0;s<p.length;s++)n=g(p[s]),q=this.K8(n),this.A5a(n,q),n.uniqueId().addClass(e),
0<b&&n.addClass(this.u.j9(b)),this.hG(q)||n.addClass("oj-skipfocus"),r=n.children("ul"),0<r.length?(this.H$=!0,n.children(":not(ul)").wrapAll("\x3cdiv\x3e\x3c/div\x3e"),u=n.children().first(),u.addClass(h),v=this.F1a(r[0]),0<v&&(n.hasClass(m)?(n.removeClass(m),u.addClass(m).attr("aria-expanded","false")):(u.attr("role","presentation"),u.find("."+m).attr("aria-expanded","false")),t&&(n.addClass("oj-collapsed"),u.uniqueId(),w=document.createElement("a"),g(w).attr("href","#").attr("role","button").attr("aria-labelledby",
u.get(0).id).addClass("oj-component-icon oj-clickable-icon-nocontext").addClass(l),u.prepend(w))),this.rl()&&this.F5a(u,v),r=g(r[0]),r.addClass(f).addClass(k).attr("role",this.rl()?this.Sh()?"row":"presentation":"group").css("display","none"),this.sya(r[0],b+1)):n.addClass(d),this.u.Zc()&&this.tW(q)&&this.u.Cf(n).attr("aria-selected",!1),this.u.GB(n[0],q)};a.ge.prototype.Baa=function(){this.rl()?this.ha.setAttribute("role","grid"):this.Bm()?this.ha.setAttribute("role","tree"):this.ha.setAttribute("role",
"listbox")};a.ge.prototype.u6a=function(){this.ha.removeAttribute("role")};a.ge.prototype.F1a=function(a){return g(a).children("li").length};a.ge.prototype.K8=function(a){var b;b={};b.key=a.attr("id");b.parentElement=a.children().first()[0];b.index=a.index();b.data=a[0];b.component=this.u.JM();this.Bm()&&(b.leaf=0==a.children("ul").length,a=a.parents("li."+this.u.ng()),b.depth=a.length,b.parentKey=0==a.length?null:a.first().attr("id"));return b};a.ge.prototype.A5a=function(a,b){var d=this.u.UF(a);
this.rl()?void 0==b.leaf||b.leaf?this.Sh()?d.attr("role","gridcell"):(a.attr("role","row"),d!=a?d.attr("role","gridcell"):d.children().wrapAll("\x3cdiv role\x3d'gridcell' class\x3d'oj-listview-cell-element'\x3e\x3c/div\x3e")):(a.attr("role","presentation"),d!=a&&d.attr("role","gridcell")):(d.attr("role",this.Bm()?"treeitem":"option"),d!=a&&a.attr("role","presentation"));d.addClass(this.u.Ko())};a.ge.prototype.F5a=function(a,b){var d=this.u.Ko();a.get(0).removeAttribute("aria-expanded");a.removeClass(d);
a.attr("role","row");a.children().wrapAll("\x3cdiv role\x3d'gridcell' aria-expanded\x3d'false' class\x3d'oj-listview-cell-element "+d+"'\x3e\x3c/div\x3e");this.Sh()&&1<b&&a.children().first().attr("aria-colspan",b)};a.ge.prototype.t6a=function(a){a.children("div").first().children().unwrap()};a.ge.prototype.s6a=function(a){var b=this.u.UF(g(a));b.removeAttr("role");b.removeAttr("aria-selected");b.removeAttr("aria-expanded");b.removeClass(this.u.Ko());this.rl()&&!this.Sh()&&(b!=a?(g(a).removeAttr("role"),
b.children().first().children().unwrap()):b.children().first().children().unwrap().children().unwrap())};a.ge.prototype.mf=function(a){return g(a).attr("id")};a.ge.prototype.Zd=function(a){return document.getElementById(a)};a.ge.prototype.hG=function(a){return this.u.p9(a)};a.ge.prototype.tW=function(a){return this.u.Ova(a)};a.ge.prototype.Sh=function(){return this.u.Sh()};a.ge.prototype.rl=function(){return this.u.JC()};a.vO=function(){};a.vO.prototype.set=function(a,b){var d;void 0===this.BK&&void 0===
this.mu&&(this.BK=[],this.mu=[]);d=this.BK.indexOf(a);-1<d?this.mu.splice(d,1,b):(this.BK.push(a),this.mu.push(b))};a.vO.prototype.get=function(a){return this.BK&&this.mu&&(a=this.BK.indexOf(a),-1<a&&this.mu.length>a)?this.mu[a]:null};a.vO.prototype.M0a=function(a){for(var b=this.mu.indexOf(a);-1<b;)this.mu.splice(b,1),b=this.mu.indexOf(a,b)};a.z5=function(c,b){function d(){}a.f.va(d,c,"");d.prototype=g.extend(d.prototype,b);return d}(Object,{Se:37,Jf:39,Dk:40,Lk:38,OO:9,bY:13,cO:27,eY:113,PY:32,
gp:0,fp:1,Dca:2,G6a:0,Ny:1,mk:function(c){var b=this,d;this.Qs=[];this.element=c.element;this.fa=c.fa;this.Fc=c.Fc;this.options=c;this.wc("Initializing");this.element.uniqueId().addClass(this.dH()+" oj-component-initnode");this.NO();if(d=this.Mba())this.Gf=d,this.fa._on(this.element,{dragstart:function(a){return d.VJ(a)},dragenter:function(a){return d.T3(a)},dragover:function(a){return d.V3(a)},dragleave:function(a){return d.U3(a)},dragend:function(a){b.hy=!1;return d.S3(a)},drag:function(a){return d.uPa(a)},
drop:function(a){b.hy=!1;return d.W3(a)}});this.fa._on(this.element,{click:function(a){b.vY(a)},touchstart:function(a){b.pO(a)},touchend:function(a){b.gH(a)},touchcancel:function(a){b.gH(a)},mousedown:function(a){0===a.button?b.Ypa()||b.pO(a):b.hy=!0},mouseup:function(a){b.Kma(a);b.hy=!1},mouseout:function(a){b.lS(a)},mouseover:function(a){b.c4(a)},keydown:function(a){b.fH(a)},keyup:function(a){b.aBa(a)},ojpanmove:function(a){b.Kma(a)}});this.fa._on(this.fa.element,{focus:function(a){b.bt(a)},blur:function(a){b.$s(a)}});
a.Va.Ho().browser===a.Va.Ak.dO&&this.Ig().attr("tabIndex",-1);this.Ny===this.Ny?this.fa._on(this.fa.element,{focusin:function(a){b.bt(a)},focusout:function(a){b.$Aa(a)}}):this.fa._on(this.element,{focus:function(a){b.bt(a)},blur:function(a){b.$s(a)}});this.oqa();this.fa._focusable({applyHighlight:!0,recentPointer:b.Bca(),setupHandlers:function(a,c){b.Oj=a;b.bj=c}})},Mza:function(){this.fa.document.bind("touchend.ojlistview touchcancel.ojlistview",this.gH.bind(this))},eza:function(){this.fa.document.off(".ojlistview")},
tF:function(){var a;this.cIa();this.tna();a=this.Ig();this.Vp(a[0]);this.sc()},refresh:function(){this.Qqa();this.wc("Refresh");this.KO();this.tna();this.oqa();this.sc()},whenReady:function(){return this.Zya},destroy:function(){this.element.removeClass(this.dH()+" oj-component-initnode");this.vn(this.Ig());this.Qqa();a.T.unwrap(this.element,this.Ig())},Qqa:function(){var a=this;this.Rca();this.HIa(this.element);null!=this.te&&(this.te.Ji(),delete this.te,this.te=null);this.cy=this.ba=null;this.Qs=
[];this.Zya=new Promise(function(b){a.$ya=b});this.WG();this.fm&&(this.fm(null),this.fm=null);null!=this.Gf&&this.Gf.reset()},ty:function(){this.DX();null!=this.te&&this.te.ty()},Bya:function(){this.Ig().removeClass("oj-focus-ancestor");null!=this.ba&&g(this.ba.elem).removeClass("oj-focus oj-focus-highlight");null!=this.I$&&this.Cu(this.I$,"oj-hover")},vG:function(){this.DX();null!=this.te&&this.te.vG()},getNodeBySubId:function(a){var b;if(null==a)return this.element?this.element[0]:null;b=a.subId;
if("oj-listview-disclosure"===b||"oj-listview-icon"===b){if(a=a.key,null!=a&&(a=this.Zd(a),null!=a&&(a=g(a).find(".oj-clickable-icon-nocontext").first(),this.NS(a))))return a.get(0)}else if("oj-listview-item"===b&&(a=a.key,null!=a))return this.Zd(a);return null},getSubIdByNode:function(a){return null!=a&&this.NS(a)&&(a=this.cp(a),null!=a&&0<a.length&&(a=this.mf(a[0]),null!=a))?{subId:"oj-listview-disclosure",key:a}:null},getContextByNode:function(a){var b,d,e;a=this.cp(a);return null!=a&&0<a.length&&
(b=this.mf(a[0]),null!=b)?(d=a.parent(),e=d.children("."+this.ng()).index(a),b={subId:"oj-listview-item",key:b,index:e},d.get(0)!=this.element.get(0)&&(b.parent=d.parent().get(0)),a.children().first().hasClass(this.mg())?b.group=!0:b.group=!1,b):null},getDataForVisibleItem:function(a){var b;b=a.index;a=a.parent;a=null==a?this.element.get(0):g(a).children("ul."+this.Rg()).first();b=g(a).children("li").get(b);return null!=b&&g(b).hasClass(this.Df())?this.wka(b):null},wka:function(a){return null==this.Nc("data")?
a:g.data(a,"data")},vn:function(c){c&&this.ti&&a.T.vm(c,this.ti)},Vp:function(c){c&&(null==this.ti&&(this.ti=this.Sn.bind(this)),a.T.em(c,this.ti))},Mba:function(){if("undefined"!=typeof a.ua)return new a.ua(this)},Sn:function(a,b){0<a&&0<b&&null!=this.te&&this.te.Sn(a,b)},eCa:function(){return!0},Bca:function(){return function(){return!1}},Kca:function(a){return null!=a.data||null!=a.drillMode||null!=a.groupHeaderPosition||null!=a.item||null!=a.scrollPolicy||null!=a.scrollPolicyOptions},qX:function(a){var b,
d,e;if(this.Kca(a))return!0;if(null!=a.expanded&&this.te.Bm()&&(this.qr=void 0,d=a.expanded,Array.isArray(d))){this.wc("Set expanded option");this.cJa();this.jna=!0;try{b=this,g.each(d,function(a,c){b.R8(c,!0,!0,!0)})}finally{this.jna=void 0,this.sc()}}null!=a.currentItem?(d=this.Zd(a.currentItem),null!=d&&(d=g(d),this.Pi(d)||((e=document.activeElement)&&this.element.get(0).contains(e)?this.iC(d,null):this.pd(d,null,!0)))):null===a.currentItem&&(this.wH(),this.ba=null,this.NO());this.qO(a);null!=
a.selectionMode&&(this.Qk(!0),this.KO(),this.nCa(a.selectionMode));null!=a.scrollTop&&(d=this.Mp(),e=a.scrollTop,null==e||isNaN(e)||(d.scrollTop=e));this.lU()&&null!=this.ba&&null!=a.dnd&&null!=a.dnd.reorder&&("enabled"===a.dnd.reorder.items?this.Gf.Rra(this.ba.elem):"disabled"===a.dnd.reorder.items&&this.Gf.yZa(this.ba.elem));return!1},qO:function(a){var b,d;if(null!=a.selection&&this.Zc())for(a.selection=this.ZLa(a.selection),b=a.selection,this.Qk(!1),d=0;d<b.length;d++)a=this.Zd(b[d]),null!=a&&
this.Dz(a,b[d])},Si:function(a,b,d){return this.fa._trigger(a,b,d)},Lv:function(a,b,d){this.fa.option(a,b,d)},Nc:function(a){return this.fa.option(a)},EMa:function(a){return"The component identified by '"+(this.fa.Y()?this.og().attr("id"):this.element.attr("id"))+"', "+a},wc:function(c){var b=this,d;this.Qs&&(0==this.Qs.length&&(this.Zya=new Promise(function(a){b.$ya=a}),d=a.Context.getContext(this.element[0]).Rc(),c=null!=c?{description:this.EMa(c)}:{},b.fm=d.Vc(c)),this.Qs.push(1))},sc:function(){this.Qs&&
0<this.Qs.length&&(this.Qs.pop(),0==this.Qs.length&&(this.$ya(null),this.fm(null),this.fm=null))},EB:function(){return null==this.fm},k6a:function(a){if(this.Qs)for(;0<this.Qs.length;)this.sc();throw a;},LV:function(a){var b,d=this,e=[];g.each(a,function(a,c){b=d.Zd(c);null!=b&&e.push(b)});return e},Sh:function(){return(this.fa.Y()?this.og():this.element).hasClass("oj-listview-card-layout")},JC:function(){return!0},tna:function(){var c;this.wc("Initialize ContentHandler");this.JG();c=this.Nc("data");
null!=c?"undefined"!==typeof a.ta&&c instanceof a.ta?this.te=new a.Gb(this,this.element[0],new a.KC(c)):"undefined"!==typeof a.Mv&&c instanceof a.Mv?this.te=new a.Ri(this,this.element[0],c):a.Iy.rW(c)?this.te=new a.Gb(this,this.element[0],c):this.k6a("Invalid data or missing module"):this.te=new a.ge(this,this.element[0]);this.te.Cca();this.sc()},mCa:function(a){this.element.attr("aria-activedescendant",a.attr("id"))},KO:function(){this.Nr()?this.element.attr("aria-multiselectable",!0):this.Zc()&&
this.element.attr("aria-multiselectable",!1)},Rca:function(){this.element.removeAttr("aria-activedescendant").removeAttr("aria-multiselectable")},nCa:function(a){var b=this,d,e;"none"==a?(this.element.removeAttr("aria-multiselectable"),a=function(a){b.Cf(a).removeAttr("aria-selected")}):("single"==a?this.element.attr("aria-multiselectable",!1):this.element.attr("aria-multiselectable",!0),a=function(a){b.Cf(a).attr("aria-selected","false")});d=this.Yt();for(e=0;e<d.length;e++)a(g(d[e]))},cIa:function(){var a,
b;a=this.Ig();this.KO();b=this.fIa();a.append(b);this.vk=b;b=this.XHa();a.append(b);this.iG=b;this.Bo()&&null!=this.Gf&&a.append(this.YHa())},fIa:function(){var a,b;a=g(document.createElement("div"));a.addClass("oj-icon oj-listview-loading-icon");b=g(document.createElement("div"));b.addClass("oj-listview-status-message oj-listview-status").attr({id:this.Mt("status"),role:"status"});b.append(a);return b},XHa:function(){var a=g(document.createElement("div"));a.addClass("oj-helper-hidden-accessible").attr({id:this.Mt("info"),
role:"status"});return a},YHa:function(){var a=g(document.createElement("div"));a.addClass("oj-helper-hidden-accessible").attr({id:this.Mt("instr")});a.text(this.fa.R("accessibleReorderTouchInstructionText"));return a},wi:function(a){""!=a&&this.iG.text()!=a&&this.iG.text(a)},JG:function(){var a,b=this,d,e,f;this.xq||(this.xq=setTimeout(function(){g(document.getElementById(b.Mt("empty"))).remove();a=b.fa.R("msgFetchingData");e=b.Ig();b.vk.attr("aria-label",a).css("left",Math.max(0,e.outerWidth()/
2-b.vk.outerWidth()/2)).css("top",Math.max(0,e.outerHeight()/2-b.vk.outerHeight()/2)).show();void 0===b.a4a&&(d=b.vk.get(0).offsetHeight,f=e.get(0).offsetHeight,e.css("minHeight",Math.max(f,d+b.bla())),b.a4a=!0);b.xq=null},this.p3()))},p3:function(){var c;null==this.gq&&(this.gq=a.gc.Yc(this.v9()));c=parseInt(this.gq.showIndicatorDelay,10);return isNaN(c)?0:c},ws:function(){this.xq&&(clearTimeout(this.xq),this.xq=null);this.vk.hide()},og:function(){return this.Ig()},Ig:function(){null==this.ZM&&(this.ZM=
this.ZJa());return this.ZM},ZJa:function(){var a;this.Fc?a=g(this.Fc):(a=g(document.createElement("div")),this.element.parent()[0].replaceChild(a[0],this.element[0]));a.addClass(this.Hba()).addClass("oj-component");a.prepend(this.element);return a},Dka:function(){return this.fa.R("msgNoData")},DI:function(){var a,b;a=this.Dka();b=document.createElement("li");b.id=this.Mt("empty");b.className=this.IF()+" "+this.Cva();b.textContent=a;return b},Mi:function(a){a=this.Cf(a).attr("aria-expanded");return"true"==
a?this.gp:"false"==a?this.fp:this.Dca},az:function(a,b){var d=this.gG();b==this.gp?(this.Cf(a).attr("aria-expanded","true"),d&&a.removeClass("oj-collapsed").addClass("oj-expanded")):b==this.fp&&(this.Cf(a).attr("aria-expanded","false"),d&&a.removeClass("oj-expanded").addClass("oj-collapsed"))},Q2:function(a,b,d){a=this.Nc("item")[a];return"function"==typeof a&&d?a.call(this,b):a},p9:function(a){return this.Q2("focusable",a,!0)},Ova:function(a){return this.p9(a)&&this.Q2("selectable",a,!0)},Xka:function(){var a=
this.Q2("renderer",null,!1);return"function"!=typeof a?null:this.Fl(a)},Pva:function(){var c;void 0===this.U$&&(this.U$=null,this.fa.Y()&&(c=a.J.Dn(this.og()[0]),(c=c.itemTemplate)&&0<c.length&&"template"===c[0].tagName.toLowerCase()&&(this.U$=c[0])));return this.U$},txa:function(){},SG:function(){},l$:function(a){null!=this.ba&&this.ba.elem&&g(this.ba.elem).get(0)==a&&this.Lv("currentItem",null);null!=a&&a.id&&null!=this.MB&&this.MB.M0a(a.id)},GB:function(c,b){var d,e,f,h,k;null!=this.Gf&&this.Gf.GB(c);
this.dJ(c);d=b.key;if(this.Zc())if(e=this.Nc("selection"),this.Cm(c)){for(h=0;h<e.length;h++)if(e[h]==d||a.f.Eb(e[h],d))if(this.Dz(c,e[h]),!this.Nr()){1<e.length&&(f=this.Zd(d),this.Vr([d],null,f));break}0==e.length&&this.rK()&&(this.Dz(c,d),this.Vr([d],null,[c]))}else if(f=this.nO(e,d),-1<f){e=e.slice(0);e.splice(f,1);f=Array(e.length);for(h=0;h<e.length;h++)f[h]=this.Zd(e[h]);this.Vr(e,null,f)}this.te.Bm()&&void 0==this.jna&&this.Mi(g(c))==this.fp&&(e=this.Nc("expanded"),this.pE()?void 0==this.qr&&
this.My(g(c),null,!1,null,!1,!1,!1):Array.isArray(e)&&(k=this,g.each(e,function(a,b){b!=d||void 0!=k.qr&&-1!=k.qr.indexOf(b)||k.My(g(c),null,!1,null,!1,!1,!1)})));null!=this.ba&&d==this.ba.key&&null!=this.ba.elem&&c!=this.ba.elem.get(0)&&(this.ba.elem=g(c))},zy:function(){var a,b;this.ws();g(document.getElementById(this.Mt("empty"))).remove();0==this.element[0].childElementCount?(a=this.DI(),this.element.append(a)):(this.pG=null,a=this.Nc("currentItem"),null!=a&&(b=this.Zd(a),null==b?this.Lv("currentItem",
null):null!=this.ba||this.Pi(g(b))||this.iC(g(b),null)),this.Ig().hasClass("oj-focus-ancestor")&&null==this.ba&&null==a&&this.yna(),this.DX());this.Si("ready",null,{})},DX:function(){var a,b;a=this.Nc("scrollTop");if(!isNaN(a)&&(b=this.Mp(),a!=b.scrollTop&&(b.scrollTop=a,b.scrollTop!=a))){this.m7=!0;return}this.m7=!1},p5a:function(){var a=this.Nc("currentItem");null!=a&&(a=this.Zd(a),null==a||this.Pi(g(a))||this.iC(g(a),null))},WG:function(){this.G$=this.pG=null},bz:function(c,b,d){null==d&&(d=this.Jx(b));
return a.ea.Fi(c,b,d,this.fa)},Aya:function(a,b,d){if(this.tO(g(b.target)))return!1;a=g(b.target).closest("."+this.ng());this.tca(a);0<a.length&&!this.Pi(g(a[0]))&&this.gt(g(a[0]),null);a=this.element;2===b.button?a=this.fh(g(b.target)):null!=this.ba&&(a=this.ba.elem);a={launcher:a,initialFocus:"menu"};"keyboard"===d&&(a.position={my:"start top",at:"start bottom",of:this.ba.elem});this.fa.$i(b,d,a)},tca:function(){null!=this.Gf&&this.Gf.Qya(this.fa.Wn())},Zba:function(a){return null!=a.prop("nodeName").match(/^INPUT|SELECT|OPTION|BUTTON|^A\b|TEXTAREA/)},
tO:function(a){for(;null!=a&&a[0]!=this.element[0]&&"LI"!=a.prop("nodeName");){if(3!=a[0].nodeType){var b=a.attr("tabIndex"),d=a.attr("data-oj-tabindex");if(null!=b&&0<=b&&!a.hasClass(this.Ko())&&!a.hasClass("oj-listview-cell-element")||this.Zba(a)&&(-1!=b||-1!=d))return!0}a=a.parent()}return!1},dJ:function(a,b){var d,e;d=g(a);d.hasClass(this.Df())||(d=g(d.get(0).firstElementChild));d.children().first().hasClass("oj-listview-cell-element")&&(d=g(d.get(0).firstElementChild));d.find("a, input, select, textarea, button, object, .oj-component-initnode, [tabIndex]").each(function(){g(this).removeAttr("data-first").removeAttr("data-last");
e=parseInt(g(this).attr("tabIndex"),10);!(isNaN(e)||0<=e)||void 0!==b&&this==document.activeElement||g(this).attr("tabIndex",-1).attr("data-tabmod",isNaN(e)?-1:e)})},WKa:function(a){var b,d;b=this.Yt();a=b.index(a);for(d=0;d<=a;d++)this.dJ(b[d],!0)},VKa:function(a){var b;b=this.Yt();a=b.index(a);if(-1!=a)for(;a<=b.length-1;a++)this.dJ(b[a],!0)},ELa:function(a){var b;a=g(a).find("[data-tabmod]").each(function(){b=parseInt(g(this).attr("data-tabmod"),10);g(this).removeAttr("data-tabmod");-1==b?g(this).removeAttr("tabIndex"):
g(this).attr("tabIndex",b)});a=a.filter(":visible");a.first().attr("data-first","true");a.last().attr("data-last","true")},HIa:function(a){g(a).find("[data-tabmod]").removeAttr("tabIndex").removeAttr("data-tabmod").removeAttr("data-first").removeAttr("data-last")},Pi:function(a){return a.hasClass("oj-skipfocus")},L4:function(a){return void 0===a.relatedTarget||null!=a.relatedTarget&&g.contains(this.fa.element.get(0),a.relatedTarget)?!0:!1},bt:function(a){var b;this.Ig().addClass("oj-focus-ancestor");
null==this.ba?(b=this.fh(g(a.target)),this.hy||this.L4(a)||null!=b&&!this.Pi(b)||this.yna(a)):(this.hy||a.target!==this.fa.element[0]||this.L4(a)||(this.wC(),this.rJ(this.ba.elem)),this.qH(),this.X6(this.ba.elem))},yna:function(a){var b,d,e;b=this.Yt();for(d=0;d<b.length;d++)if(e=g(b[d]),!this.Pi(e)){this.gt(e,a);break}},$Aa:function(a){this.$s(a)},RYa:function(){var c=a.Va.Ho();return c.browser==a.Va.Ak.dO&&48>parseInt(c.browserVersion,10)?!1:!0},nSa:function(c){var b=a.Va.Ho();return null==c.relatedTarget&&
b.browser==a.Va.Ak.iH&&c.target==this.fa.element.get(0)?!0:!1},$s:function(a){this.RYa()&&!this.nSa(a)&&(this.L4(a)||this.hy||(this.Ig().removeClass("oj-focus-ancestor"),this.wH(),null!=this.ba&&(this.u6(this.ba.elem),this.Dqa(this.ba.elem)),this.NO()),this.NS(a.target)&&this.bj(g(a.target)))},lS:function(a){a=this.cp(a.target);null!=a&&(this.I$=null,this.Cu(a,"oj-hover"))},c4:function(a){this.Ypa()||(a=this.cp(a.target),null==a||this.Pi(a)||(this.I$=a,this.BS(a,"oj-hover")))},Ypa:function(){return 500>
Date.now()-this.$Sa},fH:function(a){var b,d;if(this.gG()&&(b=a.keyCode,b===this.Se||b===this.Jf))if(d=this.ba.elem,b===this.Se){if(this.Mi(d)==this.gp){this.zv(d,a,!0,this.ba.key,!0,!0);return}}else if(this.Mi(d)==this.fp){this.My(d,a,!0,this.ba.key,!0,!0,!0);return}b=this.Vba(a);null!=this.Gf&&(b=b||this.Gf.fH(a));!0===b&&a.preventDefault();this.aya=b},aBa:function(a){a.keyCode==this.cO&&this.aya&&a.stopPropagation();this.aya=void 0},Kma:function(a){this.QB&&this.Cu(this.QB,"oj-focus");null!=this.Gf&&
this.Gf.wta(g(a.target))},pO:function(a){var b,d;d=g(a.target);null!=this.Gf&&this.Gf.Mra(d);b=this.fh(d,!0);null!=b&&this.Qna(b)&&(this.hy=!0,b=null);null==b||0==b.length||this.Pi(b)||d.hasClass("oj-listview-drag-handle")||(this.hy=!0,this.Ig().hasClass("oj-focus-ancestor")||this.Ig().addClass("oj-focus-ancestor"),this.QB=b,this.BS(b,"oj-focus"),this.e5(b),b.get(0).contains(document.activeElement)||this.rJ(b),this.qH(),null!=this.ba&&this.u6(this.ba.elem),a.originalEvent.touches&&0<a.originalEvent.touches.length&&
(this.UW={x:a.originalEvent.changedTouches[0].pageX,y:a.originalEvent.changedTouches[0].pageY}))},gH:function(a){var b,d;null!=this.QB&&(this.Cu(this.QB,"oj-focus"),null!=this.UW&&(b=this.QB.offset(),d=this.Jx("pointerUp"),d.offsetX=this.UW.x-b.left+"px",d.offsetY=this.UW.y-b.top+"px",b=this.QB.children("."+this.mg()),b=0<b.length?b.get(0):this.Cf(this.QB).get(0),this.bz(b,"pointerUp",d),this.UW=null));this.$Sa=Date.now();this.lS(a)},kJ:function(){var a;a=this.ba.elem;this.dJ(a);this.ELa(a);0<a.find("[data-first]").length&&
this.zra(!0)},rw:function(){this.zra(!1);this.dJ(this.ba.elem)},vY:function(a){var b,d,e,f;0===a.button&&(b=this.lq(),d=this.Nx(),e=this.mg(),f=g(a.target),f.hasClass(d)?(this.ii(a),a.preventDefault()):f.hasClass(b)?(this.qe(a),a.preventDefault()):(b=this.fh(f),null==b||0==b.length||this.Pi(b)||(this.Pna()&&null!=this.ba&&this.ba.elem.get(0)!=b.get(0)&&this.rw(),this.Ig().hasClass("oj-focus-ancestor")||this.Ig().addClass("oj-focus-ancestor"),this.Zc()&&this.Cm(b[0])?(this.Bo()?this.VQa(b,a):this.ZAa(b,
a),this.JC()&&a.target==b.get(0)&&this.rJ(b),this.lU()&&this.Gf.K5a()):this.Tba(b,a),this.sSa(f.get(0))?this.kJ():this.gG()&&f.closest("."+e)&&(this.Mi(b)==this.fp?this.qe(a):this.Mi(b)==this.gp&&this.ii(a)))))},lU:function(){return null!=this.Gf&&!this.Gf.uX()},Bo:function(){return a.T.ke()},ASa:function(){return this.Bo()&&a.Va.Ho().os!=a.Va.Fm.Yca},o1:function(c){return a.T.Bs(c)},Mt:function(a){return[this.element.attr("id"),a].join(":")},cp:function(a){return g(a).closest("."+this.ng())},Qna:function(a){return a.hasClass("oj-clickthrough-disabled")},
fh:function(a,b){for(var d=a;0<d.length;){if(this.Qna(d)){if(b)return d;break}if(d.hasClass(this.ng()))return d;d=d.parent()}return null},bla:function(){null==this.Exa&&(this.Exa=parseInt(this.Ig().css("border-top-width"),10)+parseInt(this.Ig().css("border-bottom-width"),10));return this.Exa},scrollToItem:function(a){a=a.key;null!=a&&(a=this.Zd(a),null!=a&&(g(a).hasClass(this.Df())?this.$T(a):(a=g(a).children("."+this.mg()).first(),this.D6(a.get(0)))))},$T:function(a){var b,d,e,f,h,k,l=0;b=a.offsetTop;
d=a.offsetHeight;a=this.Ig()[0];e=a.scrollTop;f=a.offsetHeight;null!=this.Di&&(h=parseInt(this.Di.style.top,10),k=g(this.Di).outerHeight(),b<=h&&h<b+d?l=(d+b-h)/2:b>=h&&b<h+k&&(l=(h+k-b)/2));b>=e&&b+d<=e+f?0<l&&(a.scrollTop=e-l):(b=Math.max(0,Math.min(b-l,Math.abs(b+d-f))),b>e&&(b+=this.bla()),a.scrollTop=b)},mf:function(a){return this.te.mf(a)},Zd:function(a){var b;return null!=this.MB&&(b=this.MB.get(a),null!=b)?document.getElementById(b):this.te.Zd(a)},nO:function(c,b){var d;for(d=0;d<c.length;d++)if(b==
c[d]||a.f.Eb(b,c[d]))return d;return-1},NS:function(a){return g(a).hasClass(this.Nx())||g(a).hasClass(this.lq())},xC:function(a){return this.Sh()?a==this.Lk||a==this.Dk||a==this.Se||a==this.Jf:a==this.Lk||a==this.Dk},Yt:function(){var a,b,d;null==this.pG&&(a=this.uB(),b="."+this.ng()+":visible",this.pG=this.element.find(b).filter(function(){return(d=g(this).parent().hasClass(a))?!g(this).parent().parent().hasClass("oj-collapsed"):!0}));return this.pG},kQa:function(a){var b=a.get(0).nextElementSibling;
null!=b&&g(b).hasClass(this.ng())||this.te.Bm()&&a.parent().hasClass(this.Rg())&&null!=a.parent().parent().get(0).nextElementSibling||(a=this.Mp(),a.scrollTop<a.scrollHeight&&(a.scrollTop=a.scrollHeight))},Sy:function(a,b,d){var e,f;if(!this.te.Ev())return!0;e=!b||this.ey?this.ba.elem:this.ce;f=!1;switch(a){case this.Lk:this.Sh()&&g(e).hasClass(this.Df())?this.POa(e,b,d):this.I3(e,b,d);f=!0;break;case this.Dk:this.Sh()&&g(e).hasClass(this.Df())?this.QOa(e,b,d):this.H3(e,b,d);f=!0;break;case this.Se:case this.Jf:this.Sh()&&
("rtl"==this.fa.Uc()&&(a=a==this.Se?this.Jf:this.Se),a==this.Se?this.I3(e,b,d):this.H3(e,b,d),f=!0)}return f},H3:function(a,b,d){var e,f;e=this.Yt();a=e.index(a);a++;if(a<e.length){for(f=g(e[a]);this.Pi(f);){a++;if(a==e.length)return;f=g(e[a])}b?(this.OD(f,d),this.ey=!1):(this.gt(f,d),this.ey=!0);this.kQa(f)}},I3:function(a,b,d){var e,f;e=this.Yt();a=e.index(a);a--;if(0<=a){for(f=g(e[a]);this.Pi(f);){a--;if(0>a)return;f=g(e[a])}b?(this.OD(f,d),this.ey=!1):(this.gt(f,d),this.ey=!0)}},jka:function(a){var b,
d,e;a.each(function(a){d=this.offsetTop;if(void 0===e)e=d;else if(e!=d)return!1;b=a});return b+1},Fta:function(a,b){var d,e;d=this.Mt("extra_info");null==this.hya&&(e=g(document.createElement("div")),e.addClass("oj-helper-hidden-accessible").attr("id",d),this.Ig().append(e),this.hya=e);this.hya.text(this.fa.R("accessibleNavigateSkipItems",{numSkip:b}));e=this.Cf(a);e.uniqueId().attr("aria-labelledby",d+" "+e.prop("id"))},Dqa:function(a){a=this.Cf(a);0<a.length&&a.get(0).removeAttribute("aria-labelledby")},
POa:function(a,b,d){var e,f,h,k,l,m;a.hasClass(this.Df())?(e=a.parent(),f=e.children("li."+this.Df()),h=this.jka(f),a=f.index(a),k=a-h,0>k?e.hasClass(this.Rg())&&(l=e.parent(),m=a):(l=g(f.get(k)),m=h-1),0<l.length&&!this.Pi(l)&&(b?(this.OD(l,d),this.ey=!1):(void 0!=m&&0<m&&this.Fta(l,m),this.gt(l,d),this.ey=!0))):this.I3(a)},QOa:function(a,b,d){var e,f,h,k,l,m;a.hasClass(this.Df())?(e=a.parent(),f=e.children("li."+this.Df()),h=this.jka(f),a=f.index(a),k=a+h,k>=f.length?(k=Math.ceil(f.length/h),m=
f.length-1-a,a<Math.max(0,(k-1)*h)?(l=f.last(),m--):e.hasClass(this.Rg())&&(l=e.parent().next("li."+this.ng()))):(l=g(f.get(k)),m=h-1),0<l.length&&!this.Pi(l)&&(b?(this.OD(l,d),this.ey=!1):(void 0!=m&&0<m&&this.Fta(l,m),this.gt(l,d),this.ey=!0))):this.H3(a)},Pna:function(){return"actionable"==this.$xa},zra:function(a){this.$xa=a?"actionable":"navigation";a||this.element[0].focus()},H6a:function(){return this.Ny},Cf:function(a){var b;return a.hasClass(this.Ko())?this.JC()&&"row"==a.attr("role")?(b=
a.children(".oj-listview-cell-element").first(),0==b.length?a.children().first():b):a:g(a.find("."+this.Ko()).first())},NO:function(){this.element.attr("tabIndex",0)},qH:function(){this.element.removeAttr("tabIndex")},X6:function(a){this.Cf(a).attr("tabIndex",0)},u6:function(a){var b;b=!0;"presentation"===a.attr("role")&&(b=!1);a=this.Cf(a);b?a.removeAttr("tabIndex"):a.attr("tabIndex",-1)},e5:function(a){this.Ny===this.Ny?this.X6(a):this.mCa(a)},UF:function(a){var b;b=a.children("a, input, select, textarea, button");
return 1===b.length&&0===b.first().find("a, input, select, textarea, button").length?b.first():a},Ira:function(a,b,d){d={item:this.fa.Y()?d:g(d)};this.Lv("currentItem",a,{_context:{originalEvent:b,mb:!0,jq:d},changed:!0})},pd:function(a,b,d){var e,f,g;if(null!=a){e=a[0];f=this.mf(e);if(null==this.ba||f!=this.ba.key){e={key:f,item:a};null!=this.ba&&(e.previousKey=this.ba.key,e.previousItem=this.ba.elem,this.lU()&&this.Bo()&&this.Gf.wta(e.previousItem),this.Dqa(e.previousItem));if(g=!this.Si("beforeCurrentItem",
b,e))return!1;this.ba=f={key:f,elem:a};this.lU()&&this.Bo()&&this.Gf.Mra(a);void 0!==d&&d||(this.e5(a),this.wC(),(null==b||b.originalEvent&&"click"!=b.originalEvent.type)&&this.rJ(a),this.qH(),e.previousItem&&this.u6(e.previousItem));return!0}f==this.ba.key&&(this.ba=f={key:f,elem:a},void 0!==d&&d||(this.e5(a),this.qH()))}else this.ba=null;return!1},rJ:function(a){this.Ny==this.Ny&&this.Cf(a).focus()},wC:function(){var a;null!=this.ba&&this.Ig().hasClass("oj-focus-ancestor")&&(a=this.ba.elem,this.BS(a,
"oj-focus"))},wH:function(){null!=this.ba&&this.Cu(this.ba.elem,"oj-focus")},Tba:function(a,b){var d=null!=this.ba?this.ba.elem.get(0):null;null==d||g(d).hasClass(this.Df())||(d=d.firstElementChild);null!=b&&null!=d&&d!=b.target&&d.contains(b.target)||this.gt(a,b,this.JC()?b.target!=a.get(0):!0)},gt:function(a,b,d){this.iC(a,b,d)&&this.Ira(this.mf(a[0]),b,a.get(0))},iC:function(a,b,d){var e=!1;this.$T(a[0]);this.wH();e=this.pd(a,b,d);this.wC();return e},Vua:function(){var a;this.Zc()&&this.rK()&&
(a=this.Nc("selection"),null!=a&&0!=a.length||this.tra())},jNa:function(){var a=this.element[0].querySelector(".oj-listview-cell-element[aria-selected]");return null==a?null:a.parentNode},tra:function(){var a,b;if(a=this.jNa())b=this.te.mf(a),this.Dz(a,b),this.Vr([b],null,[a])},Zc:function(){return"none"!=this.Nc("selectionMode")},rK:function(){return this.Nc("selectionRequired")},Nr:function(){return"multiple"==this.Nc("selectionMode")},Cm:function(a){a=this.Cf(g(a)).get(0);return a.hasAttribute("aria-selected")},
ZLa:function(a){var b,d,e;b=[];for(d=0;d<a.length;d++)if(e=this.Zd(a[d]),null==e||null!=e&&this.Cm(e))if(b.push(a[d]),!this.Nr())break;return b},Vr:function(a,b,d){d={items:this.fa.Y()?d:null==d?g({}):g(d)};this.Lv("selection",a,{_context:{originalEvent:b,mb:!0,jq:d},changed:!0})},vZa:function(){var a,b;null!=this.MB&&(a=this,g.each(this.Nc("selection"),function(d,e){b=a.Zd(e);null!=b&&a.Cu(b,"oj-selected")}))},BS:function(a,b){this.hH(a,b,!0)},Cu:function(a,b){this.hH(a,b,!1)},hH:function(a,b,d){var e;
a=g(a);"oj-selected"==b&&this.Cf(a).attr("aria-selected",d?"true":"false");e=a.children("."+this.mg());0<e.length&&(a=g(e[0]));"oj-focus"===b?d?"actionable"!=this.$xa&&this.Oj(a):this.bj(a):d?a.addClass(b):a.removeClass(b)},ZAa:function(a,b){var d,e;this.$T(a[0]);d=this.o1(b);e=b.shiftKey;this.Nr()?d||e?!d&&e?this.OD(a,b):this.e0(a,b):this.rH(a,b):this.rH(a,b)},VQa:function(a,b){this.Nr()?b.shiftKey?this.OD(a,b):this.e0(a,b):this.rH(a,b)},Qk:function(a){this.vZa();a&&(this.rK()?this.tra():this.Vr([],
null,null));this.ce=null},rH:function(a,b){this.Qk(!1);this.e0(a,b,[])},OD:function(a,b){var d;null!=this.ba&&(d=this.ce,d!=a&&(this.Cu(a,"oj-focus"),this.uja(this.ba.elem,a,b)))},uja:function(a,b,d){this.Qk(!1);this.ce=b;this.lRa(a,b,d);this.wC();this.$T(b[0])},lRa:function(a,b,d){var e,f,g,k,l;e=[];f=[];g=this.Yt();a=g.index(a);k=g.index(b);a>k?b=k:(b=a,a=k);for(;b<=a;b++)k=g[b],this.Cm(k)&&(l=this.te.mf(k),this.Dz(k,l),e.push(l),f.push(k));this.Vr(e,d,f)},Dz:function(c,b){null==this.MB&&(this.MB=
new a.vO);this.MB.set(b,g(c).attr("id"));this.BS(c,"oj-selected")},e0:function(a,b,d){var e,f;f=!1;e=this.mf(a[0]);void 0==d&&(d=this.Nc("selection").slice(0));f=null!=this.ba?this.ba.elem.get(0):null;null==f||g(f).hasClass(this.Df())||(f=f.firstElementChild);null==b||null!=f&&f!=b.target&&f.contains(b.target)||(this.wH(),(f=this.pd(a,b))&&this.Ira(e,b,a.get(0)),this.wC());f=null!=this.ba?this.ba.elem.get(0):null;if(null==f||f!=a.get(0))null!=d&&0==d.length&&this.Vr(d,b,[]);else{f=this.nO(d,e);-1<
f?(this.Cu(a,"oj-selected"),d.splice(f,1)):(this.ce=a,this.Dz(a,e),d.push(e));a=Array(d.length);for(e=0;e<d.length;e++)a[e]=this.Zd(d[e]);this.Vr(d,b,a)}},QO:function(a,b,d){var e,f,g,k;e=this.Nc("selection").slice(0);f=this.ba.elem;g=this.ba.key;k=this.nO(e,g);if(-1<k){if(d||1==e.length&&this.rK())return;this.Cu(f,"oj-selected");e.splice(k,1);0==e.length&&(this.ce=null)}else this.Cm(f[0])&&(b||(this.Qk(!1),e.length=0),this.ce=f,this.Dz(f,g),e.push(g));b=Array(e.length);for(d=0;d<e.length;d++)b[d]=
this.Zd(e[d]);this.Vr(e,a,b)},sSa:function(a){return null!=a.nodeName.match(/^INPUT|SELECT|OPTION|TEXTAREA/)&&!a.readOnly},Vba:function(a){var b,d,e,f=!1;if(null==this.ba)return!1;b=a.keyCode;d=this.ba.elem;this.Pna()?b==this.cO?(this.rw(),this.wC(),this.rJ(d),this.X6(d),f=!0):b===this.OO&&(b=d.find("[data-first]"),d=d.find("[data-last]"),a.shiftKey?0<b.length&&0<d.length&&b!=d&&a.target==b[0]&&(d[0].focus(),f=!0):0<b.length&&0<d.length&&b!=d&&a.target==d[0]&&(b[0].focus(),f=!0)):b==this.eY?(this.kJ(),
b=d.find("[data-first]"),0<b.length&&(b[0].focus(),this.NS(b)&&this.Oj(b),d.hasClass(this.Df())||(d=d.children("."+this.mg()).first()),d.removeClass("oj-focus-highlight"))):b==this.PY&&this.Zc()?(d=this.o1(a),(e=a.shiftKey)&&!d&&null!=this.ce&&this.Nr()?this.uja(this.ce,this.ba.elem,a):this.QO(a,d&&!e&&this.Nr(),!1),f=!0):b==this.bY&&this.Zc()?this.QO(a,!1,!0):this.xC(b)?(d=this.o1(a),e=a.shiftKey,d||(f=this.Sy(b,e&&this.Zc()&&this.Nr(),a))):b===this.OO&&(a.shiftKey?this.WKa(d):this.VKa(d));return f},
Wna:function(a){return a&&this.cy?-1<this.cy.indexOf(a):!1},eU:function(a,b){var d;if(null!=a)if(null==this.cy&&(this.cy=[]),b)this.cy.push(a);else for(d=this.cy.indexOf(a);-1<d;)this.cy.splice(d,1),d=this.cy.indexOf(a)},Jx:function(c){var b;null==this.gq&&(this.gq=a.gc.Yc(this.v9()));b=this.gq.animation;return null==b?null:b[c]},gG:function(){return"none"!=this.Nc("drillMode")},pE:function(){var a=this.Nc("expanded");if("auto"===a){if(!this.gG())return!0}else if("all"===a)return!0;return!1},R8:function(a,
b,d,e,f){var h=this.Zd(a);null!=h&&this.My(g(h),null,f,a,b,e,d)},qe:function(a){var b=this.cp(a.target);null!=b&&0<b.length&&this.My(b,a,!0,null,!0,!0,!0)},My:function(a,b,d,e,f,g,k){var l;if(this.Mi(a)==this.fp&&(null==e&&(e=this.mf(a[0])),!d||!this.Wna(e))){l={item:a,key:e};if(k&&(k=!this.Si("beforeExpand",b,l))&&f)return;this.wc("Expand item: "+e);d&&this.eU(e,!0);this.te.rC(a,function(a){this.PLa(a,d,b,l,g)}.bind(this));this.pG=null;null!=b&&b.stopPropagation();null!=this.qr&&(a=this.qr.indexOf(e),
-1!=a&&this.qr.splice(a,1));this.sc()}},PLa:function(a,b,d,e,f){var h,k,l,m=this;this.wc("Handle results from successful expand");a.key=e.key;b=this.RX(g(a),b,d);a=a.parentNode;a=g(a);this.az(a,this.gp);h=this.lq();k=this.Nx();l=this.mg();a.children("."+l).find("."+h+", .oj-listview-expanding-icon").removeClass(h).removeClass("oj-listview-expanding-icon").addClass(k);f&&b.then(function(){m.Si("expand",d,e)});b.then(function(){m.sc()})},ega:function(a,b){var d;a.parentsUntil("ul.oj-component-initnode",
"ul."+this.Rg()).each(function(){d=parseInt(g(this).css("maxHeight"),10);0<d&&g(this).css("maxHeight",d+b+"px")})},RX:function(a,b){var d=0,e,f,h=this,k;e=new Promise(function(a){f=a});b?(this.wc("Animate expand of group item"),a.children().each(function(){d+=g(this).outerHeight(!0)}),this.Bo()&&this.ega(a,d),a.css("maxHeight",d+"px"),this.wc("Kick off expand animation"),k=a.get(0),k=this.bz(k,"expand"),k.then(function(){h.CPa(a,f)}),this.sc()):(this.Bo()?(a.children().each(function(){d+=g(this).outerHeight(!0)}),
a.css("maxHeight",d+"px"),this.ega(a,d)):a.css("maxHeight",""),this.SX(a),f(null));return e},CPa:function(a,b){this.Bo()||a.css("maxHeight","");this.SX(a);b(null);this.sc()},SX:function(a){a.removeClass(this.uB()).addClass(this.KF());this.eU(a[0].key,!1)},qua:function(a,b,d,e){var f=this.Zd(a);null!=f&&this.zv(g(f),null,e,a,b,d)},ii:function(a){var b=this.cp(a.target);null!=b&&0<b.length&&this.zv(b,a,!0,null,!0,!0)},zv:function(a,b,d,e,f,g){var k,l,m=this;this.Mi(a)==this.gp&&(null==e&&(e=this.mf(a[0])),
d&&this.Wna(e)||(k={item:a,key:e},l=!this.Si("beforeCollapse",b,k),l&&f||(this.wc("Collapse item: "+e),d&&this.eU(e,!0),l=this.PX(a,e,d,b),this.az(a,this.fp),d=this.lq(),f=this.Nx(),a.find("."+f).first().removeClass(f).addClass(d),this.pG=null,null!=b&&b.stopPropagation(),g&&l.then(function(){m.Si("collapse",b,k)}),void 0==this.qr&&(this.qr=[]),-1==this.qr.indexOf(e)&&this.qr.push(e),l.then(function(){m.sc()}))))},PX:function(a,b,d){var e=0,f,h,k,l=this;h=new Promise(function(a){k=a});f=a.children("ul").first();
f[0].key=b;d?(this.wc("Animate collapse"),f.children().each(function(){e+=g(this).outerHeight()}),f.css("maxHeight",e+"px"),a=this.Jx("collapse"),a.persist="all",this.wc("Kick off collapse animation"),b=f.get(0),a=this.bz(b,"collapse",a),a.then(function(){l.ePa(f,k)}),this.sc()):(f.css("maxHeight","0px"),this.QX(f),k(null));return h},ePa:function(a,b){this.QX(a);b(null);this.sc()},QX:function(a){a.removeClass(this.KF()).addClass(this.uB());null!=this.te&&this.te.nC(a);this.eU(a[0].key,!1)},cJa:function(){var a;
this.wc("Collapse all");a=this;this.Yt().each(function(){a.zv(g(this),null,!1,null,!1,!1)});this.sc()},getExpanded:function(){var a,b,d;a=[];b=this;this.Yt().each(function(){d=g(this);b.Mi(d)==b.gp&&a.push(b.mf(d[0]))});return a},JM:function(){return a.Components.wd(this.element)},Hba:function(){return this.ASa()?"oj-listview oj-listview-container-touch":"oj-listview oj-listview-container"},dH:function(){return"oj-listview-element"},Df:function(){return"oj-listview-item"},Ko:function(){return"oj-listview-focused-element"},
ng:function(){return"oj-listview-item-element"},mg:function(a){return a&&this.US()&&this.VS()?"oj-listview-group-item oj-sticky":"oj-listview-group-item"},Rg:function(){return"oj-listview-group"},KF:function(){return"oj-listview-collapsible-transition"},uB:function(){return this.KF()},lq:function(){return"oj-listview-collapse-icon"},Nx:function(){return"oj-listview-expand-icon"},N8a:function(){return"oj-listview-expanding-icon"},IF:function(){return"oj-listview-no-data-message"},Cva:function(){return"oj-listview-empty-text"},
j9:function(){return""},v9:function(){return"oj-listview-option-defaults"},VS:function(){return this.Bo()&&a.Va.Ho().os===a.Va.Fm.sO},KUa:function(a,b){var d=b.originalEvent.wheelDelta;isNaN(d)||void 0===this.te.Uwa||(0>d?this.te.Uwa()&&a.scrollTop+a.clientHeight+Math.abs(d)>=a.scrollHeight&&(a.scrollTop=a.scrollHeight,b.preventDefault()):0<a.scrollTop&&0>=a.scrollTop-d&&(a.scrollTop=0,b.preventDefault()))},VR:function(){var a=this.Mp();return a==document.body||a==document.documentElement?window:
a},oqa:function(){var a=this,b;b=g(this.VR());this.fa._off(b,"scroll mousewheel");this.fa._on(b,{scroll:function(b){a.m7||a.Lv("scrollTop",a.Mp().scrollTop,{_context:{originalEvent:b,mb:!0}});a.m7=!1;a.US()&&!a.VS()&&a.Nma()}});"loadMoreOnScroll"==this.options.scrollPolicy&&this.fa._on(b,{mousewheel:function(b){a.KUa(a.Mp(),b)}})},US:function(){return"static"!=this.Nc("groupHeaderPosition")},HJ:function(){var a;null==this.G$&&(a="."+this.mg()+":visible",this.G$=this.element.find(a).filter(function(){return!g(this).parent().hasClass("oj-collapsed")&&
0<g(this).next().children().length?!0:!1}));return this.G$},Q7:function(a){g(a).removeClass("oj-pinned");a.style.top="auto";a.style.width="auto"},sla:function(a){var b;b=this.HJ();a=b.index(a);return-1<a&&a<b.length-1?b[a+1]:null},xUa:function(a,b){var d,e,f;d=a.offsetWidth;e=a.offsetHeight;f=this.sla(a);null!=f&&f.offsetTop<=b+e+5&&(b-=e);g(a).addClass("oj-pinned");a.style.top=b+"px";a.style.width=d+"px"},Nma:function(){var a,b,d,e,f,g,k,l;a=this.Mp().scrollTop;if(null!=this.Di&&0==a)this.Q7(this.Di),
this.Di=null;else{d=this.HJ();e=0;null!=this.Di&&(e=this.Di.offsetHeight);for(f=0;f<d.length;f++)if(g=d[f],this.Di!=g&&(k=d[f].offsetTop,l=k+g.parentNode.offsetHeight,k<a&&l>a+e)){b=g;break}null!=b&&b!=this.Di?(null!=this.Di&&this.Q7(this.Di),this.xUa(b,a),this.Di=b):null!=this.Di&&(b=this.sla(this.Di),this.Di.style.top=null!=b&&b.offsetTop<=a+e?b.offsetTop-e+"px":a+"px")}},Mp:function(){var a;a=this.Nc("scrollPolicyOptions");return null!=a&&(a=a.scroller,null!=a)?a:this.Ig().get(0)},D6:function(a){var b,
d,e;b=this.Mp();d=b.scrollTop;null!=this.Di&&(this.Q7(this.Di),this.Di=null);e=a.offsetTop;this.US()&&this.VS()&&e<d&&(e=Math.max(0,e-a.parentNode.offsetHeight+a.offsetHeight));b.scrollTop=e;this.US()&&!this.VS()&&d==b.scrollTop&&this.Nma();this.zXa(a)},zXa:function(a){var b=this,d;g(a).next().children().each(function(){d=g(this);if(!b.Pi(d))return b.Lv("currentItem",this.key),!1})}});o_("_ojListView",a.z5,a);a.hb("oj.ojListView",g.oj.baseComponent,{widgetEventPrefix:"oj",options:{as:"",currentItem:null,
data:null,dnd:{drag:null,drop:null,reorder:{items:"disabled"}},drillMode:"collapsible",expanded:"auto",groupHeaderPosition:"sticky",item:{focusable:!0,renderer:null,selectable:!0},scrollPolicy:"auto",scrollPolicyOptions:{fetchSize:25,maxCount:500},scrollTop:0,selection:[],selectionMode:"none",selectionRequired:!1,animateStart:null,animateEnd:null,beforeCurrentItem:null,beforeExpand:null,beforeCollapse:null,collapse:null,copy:null,cut:null,expand:null,paste:null,ready:null,reorder:null},qc:function(){this._super();
this.qb()},qb:function(){var c={};c.element=this.element;c.Fc=this.Fc;c.fa=this;c=g.extend(this.options,c);this.wa=new a.z5;this.wa.mk(c)},Kf:function(){this._super();var a=this;this.wa.Nk=function(b){return a.Nk(b)};this.wa.Fl=function(b){return a.Fl(b)};this.wa.tF()},tp:function(){this._super();this.wa.Mza()},sp:function(){this._super();this.wa.eza()},_destroy:function(){this.wa.destroy();this._super()},Xi:function(a,b,d){this.wa.Aya(a,b,d)},_setOptions:function(a,b){var d=this.wa.qX(a,b);this._super(a,
b);d?this.wa.refresh():this.wa.Vua()},_setOption:function(a,b,d){var e=!0;"selectionMode"==a?e="none"==b||"single"==b||"multiple"==b:"drillMode"==a?e="collapsible"==b||"none"==b:"scrollPolicy"==a?e="auto"==b||"loadMoreOnScroll"==b:"groupHeaderPosition"==a&&(e="static"==b||"sticky"==b);if(e)"selection"==a?(d=this.wa.LV(b),d={_context:{jq:{items:this.Y()?d:g(d)}}}):"currentItem"==a&&(d=this.wa.LV([b])[0],d={_context:{jq:{items:this.Y()?d:g(d)}}}),this._super(a,b,d);else throw"Invalid value: "+b+" for key: "+
a;},$n:function(){this.wa.ty()},Ch:function(){this.wa.Bya()},cr:function(){this.wa.vG()},widget:function(){return this.wa.og()},refresh:function(){this._super();this.wa.refresh()},whenReady:function(){return this.wa.whenReady()},getNodeBySubId:function(a){return this.wa.getNodeBySubId(a)},getSubIdByNode:function(a){return this.wa.getSubIdByNode(a)},getContextByNode:function(a){return this.wa.getContextByNode(a)},getDataForVisibleItem:function(a){return this.wa.getDataForVisibleItem(a)},expand:function(a,
b){this.wa.R8(a,b,!0,!0)},collapse:function(a,b){this.wa.qua(a,b,!0)},getExpanded:function(){return this.wa.getExpanded()},getIndexerModel:function(){null==this.ixa&&a.zl&&(this.ixa=new a.zl(this.wa));return this.ixa},scrollToItem:function(a){this.wa.scrollToItem(a)},Dl:function(c,b,d){switch(c){case "currentItem":case "selection":return a.f.Eb(b,d);default:return this._super(c,b,d)}}});a.J.Ua("oj-list-view","baseComponent",{properties:{as:{type:"string"},currentItem:{type:"any",writeback:!0},data:{},
dnd:{type:"object",properties:{drag:{type:"object",properties:{items:{type:"object",properties:{dataTypes:{type:"Array\x3cstring\x3e"},drag:{},dragEnd:{},dragStart:{}}}}},drop:{type:"object",properties:{items:{type:"object",properties:{dataTypes:{type:"Array\x3cstring\x3e"},dragEnter:{},dragLeave:{},dragOver:{},drop:{}}}}},reorder:{type:"object",properties:{items:{type:"string",enumValues:["disabled","enabled"]}}}}},drillMode:{type:"string",enumValues:["collapsible","none"]},groupHeaderPosition:{type:"string",
enumValues:["sticky","static"]},item:{type:"object",properties:{focusable:{},renderer:{},selectable:{}}},scrollPolicy:{type:"string"},scrollPolicyOptions:{type:"object",properties:{fetchSize:{type:"number"},maxCount:{type:"number"},scroller:{}}},selection:{type:"Array\x3cany\x3e",writeback:!0},selectionMode:{type:"string",enumValues:["none","single","multiple"]},selectionRequired:{type:"boolean"}},events:{animateEnd:{},animateStart:{},beforeCollapse:{},beforeCurrentItem:{},beforeExpand:{},collapse:{},
copy:{},cut:{},expand:{},paste:{},reorder:{}},methods:{getContextByNode:{},getDataForVisibleItem:{},getIndexerModel:{},scrollToItem:{}},extension:{Dj:"ul",Xa:"ojListView"}});a.J.register("oj-list-view",{metadata:a.J.getMetadata("oj-list-view")})});