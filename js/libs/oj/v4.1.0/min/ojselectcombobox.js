/**
 * Copyright (c) 2014, 2017, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
/*
 Copyright 2012 Igor Vaynberg

 This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
 General Public License version 2 (the "GPL License"). You may choose either license to govern your
 use of this software only upon the condition that you accept all of the terms of either the Apache
 License or the GPL License.

 You may obtain a copy of the Apache License and the GPL License at:

 http://www.apache.org/licenses/LICENSE-2.0
 http://www.gnu.org/licenses/gpl-2.0.html

 Unless required by applicable law or agreed to in writing, software distributed under the
 Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
 the specific language governing permissions and limitations under the Apache License and the GPL License.
 Copyright 2012 Igor Vaynberg

 This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
 General Public License version 2 (the "GPL License"). You may choose either license to govern your
 use of this software only upon the condition that you accept all of the terms of either the Apache
 License or the GPL License.

 You may obtain a copy of the Apache License and the GPL License at:

 http://www.apache.org/licenses/LICENSE-2.0
 http://www.gnu.org/licenses/gpl-2.0.html

 Unless required by applicable law or agreed to in writing, software distributed under the
 Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
 the specific language governing permissions and limitations under the Apache License and the GPL License.
 Copyright 2012 Igor Vaynberg

 This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
 General Public License version 2 (the "GPL License"). You may choose either license to govern your
 use of this software only upon the condition that you accept all of the terms of either the Apache
 License or the GPL License.

 You may obtain a copy of the Apache License and the GPL License at:

 http://www.apache.org/licenses/LICENSE-2.0
 http://www.gnu.org/licenses/gpl-2.0.html

 Unless required by applicable law or agreed to in writing, software distributed under the
 Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
 the specific language governing permissions and limitations under the Apache License and the GPL License.
 Copyright 2012 Igor Vaynberg

 This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
 General Public License version 2 (the "GPL License"). You may choose either license to govern your
 use of this software only upon the condition that you accept all of the terms of either the Apache
 License or the GPL License.

 You may obtain a copy of the Apache License and the GPL License at:

 http://www.apache.org/licenses/LICENSE-2.0
 http://www.gnu.org/licenses/gpl-2.0.html

 Unless required by applicable law or agreed to in writing, software distributed under the
 Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
 the specific language governing permissions and limitations under the Apache License and the GPL License.
 Copyright 2012 Igor Vaynberg

 This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
 General Public License version 2 (the "GPL License"). You may choose either license to govern your
 use of this software only upon the condition that you accept all of the terms of either the Apache
 License or the GPL License.

 You may obtain a copy of the Apache License and the GPL License at:

 http://www.apache.org/licenses/LICENSE-2.0
 http://www.gnu.org/licenses/gpl-2.0.html

 Unless required by applicable law or agreed to in writing, software distributed under the
 Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
 the specific language governing permissions and limitations under the Apache License and the GPL License.
 Copyright 2012 Igor Vaynberg

 This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
 General Public License version 2 (the "GPL License"). You may choose either license to govern your
 use of this software only upon the condition that you accept all of the terms of either the Apache
 License or the GPL License.

 You may obtain a copy of the Apache License and the GPL License at:

 http://www.apache.org/licenses/LICENSE-2.0
 http://www.gnu.org/licenses/gpl-2.0.html

 Unless required by applicable law or agreed to in writing, software distributed under the
 Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
 the specific language governing permissions and limitations under the Apache License and the GPL License.
 Copyright 2012 Igor Vaynberg

 This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
 General Public License version 2 (the "GPL License"). You may choose either license to govern your
 use of this software only upon the condition that you accept all of the terms of either the Apache
 License or the GPL License.

 You may obtain a copy of the Apache License and the GPL License at:

 http://www.apache.org/licenses/LICENSE-2.0
 http://www.gnu.org/licenses/gpl-2.0.html

 Unless required by applicable law or agreed to in writing, software distributed under the
 Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
 the specific language governing permissions and limitations under the Apache License and the GPL License.
*/
define(["ojs/ojcore","jquery","ojs/ojeditablevalue","ojs/ojoptgroup","ojs/ojoption","promise"],function(a,g){var c={uC:"oj-select-options-generated",Rb:{TAB:9,ENTER:13,cY:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,NY:16,CAa:17,tAa:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,TX:8,DELETE:46,mW:function(a){switch(a.which){case c.Rb.NY:case c.Rb.CAa:case c.Rb.tAa:return!0}return a.metaKey||a.ctrlKey?!0:!1},pW:function(a){a=a.which?a.which:a;return 112<=a&&123>=a}},rba:15,IAa:70,OC:{vba:"enter_pressed",
HBa:"option_selected",iba:"blur",QBa:"search_icon_clicked"},o$:{x:0,y:0},uG:function(){var a=1;return function(){return a++}}(),vza:null,Ru:function(a,b){for(var c=g.isFunction(a[0])?g(a[0]()):g(a[0]),d=-1,e=a.length;++d<e&&(c.context=c[0]=g.isFunction(a[0])?a[d]():a[d])&&!1!==b.call(c[0],d,c););return a},h4a:function(){var a=g("\x3cdiv class\x3d'oj-listbox-measure-scrollbar'\x3e\x3c/div\x3e");a.appendTo("body");var b={width:a.width()-a[0].clientWidth,height:a.height()-a[0].clientHeight};a.remove();
return b},tv:function(a,b){var c,d,e;if(null===a||1>a.length)return[];c=a.split(b);d=0;for(e=c.length;d<e;d+=1)c[d]=g.trim(c[d]);return c},owa:function(a){return a.outerWidth(!1)-a.width()},w3a:function(a){a.on("keydown",function(){void 0===g.data(a,"keyup-change-value")&&g.data(a,"keyup-change-value",a.val())});a.on("keyup",function(b){b.which===c.Rb.ENTER?b.preventDefault():(b=g.data(a,"keyup-change-value"),void 0!==b&&a.val()!==b&&(g.removeData(a,"keyup-change-value"),a.trigger("keyup-change")))})},
E9:function(a){var b,c=a.which||a.keyCode;a&&"keydown"==a.type&&(32==c||47<c&&58>c||64<c&&91>c||95<c&&112>c||185<c&&193>c||218<c&&223>c)&&(b=String.fromCharCode(a.which),a.shiftKey||(b=b.toLowerCase()),a.preventDefault());return b},v3a:function(a){a.on("mousemove",function(a){var b=c.o$;if(void 0===b||b.x!==a.pageX||b.y!==a.pageY)g(a.target).trigger("mousemove-filtered",a),c.o$.x=a.pageX,c.o$.y=a.pageY})},l6a:function(a){var b=!1,c;return function(){!1===b&&(c=a(),b=!0);return c}},gh:function(b,d){if(d[0]!==
document.activeElement){var e=c.Bg(b.La,"setting focus");a.LC.G9(40).mq().then(function(){var a=d[0],b=d.val().length;d.focus();d.is(":visible")&&a===document.activeElement&&(a.setSelectionRange?a.setSelectionRange(b,b):a.createTextRange&&(a=a.createTextRange(),a.collapse(!1),a.select()));e()})}},yva:function(a){a=g(a)[0];var b=0,c=0;"selectionStart"in a?(b=a.selectionStart,c=a.selectionEnd-b):"selection"in document&&(a.focus(),b=document.selection.createRange(),c=document.selection.createRange().text.length,
b.moveStart("character",-a.value.length),b=b.text.length-c);return{offset:b,length:c}},HB:function(a){a.preventDefault()},T3a:function(a){a.preventDefault();a.stopImmediatePropagation()},E8a:function(a){var b={"\\":"\x26#92;","\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"};return String(a).replace(/[&<>"'\\]/g,function(a){return b[a]})},W3a:function(a,b){function d(a){return""+a.label}var e=a,f,h;g.isArray(e)&&(h=e,e={results:h});!1===g.isFunction(e)&&(h=e,e=function(){return h});
var k=e();k&&k.text&&(d=k.text,g.isFunction(d)||(f=k.text,d=function(a){return a[f]}));return function(a){var f={results:[]};""!==a.vv||b?(e()&&c.Ru(g(e().results),function(e,g){c.Q5(a,g,f.results,b,!0,d)}),a.Hc(f)):a.Hc(e())}},kV:function(a,b,d,e){var f=g("\x3coption\x3e");f.addClass("oj-listbox-result oj-listbox-result-selectable oj-listbox-results-depth-"+a);f.attr("role","option");f.attr("id","oj-listbox-result-label-"+c.uG());f.text(e(d));f.attr("value",b);return f},L8:function(a,b,c){var d=
g("\x3coptgroup\x3e");d.addClass("oj-listbox-results-sub");d.attr("label",c(b));a.addClass("oj-listbox-result-with-children");return d},U3a:function(a,b,d){function e(a,b,f){var h,k,l,t;b.each(function(){k=g(this);k.is("li")&&(0<k.children("ul").length?(l=k.contents().filter(function(){return 1!==this.nodeType||"ul"!==this.tagName.toLowerCase()}).text(),h=c.L8(a,l,d),t=k.children("ul"),e(h,t.children(),f+1)):h=c.kV(f,k.attr("oj-data-value"),k.text(),d),h.appendTo(a))})}e(a,b,0)},s4a:function(a,b,
d){function e(a,b,f){var h,k,l;b.each(function(){k=g(this);k.is("oj-option")?(l=k.text()||k.attr("label"),h=c.kV(f,k.attr("value"),l,d)):k.is("oj-optgroup")&&(l=k.text()||k.attr("label"),h=c.L8(a,l,d),e(h,k.children(),f+1));h.appendTo(a)})}e(a,b,0)},r$:function(a,b,c){c=b[c]||c;return a[c]},Yta:function(a,b,d,e){function f(a,b,e,g){for(var h,k,l,t=0,s=b.length;t<s;t++)h=b[t],l=c.r$(h,g,"children"),k=c.r$(h,g,"label"),l&&0<l.length?(k=c.L8(a,k,d),f(k,l,e+1,g.childKeys||{})):(l=c.r$(h,g,"value"),k=
c.kV(e,l,k,d)),k.appendTo(a)}f(a,b,0,e||{})},pua:function(a){a.children().not("oj-option, oj-optgroup").remove();a.removeClass("oj-listbox-result-with-children")},Bg:function(b,c){var d={description:"The component identified by '"+b.attr("id")+"' "+c};return a.Context.getContext(b[0]).Rc().Vc(d)},Lz:function(a){a&&a()},As:function(b){return b&&a.Iy?a.Iy.rW(b)&&a.Iy.C3a(b):!1},wB:function(a){return a.label?a.label:String(a.value)},nPa:function(a,b){if("mutate"===b.type&&null!=b.detail.remove){for(var c=
b.detail.remove.data,d=!1,e=[].concat(a.options.value),f=0;f<c.length;f++){var g=e.indexOf(c[f].value);0<=g&&(e.splice(g,1),d=!0)}d&&a._setOption("value",e)}a._setOption("options",a.options.options)},VU:function(a){var b=a.options.options;if(c.As(b)&&(c.laa(a),null!=b)){var d=c.nPa.bind(null,a);a.jra=d;b.addEventListener("mutate",d);b.addEventListener("refresh",d)}},laa:function(a){var b=a.options.options,c=a.jra;null!=b&&c&&(b.removeEventListener("mutate",c),b.removeEventListener("refresh",c),a.jra=
void 0)},g_a:function(a){if(null==a.ZT){var b=g(document.createElement("div"));b.uniqueId().attr("role","presentation").addClass("oj-listbox-loading-icon-container");var c=g(document.createElement("div"));c.addClass("oj-icon oj-listbox-loading-icon");b.append(c);a.prepend(b);a.ZT=b}},Y4a:function(a){null!=a.ZT&&a.ZT.remove();a.ZT=void 0},Tta:function(a,b,c){if(!a.YT){b=g(document.createElement("div"));b.addClass("oj-listbox-filter-message-box");var d=g(document.createElement("div"));d.addClass("oj-listbox-filter-message-text oj-listbox-liveregion");
d.attr({role:"region","aria-live":"polite"});var e=g(document.createElement("div"));e.addClass("oj-listbox-filter-message-separator");b.append(d);b.append(e);a.prepend(b);d.text(c);a.YT=b}},gza:function(a){a.YT&&(a.YT.remove(),a.YT=void 0)},c1a:function(a,b,d,e,f){function g(a){if(a){var b=a.value.data;if(b)for(var t,s=0;s<b.length;s++)t=b[s],e&&e.Ks&&!e.Ks(e.vv,t.label,t)||h.push(t);f&&c.gza(f);if(f&&!a.done&&h.length>=k.size)c.Tta(f,d,d.R("filterFurther")),d.Tl=!0;else{if(!a.done&&h.length<k.size)return l.next().then(g);
d.Tl=!1}}return Promise.resolve(h)}var h=[],k={size:b},l=a.fetchFirst(k)[Symbol.asyncIterator]();return l.next().then(g)},dza:{},d1a:function(a,b,d,e){var f=a.fa,g=a.selection;f.jo||(f.jo=c.Bg(a.La,"fetching data"));f.y6&&f.y6(c.dza);var h=new Promise(function(a,b){f.y6=b});g&&"init"==b.bva&&(c.g_a(g),b.bva=null);a=c.c1a(b.options,e||b.fetchSize||c.rba,f,d,a.hd).then(function(a){g&&c.Y4a(g);f.z7a=!0;return a});Promise.race([h,a]).then(function(a){f.y6=null;d.Hc({results:a});f.jo&&(f.jo(),f.jo=null)},
function(a){a!==c.dza&&f.jo&&(d.Hc(),f.jo(),f.jo=null)})},ava:function(a,b,d){var e=c.Bg(a,"fetching selected data");return b.fetchFirst({size:d||c.rba})[Symbol.asyncIterator]().next().then(function(a){c.Lz(e);return a.value.data},function(){c.Lz(e);return null})},Zua:function(a,b,d){var e=c.Bg(a,"fetching selected data");b.fetchByKeys({keys:d.value}).then(function(a){var b=[];a.results.forEach(function(a){b.push(a.data)});d.Hc({results:b});c.Lz(e)},function(){d.Hc();c.Lz(e)})},Zaa:function(a,b,d){return new Promise(function(e){c.Zua(a,
b,{value:Array.isArray(d)?d:[d],Hc:function(a){var b=null;if(a&&a.results.length)for(var b=[],c=0;c<a.results.length;c++)b.push(a.results[c].value);e(b)}})})},S4a:function(a,b){return function(d){var e={component:this.fa};d.value?e.value=d.value:e.term=d.vv||"";a(e).then(function(a){var e={results:[]};a&&c.Ru(g(a),function(a,f){c.Q5(d,f,e.results,b,!1)});d.Hc(e)})}},Q5:function(a,b,d,e,f,h){var k,l;b=b[0];!b.label&&e&&e.label&&(b.label=b[e.label]);!b.value&&e&&e.value&&(b.value=b[e.value]);!b.children&&
e&&e.children&&(b.children=b[e.children],delete b[e.children]);if(b.children){k={};for(l in b)b.hasOwnProperty(l)&&(k[l]=b[l]);k.children=[];c.Ru(g(b.children),function(b,d){c.Q5(a,d,k.children,e&&e.childKeys?e.childKeys:null,f,h)});(!f||a.Ks(a.vv,h(k),b)||k.children.length)&&d.push(k)}else f&&!a.Ks(a.vv,h(b),b)||d.push(b)},X_a:function(a,b,c){if(g.isFunction(b))return!0;if(!b)return!1;throw Error(c+" must be a function or a false value");},Hx:function(b,c){function d(){}a.f.va(d,b,"");d.prototype=
g.extend(d.prototype,c);return d},cca:"last-query-result",Rva:function(a){return g.data(a.La,a.ib+"-"+c.cca)},x5a:function(a,b){g.data(a.La,a.ib+"-"+c.cca,b)}},b=c.Hx(Object,{We:function(a){var b=this;return function(){a.apply(b,arguments)}},ur:function(a){var b,c=this;a.each(function(){b=g(this);b.is("oj-option")?b.wrap("\x3cli\x3e\x3c/li\x3e"):b.is("oj-optgroup")&&(b.wrap("\x3cli\x3e\x3c/li\x3e"),c.ur(b.children()),b.children().wrapAll("\x3cul class\x3d'oj-listbox-result-sub'\x3e\x3c/ul\x3e"))})},
_init:function(a){var b,d,e=this.ib;b=this.Pc;this.fa=a.fa;this.pa=a=this.Up(a);this.id=a.id;this.Xwa=!1;this.sW=this.fa.Y()&&!a.options&&0<a.element.find("oj-option").length;void 0!==a.element.data(b)&&null!==a.element.data(b)&&a.element.data(b)._destroy();this.La=this.VI();var f=a.rootAttributes;this.Ju=f&&f.id?f.id:"ojChoiceId_"+(this.wb("id")||"autogen"+c.uG());this.Ju.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.La.attr("id",this.Ju);this.body=c.l6a(function(){return a.element.closest("body")});
this.La.attr("style",this.wb("style"));this.yV=this.wb("tabindex");this.pa.element.data(b,this).attr("tabindex","-1").before(this.La);this.La.data(b,this);this.hd=this.La.find(".oj-listbox-drop");this.hd.data("ojlistbox",this);this.XXa(a.pickerAttributes);this.hd.attr("data-oj-containerid",this.Ju);this.results=b=this.La.find(".oj-listbox-results");this.results.on("click",c.HB);if(f=this.fa.iz()){var h=f.attr("id");h?b.attr("aria-labelledby",h):b.attr("aria-label",f.text())}else(f=this.fa.element.attr("aria-label"))&&
b.attr("aria-label",f);a.list&&g("#"+a.list).is("ul")&&(b=g("#"+a.list),this.Rua=b.parent(),b.addClass("oj-listbox-results").attr("role","listbox"),this.results.replaceWith(b),this.results=b=this.La.find(".oj-listbox-results"),this.results.css("display",""));this.sW&&(b=a.element.children(),this.ur(b),this.results.append(a.element.children()),this.dl=this.results);this.search=d="oj-select"==e?this.La.find("input.oj-listbox-input"):this.La.find("input."+e+"-input");this.qaa=this.Xya=0;this.context=
null;this.FS();this.La.on("click",c.HB);c.v3a(this.results);this.hd.on("mousemove-filtered touchstart touchmove touchend",".oj-listbox-results",this.We(this.ina));g(this.La).on("change","."+e+"-input",function(a){a.stopPropagation()});g(this.hd).on("change","."+e+"-input",function(a){a.stopPropagation()});var k=this;c.w3a(d);d.on("keyup-change input paste",this.We(this.wx));d.on("focus",function(){d.addClass(e+"-focused");"oj-select"!==e&&k.La.addClass("oj-focus")});d.on("blur",function(){d.removeClass(e+
"-focused");"oj-select"!==e&&k.La.removeClass("oj-focus")});this.hd.on("mouseup",".oj-listbox-results",this.We(function(a){0<g(a.target).closest(".oj-listbox-result-selectable").length&&(this.ina(a),this.F6(null,a))}));this.hd.on("click mouseup mousedown",function(a){a.stopPropagation()});g.isFunction(this.pa.CB)&&(this.pa.bva="init",this.kn());b=a.element.prop("disabled");void 0===b&&(b=!1);this.Fp(!b);b=a.element.prop("readonly");void 0===b&&(b=!1);this.bL(b);c.vza=c.vza||c.h4a();this.autofocus=
a.element.prop("autofocus");a.element.prop("autofocus",!1);this.autofocus&&this.gh();c.VU(a.fa)},T0:function(a){var b=this.hd;!g(a.target).closest(b).length&&!g(a.target).closest("#"+b.attr("data-oj-containerid")).length&&0<b.length&&(b=b.data("ojlistbox"),b.close(a))},XA:function(){this.hd&&this.hd.remove()},_destroy:function(){var a=this.vD;isNaN(a)||(delete this.vD,window.clearTimeout(a));var a=this.pa.element,b=a.data(this.Pc);this.close();this.Vya&&(delete this.Vya,this.Vya=null);this.pa.list&&
this.results?(this.N0(this.results),this.Rua&&this.Rua.append(this.results)):this.sW&&this.results&&(this.xta(this.results),this.pa.element.append(this.results.children()));void 0!==b&&(b.La.after(a),b.La.remove(),b.hd.remove(),a.removeAttr("aria-hidden").removeData(this.Pc).off("."+this.ib).prop("autofocus",this.autofocus||!1),this.yV?a.attr({q9a:this.yV}):a.removeAttr("tabindex"),a.show())},xta:function(a){var b,c=this;a.children().each(function(){b=g(this);b.is("li")&&(b.hasClass("oj-listbox-result-with-children")||
0<b.children("oj-optgroup").length?(b.hasClass("oj-listbox-result-with-children")&&b.children(".oj-listbox-result-label").remove(),c.xta(b.find("oj-optgroup").children()),b.find("oj-optgroup").children().children().unwrap(),b.find("oj-optgroup").unwrap()):b.hasClass("oj-listbox-result")?b.find("oj-option").unwrap().unwrap():b.find("oj-option").unwrap())})},N0:function(a){if(a&&a.is("ul")){a.removeClass("oj-listbox-results oj-listbox-result-sub");a.removeAttr("role");for(var b=a.children().length-
1;0<=b;b--)this.N0(g(a.children()[b]))}else a.is("li")&&((a.hasClass("oj-listbox-placeholder")||a.hasClass("oj-listbox-no-results"))&&a.remove(),a.attr("class")&&a.attr("class",a.attr("class").replace(/\oj-listbox-\S+/g,"")),(b=a.children(".oj-listbox-result-label"))&&b.contents().unwrap(),"none"==a.css("display")&&a.css("display",""),this.N0(a.children("ul")))},dx:function(a){if(a.is("option")||a.is("oj-option"))return{value:a.prop("value")||a.attr("value"),label:a.text()||a.attr("label"),element:a.get(),
css:a.attr("class"),disabled:a.prop("disabled"),locked:"locked"===a.attr("locked")||!0===a.data("locked")};if(a.is("optgroup")||a.is("oj-optgroup"))return{label:a.prop("label")||a.attr("label"),disabled:a.prop("disabled"),children:[],element:a.get(),css:a.attr("class")};if(a.is("li")){var b,c,d,e=null,f=a.children();f&&0<f.length&&f.is("ul")?(b=a.attr("oj-data-label")?a.attr("oj-data-label"):a.clone().children().remove().end().text().trim(),c=a.attr("oj-data-value"),e=[]):f&&0<f.length&&f.is("oj-optgroup")?
(b=f.prop("label"),d=f.prop("disabled"),e=[]):(d=a.find("oj-option"),b=a.attr("oj-data-label")?a.attr("oj-data-label"):a.text().trim(),c=0<d.length?d.prop("value"):a.attr("oj-data-value"),d=0<d.length?d.prop("disabled"):void 0);return{value:c,label:b,disabled:d,element:a.get(),css:a.attr("class"),children:e}}},Up:function(a){var b,e=this;a.options&&Array.isArray(a.options)&&a.optionsKeys&&(a.options=g.extend(!0,[],a.options));b=a.element;var f=b.get(0).tagName.toLowerCase();a.fa.Y()?!a.options&&0<
a.element.children().length&&(this.dl=g(b)):"input"===f&&b.attr("list")?this.dl=g("#"+b.attr("list")):"select"===f&&0<b.children().length?this.dl=b:a.list&&(this.dl=g("#"+a.list));a=g.extend({},{C4a:function(b,d,h,k){var r,l=this.pa.id,m=this.pa.optionRenderer;"function"!==typeof m&&(m=null);this.pa.fa.Fl&&(m=this.pa.fa.Fl(m));r=function(b,d,k,s,u){function p(c,d){if(m){var f={index:O,depth:s,leaf:!d.children,parent:b,data:d,component:a.fa,componentElement:e.La[0],parentElement:c.get(0)},f=m.call(a.fa,
f);null!==f&&(null===f.parentNode||f.parentNode instanceof DocumentFragment)&&c.get(0).appendChild(f)}else T=a.jva(d),void 0!==T&&(c.text(T),c.attr("aria-label",T));w(c)}function w(b){if(a.bxa(h)){var c=b.find(".oj-listbox-highlighter-section");c.length||(c=b);x(c,h.vv)}}function x(a,b){function c(a,b){var d=0;if(3===a.nodeType){var e=a.data.toUpperCase().indexOf(b);if(0<=e){d=document.createElement("span");d.className="oj-listbox-highlighter";e=a.splitText(Math.min(e,a.data.length));e.splitText(Math.min(b.length,
e.data.length));var f=e.cloneNode(!0);d.appendChild(f);e.parentNode.replaceChild(d,e);d=1}}else if(1===a.nodeType&&a.childNodes&&!/(script|style)/i.test(a.tagName))for(e=0;e<a.childNodes.length;++e)e+=c(a.childNodes[e],b);return d}a.length&&b&&b.length&&a.each(function(){c(this,b.toUpperCase())})}function Q(a,b){if(b.children&&0<b.children.length){var c=b.element&&g(b.element[0]).is("li")&&g(b.element[0]).children("ul"),d=c?g(b.element[0]).children("ul"):g("\x3cul\x3e\x3c/ul\x3e");d.hasClass("oj-listbox-result-sub")||
d.addClass("oj-listbox-result-sub");r(b,b.children,d,s+1,!1);c||a.append(d)}}var O,I,N,S,L,T;N=e.au();u&&null!==N&&!h.vv&&0>=k.find(".oj-listbox-placeholder").length&&("select"!==f||!e.fa.Vi())&&(I={value:"",label:N},L=g("\x3cli\x3e\x3c/li\x3e"),L.addClass("oj-listbox-placeholder oj-listbox-results-depth-0 oj-listbox-result oj-listbox-result-selectable"),L.attr("role","presentation"),N=g(document.createElement("div")),N.addClass("oj-listbox-result-label"),N.attr("id","oj-listbox-result-label-"+c.uG()),
N.attr("role","option"),T=a.jva(I),void 0!==T&&N.text(T),N.attr("aria-label",T),L.append(N),L.data(e.Pc,I),k.prepend(L));O=0;for(u=d.length;O<u;O+=1){I=d[O];S=!0===I.disabled;N=!S&&void 0!==l(I);var V=I.element&&g(I.element[0]).is("li");L=V?g(I.element[0]):g("\x3cli\x3e\x3c/li\x3e");L.hasClass("oj-listbox-result")?(I.children&&0<I.children.length&&Q(L,I),w(g(I.element[0]).children("div")),g(I.element[0]).css("display","")):(L.addClass("oj-listbox-results-depth-"+s),L.addClass("oj-listbox-result"),
L.addClass(N?"oj-listbox-result-selectable":"oj-listbox-result-unselectable"),S&&L.addClass("oj-disabled"),I.children&&L.addClass("oj-listbox-result-with-children"),L.attr("role","presentation"),N=g(document.createElement("div")),N.addClass("oj-listbox-result-label"),N.attr("id","oj-listbox-result-label-"+c.uG()),N.attr("role","option"),S&&N.attr("aria-disabled","true"),V||(p(N,I),L.append(N)),I.children&&0<I.children.length&&Q(L,I),L.data(e.Pc,I),V?(I=g(I.element[0]),0<I.children("oj-optgroup").length?
(S=I.children("oj-optgroup").prop("label")+"",I.prepend(N.text(S))):0<I.children("oj-option").length?I.contents().wrapAll(N):I.contents().filter(function(){return"UL"!==this.tagName}).wrapAll(N),w(I.children("div")),I.css("display","")):k.append(L))}};r(null,d,b,0,k)},bxa:function(a){return!0!==a.jW}},d,a);a.id=function(a){return a.value};a.jva=function(a){a=c.wB(a);return isNaN(a)?a:this.fa.uw(a)};a.c9=function(a){var b=c.wB(a);return a&&b?isNaN(b)?b:this.fa.uw(b):void 0};"select"!==f&&null!==a.manageNewEntry&&
(a.manageNewEntry=function(a){var b={};b.value=b.label=g.trim(a);return b});if(this.dl)a.ZB=this.We(function(a){var b={results:[],d9a:!1},d=a.vv,f,g;g=function(b,f){var h,k,r=b.children()&&0<b.children().length&&(b.children().is("ul")||b.children().is("oj-optgroup"));if(b.is("option")||b.is("oj-option")||b.is("li")&&!r)a.Ks(d,b.text()||b.attr("label"),b)&&f.push(e.dx(b));else if(b.is("optgroup")||b.is("oj-optgroup")||b.is("li")&&r)h=e.dx(b),b.is("optgroup")||b.is("oj-optgroup")?k=b.children():b.children("oj-optgroup")?
k=b.children().children("ul").children():b.children("ul").children(),c.Ru(k,function(a,b){g(b,h.children)}),0<h.children.length&&f.push(h)};f=this.dl.children();void 0!==this.au()&&0<f.length&&""==f.first().attr("value")&&(f=f.slice(1));c.Ru(f,function(a,c){g(c,b.results)});a.Hc(b)});else if("options"in a){var h=a.options;a.ZB=c.As(h)?function(b){b.value?c.Zua(e.La,h,b):c.d1a(e,a,b)}:g.isFunction(h)?c.S4a(h,a.optionsKeys?a.optionsKeys:null):c.W3a(h,a.optionsKeys?a.optionsKeys:null)}return a},OJa:function(){var a=
this.pa.element.find(".oj-listbox-header");if(a.length){this.header=g("\x3cli\x3e",{"class":"oj-listbox-result-header oj-listbox-result-unselectable",role:"presentation"});this.header.append(a.children());this.TRa();a=g("\x3cul\x3e",{"class":"oj-listbox-results-with-header",role:"listbox"});a.append(this.header);a.appendTo(this.results.parent());var b=g("\x3cli\x3e",{role:"presentation"});a.append(b);this.results.attr("role","presentation");this.results.appendTo(b)}this.Xwa=!0},TRa:function(){this.En=
this.header.find("li[role\x3d'option'], li:not([role])");this.En.uniqueId();this.header.find("ul").attr("role","presentation");this.header.find("li:not([role])").attr("role","option");this.header.find("a, input, select, textarea, button, object, .oj-component-initnode").each(function(){g(this).attr("tabIndex",-1)})},coa:function(a){var b=!1;this.En.each(function(){if(g(this).attr("id")===a)return b=!0,!1});return b},MNa:function(a){if(!this.En)return null;if(!a)return this.En.first();var b=!1,c=null;
this.En.each(function(){if(b)return c=g(this),!1;b=g(this).attr("id")===a});return c},dOa:function(a){if(!this.En)return null;var b=null;this.En.each(function(){if(g(this).attr("id")===a)return!1;b=g(this)});return b},BXa:function(a){var b=a.find(".oj-component .oj-enabled").first();0===b.length&&(b=a.find("a, input, select, textarea, button, object, .oj-component-initnode").first(),0===b.length&&(b=a.children().first()));b&&b.addClass("oj-focus oj-focus-highlight oj-focus-only")},XVa:function(){this.En&&
this.En.find(".oj-focus").removeClass("oj-focus oj-focus-highlight oj-focus-only")},sta:function(a){a=g.Event(this.Pc+"-selecting",{val:this.id(a),object:a});this.pa.element.trigger(a);return!a.isDefaultPrevented()},Mr:function(){return!0===this.Sua},HD:function(){var a=this.ID&&!this.bL;if(a===this.Sua)return!1;this.La.toggleClass("oj-disabled",!a);this.close();this.Sua=a;return!0},Fp:function(a){void 0===a&&(a=!0);this.ID!==a&&(this.ID=a,this.pa.element.prop("disabled",!a),this.La.toggleClass("oj-enabled",
a),this.HD())},B1:function(){this.Fp(!1)},bL:function(a){void 0===a&&(a=!1);if(this.bL===a)return!1;this.bL=a;this.pa.element.prop("readonly",a);this.HD();return!0},Tf:function(){return this.La.hasClass("oj-listbox-dropdown-open")},aNa:function(){return this.La.children().first()},aM:function(b,d){if(a.Ma.c$(d)){var e=c.Bg(this.La,"closing popup");this.vD=window.setTimeout(function(){g.proxy(this.close,this);e()},1)}else{var f=this.La,h=d.element.element;h.css(b);"bottom"===d.vertical?(f.addClass("oj-listbox-drop-above"),
h.addClass("oj-listbox-drop-above")):(f.removeClass("oj-listbox-drop-above"),h.removeClass("oj-listbox-drop-above"))}},Bka:function(){var b={my:"start top",at:"start bottom",of:this.aNa(),collision:"flip",using:g.proxy(this.aM,this)},c="rtl"===a.T.lj();return a.Ma.Aq(b,c)},N5:function(){var a=this.hd,b=this.Bka();a.css("width",this.La.outerWidth());a.position(b)},zYa:function(a){return this.Tf()||!1===this.ID||!0===this.bL?!1:this.fa._trigger("beforeExpand",a,{component:this.pa.element})},Aha:function(){this.La.removeClass("oj-listbox-drop-above");
this.hd.removeClass("oj-listbox-drop-above")},open:function(a,b){if(!this.zYa(a))return!1;this.ou(a,b);return!0},ou:function(){this.Xwa||this.OJa();this.La.addClass("oj-listbox-dropdown-open")},nU:function(){if(this.Tf()&&"true"!==this.Hp().attr("aria-expanded")){this.Aha();var b=this.hd.parent();if("oj-select"===this.ib&&!0!==this.pa.multiple&&b&&b.hasClass("oj-listbox-drop-layer"))a.ca.Ya().FX(b,a.ca.tc.et);else{this.hd[0]!==this.body().children().last()[0]&&this.hd.detach().appendTo(this.body());
this.hd.appendTo(this.body());this.header&&(this.hd.find(".oj-listbox-results-with-header").prepend(this.header),this.header.show());b={};b[a.ca.tc.CC]=g.proxy(this.close,this);b[a.ca.tc.DC]=g.proxy(this.XA,this);b[a.ca.tc.BC]=g.proxy(this.T0,this);b[a.ca.tc.et]=g.proxy(this.N5,this);var c={};c[a.ca.Ha.Te]=this.hd;c[a.ca.Ha.AC]=this.pa.element;c[a.ca.Ha.Ys]=b;c[a.ca.Ha.ft]=this.Bka();c[a.ca.Ha.Gv]="oj-listbox-drop-layer";c[a.ca.Ha.VG]=this.fa.Y();a.ca.Ya().open(c);g("#oj-listbox-drop").removeAttr("id");
this.hd.attr("id","oj-listbox-drop");this.hd.attr("data-oj-containerid",this.Ju)}this.N5();this.Hp().attr("aria-expanded",!0)}},close:function(){if(this.Tf()){this.La.removeClass("oj-listbox-dropdown-open");var b=this.Hp().attr("aria-expanded");if(b&&"false"!==b){var b=this.Ju,c="scroll."+b,d="resize."+b,e="orientationchange."+b;this.La.parents().add(window).each(function(){g(this).off(c).off(d).off(e)});this.Aha();b={};b[a.ca.Ha.Te]=this.hd;a.ca.Ya().close(b);this.header&&(this.header.hide(),this.header.appendTo(this.La));
this.hd.removeAttr("data-oj-containerid");this.hd.removeAttr("id");this.pa.list||this.sW?this.mL():(this.hd.detach(),this.results.empty());this.Hp().attr("aria-expanded",!1);"ojcombobox"===this.Pc&&this.Hp().removeAttr("aria-activedescendant");g.removeData(this.La,this.ib+"-last-term")}}},XXa:function(b){a.ia.Aaa(this.hd,b)},Jt:function(){},HLa:function(){var a=this.results,b,c,d,e;c=this.lA();0>c||(0==c?a.scrollTop(0):(b=this.Tz(),d=g(b[c]),e=d.offset().top+d.outerHeight(!0),c===b.length-1&&(b=a.find("li.oj-listbox-more-results"),
0<b.length&&(e=b.offset().top+b.outerHeight(!0))),b=a.offset().top+a.outerHeight(!0),e>b&&a.scrollTop(a.scrollTop()+(e-b)),e=d.offset().top-a.offset().top,0>e&&"none"!=d.css("display")&&a.scrollTop(a.scrollTop()+e)))},Tz:function(){return this.results.find(".oj-listbox-result-selectable:not(.oj-disabled, .oj-selected)").filter(function(){return"none"!=g(this).css("display")})},Yoa:function(a){var b=this.Tz(),c=this.lA();if(this.header&&(0>=c||c===b.length-1)){var d=this.Hp().attr("aria-activedescendant"),
e=this.coa(d);e||(d=null);var f=null;0<a&&(0>c||c===b.length-1)?f=this.MNa(d):0>a&&(e&&0>c||0===c)&&(f=this.dOa(d));if(f){this.mL();this.BXa(f);this.Hp().attr("aria-activedescendant",f.attr("id"));return}e&&0>a&&(c=0)}for(;-1<=c&&c<b.length;)if(c+=a,c==b.length?c=0:-1==c&&(c=b.length-1),d=g(b[c]),d.hasClass("oj-listbox-result-selectable")&&!d.hasClass("oj-disabled")&&!d.hasClass("oj-selected")){this.lA(c);break}},lA:function(a){var b=this.Tz(),c=this.hd.find(".oj-listbox-search"),c=c&&!c.attr("aria-hidden");
if(0===arguments.length){var d=b.filter(".oj-hover");d.length||(d=b.children(".oj-hover").closest(".oj-listbox-result"));c&&this.ZL(d.text());return b.get().indexOf(d[0])}a>=b.length&&(a=b.length-1);0>a&&(a=0);this.mL();b=g(b[a]);b.hasClass("oj-listbox-result-with-children")?(d=b.children(".oj-listbox-result-label"),d.addClass("oj-hover"),c&&this.ZL(d.text())):(b.addClass("oj-hover"),c&&this.ZL(b.text()));this.Hp().attr("aria-activedescendant",b.find(".oj-listbox-result-label").attr("id"));this.HLa()},
mL:function(){this.results.find(".oj-hover").removeClass("oj-hover");this.XVa();"ojcombobox"===this.Pc&&this.Hp().removeAttr("aria-activedescendant")},ina:function(a){a=g(a.target).closest(".oj-listbox-result-selectable");if(0<a.length&&!a.is(".oj-hover")){var b=this.Tz();this.lA(b.index(a))}else 0==a.length&&this.mL()},ZL:function(a){if(!this.hd.find(".oj-listbox-filter-message-text").length){var b=this.La.find(".oj-listbox-liveregion");b.length&&b.text(a)}},wx:function(b){var d=this,e=this.search.val(),
f=g.data(this.La,this.ib+"-last-term");if(!0===b||!f||e!==f||!0===this.pa.multiple)if(f||e||!b||"input"!==b.type)g.data(this.La,this.ib+"-last-term",e),e.length>=(this.pa.minLength||0)?(this.W5&&this.W5.clear(),b&&!0!==b?(this.eVa=c.Bg(this.La,"query results"),this.W5=a.LC.G9(c.IAa),this.W5.mq().then(function(a){a&&d.Vpa(b)}).then(this.eVa)):this.Vpa(b)):this.close()},Vpa:function(a){function b(){g.N5();if(g.header&&g.En.length){var a=g.Tz(),c=g.En.length+a.length;g.En.attr("aria-setsize",c);a.length&&
(a=a.children("[role\x3d'option']"),a.attr("aria-setsize",c),a.first().attr("aria-posinset",g.En.length+1))}}var d=this.search,e=this.results,f=this.pa,g=this,h;h=d.val();var k;(f.minLength||0)>h.length?this.close():(this.open(null,!0),k=++this.Xya,this.mL(),h=this.search.val(),h=void 0!==h&&null!==h&&(!0!==a||f.Gd||0<f.minLength)?h:"",this.qaa=1,f.ZB({element:f.element,vv:h,page:this.qaa,context:null,Ks:f.Ks,Hc:this.We(function(h){if(k===this.Xya&&this.Tf())if(f.fa.Tl||c.gza(g.hd),this.context=h&&
void 0!==h.context?h.context:null,(!h||h.results&&0===h.results.length||this.Vna(h))&&c.X_a(g.fa,f.iva,"formatNoMatches")){h=f.iva(g.fa,d.val());if("oj-select"===this.ib||this.header){if(this.nU(),this.Jpa(e),b(),c.Tta(g.hd,g.fa,h),!this.qS()){var l=g.hd.find(".oj-listbox-filter-message-separator");l.length&&l.css("display","none")}}else this.close();this.ZL(h)}else c.x5a(this,h.results),this.nU(),this.Jpa(e),g.pa.C4a.call(this,e,h.results,{vv:d.val(),page:this.qaa,context:null,jW:a},this.xsa()),
this.WK(h,a),b(),this.ZL(f.l1a(g.fa,this.Tz().length))})}))},Jpa:function(a){this.pa.list||this.sW?(a=a.children(),a.find(".oj-listbox-highlighter"),this.dna(a)):a.empty()},bUa:function(a){var b;0<a.children("div").children("oj-option").length?(b=a.children("div").children("oj-option").children(".oj-listbox-highlighter"),a=a.children("div").children("oj-option")[0]):(b=a.children("div").children(".oj-listbox-highlighter"),a=a.children("div")[0]);if(0<b.length){for(var c=0;c<b.length;c++)g(b[c].childNodes).unwrap();
a.normalize()}},dna:function(a){for(var b=0;b<a.length;b++){var c=g(a[b]);c.is("LI")&&((c.hasClass("oj-listbox-no-results")||c.hasClass("oj-listbox-placeholder"))&&c.remove(),c.css("display","none"),c.hasClass("oj-selected")&&c.removeClass("oj-selected"),this.bUa(c));(c=c.children("oj-optgroup")?c.children("oj-optgroup").children("ul"):c.children("ul"))&&c.children()&&this.dna(c.children())}},E0:function(a){this.close(a)},SD:function(){c.gh(this,this.search)},F6:function(a,b){if(this.header){var d=
this.Hp().attr("aria-activedescendant");if(this.coa(d)){var d=g("#"+d),e=d.find("a, input, select, textarea, button, object").first();0===e.length&&(e=d.children());e.length&&e[0].click();this.close(b);return}}d=this.lA();(e=this.results.find(".oj-hover").closest(".oj-listbox-result").data(this.Pc))?(this.lA(d),a=a||{},a.trigger=c.OC.HBa,this.QK(e,a,b),this.TL(e,a,b),b&&"keydown"===b.type&&(this.Wua=!0)):a&&a.p4a&&this.close(b)},au:function(){return this.pa.element.attr("placeholder")||this.pa.element.attr("data-placeholder")||
this.pa.element.data("placeholder")||this.pa.placeholder},Ur:function(){var a=this.au();a&&(this.search.attr("placeholder",a),this.La.removeClass(this.ib+"-allowclear"))},rna:function(){var a;a:{var b,c,d;a=this.wb("style");if(void 0!==a&&null!==a)for(a=a.split(";"),c=0,d=a.length;c<d;c+=1)if(b=a[c].replace(/\s/g,""),b=b.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==b&&1<=b.length){a=b[1];break a}a=void 0}null!==a&&this.La.css("width",a)},Nd:function(){return this.fa.option("value")},
dC:function(a,b,c){var d={Qu:!1};c&&(d._context=c);Array.isArray(a)||this.fa.Y()?this.fa.ic(a,b,d):this.fa.ic([a],b,d);this.pa.element.val(a)},TL:function(){},xsa:function(){return!1},Hp:function(){return this.search},wb:function(a){return this.pa.fa.Y()?this.pa.fa.Fc.getAttribute(a):this.pa.element.attr(a)},h7:function(a){var b=!1,d=this.hd.find(".oj-listbox-search");d&&(this.qS()?(this.hd.find(".oj-listbox-search-wrapper").removeClass("oj-helper-hidden-accessible"),g(d).removeAttr("aria-hidden"),
this.search.val(a),b=!0):(this.hd.find(".oj-listbox-search-wrapper").addClass("oj-helper-hidden-accessible"),g(d).attr("aria-hidden","true")));c.gh(this,b?this.search:this.selection);if(b){var e=this;d.find(".oj-listbox-spyglass-box").on("mouseup click",function(a){e.search.focus();a.preventDefault()})}},qS:function(){var a=this.pa.minimumResultsForSearch;return(this.pa.list?g("#"+this.pa.list).find("li").length:this.dl?this.dl.children().length:this.pa.options?this.pa.options.length:0)>a||this.cm},
Vna:function(){return!1},fh:function(a,b){for(var c=0;c<a.length;c++)if(g(a[c]).data(this.Pc).value===b)return a[c];return null}}),d={E8:!0,i9a:!0,iva:function(a){return a.R("noMatchesFound")},l1a:function(a,b){return 1===b?a.R("oneMatchesFound"):a.R("moreMatchesFound",{num:""+b})},id:function(a){return a.id},Ks:function(a,b){return 0<=(""+b).toUpperCase().indexOf((""+a).toUpperCase())},separator:","},e=c.Hx(b,{HD:function(){e.N.HD.apply(this,arguments)&&this.search.prop("disabled",!this.Mr())},gh:function(){this.Tf()&&
this.close()},_destroy:function(){g("label[for\x3d'"+this.search.attr("id")+"']").attr("for",this.pa.element.attr("id"));e.N._destroy.apply(this,arguments)},Kz:function(b){if(this.selection.data(this.Pc)){b||a.D.warn("Event should not be null when user modified the value in UI");var c=this.fa.Y()?"":[];"oj-select"===this.ib&&this.fa.Vi()||this.dC(c,b);this.search.val("");this.selection.removeData(this.Pc)}this.Ur()},kn:function(){this.pa.CB.call(null,this.dl?this.dl:this.pa.element,this.We(this.LU))},
Bp:function(a){if(this.Mr())if(a.which===c.Rb.PAGE_UP||a.which===c.Rb.PAGE_DOWN)a.preventDefault();else{switch(a.which){case c.Rb.UP:case c.Rb.DOWN:this.Tf()?this.Yoa(a.which===c.Rb.UP?-1:1):this.open(a);a.preventDefault();return;case c.Rb.ENTER:this.F6(null,a);a.preventDefault();this.Tf()||(this.cm=!1);return;case c.Rb.TAB:this.close(a);this.cm=!1;return;case c.Rb.cY:this.Tf()&&(this.E0(a),a.preventDefault());this.cm=!1;return}this.cm=!0}},uJa:function(a){this.Mr()&&!this.Tf()&&this.open(a)},FS:function(){var a,
b=this.La,d,e=(d=this.pa.rootAttributes)&&d.id?d.id:this.wb("id")||c.uG();this.selection=a=b.find("."+this.ib+"-choice");a.attr("id",this.ib+"-choice-"+e);d=g("label[for\x3d'"+this.wb("id")+"']");d.attr("id")||d.attr("id",this.ib+"-label-"+e);a.find("."+this.ib+"-input").attr("id",this.ib+"-input-"+e);this.results.attr("id")||this.results.attr("id","oj-listbox-results-"+e);b=b.find(".oj-listbox-liveregion");b.length&&b.attr("id","oj-listbox-live-"+e);"oj-select"!==this.ib&&this.search.attr("aria-owns",
this.results.attr("id"));this.search.attr("aria-labelledby",d.attr("id"));this.pa.element.attr("aria-labelledby",d.attr("id"));this.search.attr("id")&&d.attr("for",this.search.attr("id"));this.wb("aria-label")&&this.search.attr("aria-label",this.wb("aria-label"));this.wb("aria-controls")&&this.search.attr("aria-controls",this.wb("aria-controls"));a.on("keydown",this.We(this.Bp));a.on("mousedown","abbr",this.We(function(a){this.Mr()&&(this.Kz(a),c.T3a(a),this.close(a),this.selection.focus())}));a.on("mousedown",
this.We(function(b){this.pa.element.prop("disabled")&&c.HB(b);a.removeClass("oj-focus-highlight");this.Tf()?this.close(b):this.Mr()&&this.open(b);var d=this.search.parent().attr("aria-hidden");d&&"true"==d?this.selection.focus():this.search.focus();g(b.target).hasClass("oj-combobox-open-icon")&&c.HB(b);this.La.addClass("oj-active")}));a.on("mouseup",this.We(function(){this.La.removeClass("oj-active")}));a.on("focus",this.We(function(a){c.HB(a)}));this.search.on("input",this.We(function(a){this.fa.Ym(this.search.val(),
a)}));this.search.on("focus",this.We(function(){this.Kpa=this.search.val()}));this.search.on("blur keyup",this.We(function(a){if("keyup"!==a.type||10===a.keyCode||13===a.keyCode){if(void 0!==this.search.val()&&0>=this.results.find(".oj-hover").length&&("keyup"!==a.type||!this.Wua))if(this.pa.manageNewEntry){var b=this.search.val(),d=this.pa.manageNewEntry(b),e={trigger:"blur"===a.type?c.OC.iba:c.OC.vba},f=this.selection.data(this.Pc);!f&&""!==b||f&&f.label!==b||!this.fa.isValid()&&b!==this.Kpa?(this.QK(d,
e,a),"blur"!==a.type&&this.TL(d,e,a)):this.pa.Gd&&"keyup"===a.type&&(f&&f.label===b&&(d=f),this.TL(d,e,a))}else null==this.pa.manageNewEntry&&((d=this.selection.data(this.Pc),""==this.search.val())?"oj-select"!==this.ib&&this.Kz(a):d||""===this.search.val()?"oj-select"!==this.ib&&(a=this.pa.c9(d),void 0!==a&&this.search.val(a)):this.Jt());this.search.removeClass(this.ib+"-focused");this.La.removeClass("oj-focus");this.Wua=!1}}));this.rna();this.pa.element.hide().attr("aria-hidden",!0);this.La.append(this.pa.element);
this.Ur()},Up:function(){var b=e.N.Up.apply(this,arguments),d=this,f=b.element.get(0).tagName.toLowerCase();if("input"===f&&b.element.attr("list")||"select"===f&&0<b.element.children().length||b.fa.Y()&&!b.options||b.list){var h=b.list?"li":"option";b.fa.Y()&&(h="oj-option");b.CB=function(c,e){var k,l=d.Nd();Array.isArray(l)&&!b.fa.Y()&&(l=l[0]);void 0!==l&&null!==l&&(k=d.dx(c.find(h).filter(function(){var b;if("li"==h)b=this.getAttribute("oj-data-value");else if("option"==h||"oj-option"==h)b=this.value;
return a.f.Eb(b,l)})),"select"===f&&void 0===k&&(l=null));if(void 0===l||null===l)k=d.dx(c.find(h).filter(function(){if("li"==h)return!0===this.getAttribute("oj-data-selected");if("option"==h)return this.selected})),"oj-select"===d.ib&&void 0===k&&b.fa.Y()&&(k=d.dx(g(c.find(h)[0])));e(k)};b.validate=function(b,c){var e;void 0!==c&&null!==c&&(e=d.dx(b.find(h).filter(function(){var b;if("li"==h)b=this.getAttribute("oj-data-value");else if("option"==h||"oj-option"==h)b=this.value;return a.f.Eb(b,c)})));
return!!e}}else if("options"in b||this.Nd()&&0<this.Nd().length)c.As(b.options)||g.isFunction(b.options)?b.CB=function(e,f){function h(c,d){for(var e=0,f=c.length;e<f;e++){var g=c[e];if(a.f.Eb(d,b.id(g))||g.children&&(g=h(g.children,d)))return g}return null}var k=d.E3(),l=null;if(k){var m=c.Rva(d);m&&(l=h(m,k));l||(m=d.currentItem)&&m.length&&a.f.Eb(k,b.id(m[0]))&&(l=m[0]);l||d.$aa?f(l):b.ZB({value:[k],Hc:g.isFunction(f)?function(a){a&&a.results&&(l=h(a.results,k));f(l)}:g.noop})}else f(l)}:(b.CB=
function(c,e){var h=d.E3(),k="select"==f&&d.fa.tt()&&!d.fa.Vi()?d.au():null,l=null;b.ZB({Ks:function(c,d,e){(c=a.f.Eb(h,b.id(e)))&&(l=e);null==k&&(k=e);return c},Hc:g.isFunction(e)?function(){l||"select"!==f||d.fa.Q4()||(l=k);e(l)}:g.noop})},b.validate=function(c,d){var e=null;b.ZB({Ks:function(c,f,g){(c=a.f.Eb(d,b.id(g)))&&(e=g);return c},Hc:g.noop});return!!e});return b},WK:function(b,d,e){var f=-1,g=this;b=this.Tz();c.Ru(b,function(b,c){var d=g.E3();if(d&&a.f.Eb(d,g.id(c.data(g.Pc))))return f=
b,!1});!1!==e&&!0===d&&0<=f&&this.lA(f)},QK:function(a,b,c){if(this.sta(a)){var d;b&&b.trigger&&(d={uy:{trigger:b.trigger}});this.close(c);b=this.fa.Y()?"":[];this.dC(0===this.id(a).length?b:this.id(a),c,d);"blur"!==c.type&&this.SD()}},Jt:function(){this.search.val("")},E3:function(){var a=null,b=this.Nd();b&&(a=!this.fa.Y()&&b.length?b[0]:b);return a}}),f=c.Hx(e,{Pc:"ojcombobox",ib:"oj-combobox",VI:function(){return g(document.createElement("div")).attr({"class":"oj-combobox oj-component"}).html("\x3cdiv class\x3d'oj-combobox-choice' tabindex\x3d'-1' role\x3d'presentation'\x3e   \x3cinput type\x3d'text' autocomplete\x3d'off' autocorrect\x3d'off' autocapitalize\x3d'off'       spellcheck\x3d'false' class\x3d'oj-combobox-input' role\x3d'combobox' aria-expanded\x3d'false' aria-autocomplete\x3d'list' /\x3e   \x3cabbr class\x3d'oj-combobox-clear-entry' role\x3d'presentation'\x3e\x3c/abbr\x3e   \x3cspan class\x3d'oj-combobox-divider' role\x3d'presentation'\x3e\x3c/span\x3e   \x3ca class\x3d'oj-combobox-arrow oj-combobox-icon oj-component-icon oj-clickable-icon-nocontext oj-combobox-open-icon'       role\x3d'button' aria-label\x3d'expand'\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d'oj-listbox-drop' style\x3d'display:none' role\x3d'presentation'\x3e   \x3cul class\x3d'oj-listbox-results' role\x3d'listbox'\x3e   \x3c/ul\x3e\x3c/div\x3e")},
Fp:function(a){f.N.Fp.apply(this,arguments);this.ID?this.La.find(".oj-combobox-arrow").removeClass("oj-disabled"):this.La.find(".oj-combobox-arrow").addClass("oj-disabled")},close:function(a){this.Tf()&&f.N.close.apply(this,arguments)},ou:function(a,b){f.N.ou.apply(this,arguments);b||this.wx(!0)},Bp:function(a){c.Rb.mW(a)||c.Rb.pW(a)||f.N.Bp.apply(this,arguments)},fs:function(a){var b,c=[];this.selection.data(this.Pc,a);null!==a&&0!=a.length?(b=this.pa.c9(a),void 0!==b&&this.search.val()!==b&&this.search.val(b),
this.search.removeClass(this.ib+"-default"),c.push(a)):(this.search.val(""),this.Ur());this.currentItem=c;this.pa.m_a&&this.La.addClass(this.ib+"-allowclear")},LU:function(a){if(void 0===a||null===a)a=(a=this.Nd())?Array.isArray(a)?Array.isArray(a)&&a.length?{label:a[0]}:null:{label:a}:null;this.fs(a)}}),h=c.Hx(e,{Pc:"ojselect",ib:"oj-select",cm:!1,VI:function(){return g(document.createElement("div")).attr({"class":"oj-select oj-component"}).html("\x3cdiv class\x3d'oj-select-choice' tabindex\x3d'0' role\x3d'combobox'      aria-autocomplete\x3d'none' aria-expanded\x3d'false'\x3e  \x3cspan class\x3d'oj-select-chosen'\x3e\x3c/span\x3e  \x3cabbr class\x3d'oj-select-search-choice-close' role\x3d'presentation'\x3e\x3c/abbr\x3e  \x3ca class\x3d'oj-select-arrow oj-component-icon oj-clickable-icon-nocontext oj-select-open-icon' role\x3d'presentation'\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d'oj-listbox-drop' style\x3d'display:none' role\x3d'dialog'\x3e  \x3cdiv class\x3d'oj-listbox-search-wrapper'\x3e  \x3cdiv class\x3d'oj-listbox-search'\x3e    \x3cinput type\x3d'text' autocomplete\x3d'off' autocorrect\x3d'off' autocapitalize\x3d'off'           spellcheck\x3d'false' class\x3d'oj-listbox-input' title\x3d'Search field'            role\x3d'combobox' aria-expanded\x3d'false' aria-autocomplete\x3d'list' /\x3e    \x3cspan class\x3d'oj-listbox-spyglass-box'\x3e      \x3cspan class\x3d'oj-component-icon oj-clickable-icon-nocontext oj-listbox-search-icon' role\x3d'presentation'\x3e       \x3cb role\x3d'presentation'\x3e\x3c/b\x3e\x3c/span\x3e    \x3c/span\x3e  \x3c/div\x3e  \x3c/div\x3e   \x3cul class\x3d'oj-listbox-results' role\x3d'listbox'\x3e   \x3c/ul\x3e\x3c/div\x3e\x3cdiv role\x3d'region' class\x3d'oj-helper-hidden-accessible oj-listbox-liveregion' aria-live\x3d'polite'\x3e\x3c/div\x3e")},
Fp:function(a){h.N.Fp.apply(this,arguments);this.ID?(this.selection.attr("tabindex","0"),this.La.find(".oj-select-arrow").removeClass("oj-disabled")):(this.selection.attr("tabindex","-1"),this.La.find(".oj-select-arrow").addClass("oj-disabled"))},close:function(a){this.Tf()&&(h.N.close.apply(this,arguments),this.selection.attr("aria-expanded",!1).removeAttr("aria-haspopup").removeAttr("aria-owns"),this.search.attr("aria-expanded",!1).removeAttr("aria-controls"),this.w7(a)||this.Jt(),a instanceof MouseEvent&&
a.target!=this.selection&&a.target!=this.search||c.gh(this,this.selection),this.La.find(".oj-listbox-spyglass-box").off("mouseup click"))},ou:function(a,b){h.N.ou.apply(this,arguments);var d=c.E9(a);this.h7(d);b||(d?this.wx():this.wx(!0))},nU:function(){if(this.Tf()){var a="true"!==this.selection.attr("aria-expanded");h.N.nU.apply(this,arguments);a&&(this.selection.attr("aria-expanded",!0).attr("aria-haspopup","dialog").attr("aria-owns",this.results.attr("id")),this.search.attr("aria-expanded",!0).attr("aria-controls",
this.results.attr("id")+" "+this.La.find(".oj-listbox-liveregion").attr("id")))}},FS:function(){var a=this.Ju+"_selected";this.text=this.La.find(".oj-select-chosen").attr("id",a);h.N.FS.apply(this,arguments);this.selection.attr({"aria-labelledby":this.search.attr("aria-labelledby"),"aria-describedby":a});(a=this.wb("aria-label"))&&this.selection.attr("aria-label",a);this.search.on("keydown",this.We(this.Bp));this.search.on("keyup-change input",this.We(this.uJa));this.search.attr("title",this.fa.R("searchField"));
var b=this;this.selection.on("blur",function(a){b.w7(a)})},kn:function(){this.noa()?(this.fs(null),this.close(),this.Ur()):h.N.kn.apply(this,arguments)},LU:function(b){if(void 0!==b&&null!==b){var c,d=this.Nd();Array.isArray(d)&&!this.fa.Y()&&(d=d[0]);c=this.pa.id(b);void 0===c&&(c=null);a.f.Eb(d,c)||this.fa.Q6(c);this.fs(b);this.close()}},fs:function(a){this.selection.data(this.Pc,a);null!==a&&this.text.text("string"===typeof a?a:c.wB(a));a&&""!=a.id&&this.text.removeClass(this.ib+"-default");this.pa.m_a&&
this.La.addClass(this.ib+"-allowclear")},Hp:function(){return this.search.attr("aria-expanded")&&this.qS()?this.search:this.selection},noa:function(){if(null===this.au())return!1;var a=this.Nd(),a=Array.isArray(a)?a[0]:a;return""===a||void 0===a||null===a},au:function(){return this.pa.placeholder},xsa:function(){return!0},Ur:function(){var a=this.au();this.noa()&&void 0!==a&&(void 0===a&&(a=""),this.text.text(a).addClass(this.ib+"-default"),this.La.removeClass(this.ib+"-allowclear"))},dC:function(a,
b,c){h.N.dC.call(this,a,b,c);this.selection.data("selectVal",a)},Bp:function(a){if(!(c.Rb.mW(a)&&a.which!=c.Rb.NY||a.which==c.Rb.NY||c.Rb.pW(a))){switch(a.which){case c.Rb.TAB:this.close(a);this.selection.focus();this.w7(a);return;case c.Rb.ENTER:if(a.target===this.selection[0]&&!this.Tf()){this.open(a);a.preventDefault();return}}h.N.Bp.apply(this,arguments);if(this.cm)if(this.Tf()){var b=this.hd.find(".oj-listbox-search");"true"===g(b).attr("aria-hidden")&&(b=c.E9(a))&&(this.h7(b),this.wx())}else this.open(a)}},
w7:function(a){return""==this.text.text()?(this.Kz(a),!0):!1}}),k=c.Hx(b,{Up:function(){var b=k.N.Up.apply(this,arguments),d=this,e=b.element.get(0).tagName.toLowerCase();if("input"===e&&b.element.attr("list")||"select"===e&&0<b.element.children().length||b.fa.Y()&&!b.options||b.list){var f=b.list?"li":"option";b.fa.Y()&&(f="oj-option");b.CB=function(b,g){var h=[];if(d.Nd())for(var k,l=d.Nd(),m=0;m<l.length;m++){var t=l[m];(k=b.find(f).filter(function(){var b;if("li"==f)b=this.getAttribute("oj-data-value");
else if("option"==f||"oj-option"==f)b=this.value;return a.f.Eb(b,t)}))&&k.length?h.push(d.dx(k)):"ojcombobox"===d.Pc&&h.push({value:t,label:t})}else"select"!==e&&(k=b.find(f).filter(function(){if("option"===f)return this.selected;if("li"===f)return!0===this.getAttribute("oj-data-selected");if("oj-option"===f)return!0===this.getAttribute("selected")}),c.Ru(k,function(a,b){h.push(d.dx(b))}));g(h)}}else"options"in b&&(b.CB=c.As(b.options)||g.isFunction(b.options)?function(e,f){function h(){for(var c=
[],e=0;e<l.length;e++){for(var g=l[e],k=!1,r=0;r<m.length;r++){var q=m[r];if(a.f.Eb(g,b.id(q))){c.push(q);m.splice(r,1);k=!0;break}}if(!k){if((r=d.currentItem)&&r.length)for(q=0;q<r.length;q++)if(a.f.Eb(g,b.id(r[q]))){c.push(r[q]);k=!0;break}k||"ojcombobox"!==d.Pc||c.push({value:g,label:g})}}f(c)}function k(a,c){for(var d=[],e=0,f=a.length;e<f;e++){var h=a[e];0<=c.indexOf(b.id(h))&&d.push(h);h.children&&(h=k(h.children,c))&&h.length&&g.merge(d,h)}return d}var l=d.Nd(),m=[],q=c.Rva(d);q&&(m=k(q,l));
d.$aa?h():b.ZB({value:l,Hc:function(a){a&&a.results&&(a=k(a.results,l))&&a.length&&g.merge(m,a);h()}})}:function(c,e){var f=d.Nd();if(f&&0!==f.length){var h=[];b.ZB({Ks:function(c,d,e){(c=g.grep(f,function(c){return a.f.Eb(c,b.id(e))}).length)&&h.push(e);return c},Hc:g.isFunction(e)?function(){for(var c=[],g=0;g<f.length;g++){for(var k=f[g],r=!1,l=0;l<h.length;l++){var m=h[l];if(a.f.Eb(k,b.id(m))){c.push(m);h.splice(l,1);r=!0;break}}r||"ojcombobox"!==d.Pc||c.push({value:k,label:k})}e(c)}:g.noop})}});
return b},SE:function(a){var b=this.La.find("."+this.ib+"-selected-choice.oj-focus");b.length&&a&&a[0]==b[0]||(b.length&&this.pa.element.trigger("choice-deselected",b),b.removeClass("oj-focus"),a&&a.length&&("ojcombobox"===this.Pc&&this.close(),a.addClass("oj-focus"),this.La.find("."+this.ib+"-description").text(a.attr("valueText")+". Press back space to delete.").attr("aria-live","assertive"),this.pa.element.trigger("choice-selected",a)))},_destroy:function(){g("label[for\x3d'"+this.search.attr("id")+
"']").attr("for",this.pa.element.attr("id"));k.N._destroy.apply(this,arguments)},FS:function(){var a="."+this.ib+"-choices",b,d=c.uG(),e;this.taa=this.La.find("."+this.ib+"-search-field");this.selection=b=this.La.find(a);var f=this;this.selection.on("click","."+this.ib+"-selected-choice:not(."+this.ib+"-locked)",function(){"ojcombobox"===this.Pc&&f.search[0].focus();f.SE(g(this))});e=g("label[for\x3d'"+this.wb("id")+"']");e.attr("id")||e.attr("id",this.ib+"-label-"+d);this.kw="ojcombobox"===this.Pc?
this.search:this.selection;b.find("."+this.ib+"-input").attr("id",this.ib+"-input-"+d);this.results.attr("id")||this.results.attr("id","oj-listbox-results-"+d);this.kw.attr("aria-owns",this.results.attr("id"));this.kw.attr("aria-labelledby",e.attr("id"));this.pa.element.attr("aria-labelledby",e.attr("id"));this.search.attr("id")&&e.attr("for",this.search.attr("id"));this.wb("aria-label")&&this.kw.attr("aria-label",this.wb("aria-label"));this.wb("aria-controls")&&this.kw.attr("aria-controls",this.wb("aria-controls"));
this.yV&&this.kw.attr("tabindex",this.yV);this.xW=0;"ojselect"===this.Pc&&(this.selection.on("keydown",this.We(this.Bp)),this.selection.on("keyup",this.We(function(){this.xW=0})));this.search.on("keydown",this.We(this.Bp));this.search.on("keyup",this.We(function(){this.xW=0}));this.search.on("input",this.We(function(a){this.fa.Ym(this.search.val(),a)}));this.search.on("blur keyup",this.We(function(a){if("keyup"!==a.type||10===a.keyCode||13===a.keyCode){if(this.pa.manageNewEntry&&this.search.val()&&
0>=this.results.find(".oj-hover").length){var b=this.pa.manageNewEntry(this.search.val());this.QK(b,{trigger:"blur"===a.type?c.OC.iba:c.OC.vba},a)}this.search.removeClass(this.ib+"-focused");this.La.removeClass("oj-focus");this.SE(null);this.Tf()||this.Jt();a.stopImmediatePropagation()}}));this.La.on("click touchstart",a,this.We(function(a){!this.Mr()||0<g(a.target).closest("."+this.ib+"-selected-choice").length||(this.SE(null),this.Tf()?this.close(a):(this.open(a),("ojcombobox"===this.Pc||this.qS())&&
this.SD()),a.preventDefault())}));this.La.on("focus",a,this.We(function(){}));this.rna();this.pa.element.hide().attr("aria-hidden",!0);this.La.append(this.pa.element);this.Jt()},Bp:function(a){if(this.Mr()){++this.xW;var b=this.selection.find("."+this.ib+"-selected-choice.oj-focus"),d=b.prev("."+this.ib+"-selected-choice:not(."+this.ib+"-locked)"),e=b.next("."+this.ib+"-selected-choice:not(."+this.ib+"-locked)"),f="ojselect"!==this.Pc||this.cm?c.yva(this.search):c.yva(this.selection);if(!b.length||
a.which!=c.Rb.LEFT&&a.which!=c.Rb.RIGHT&&a.which!=c.Rb.TX&&a.which!=c.Rb.DELETE&&a.which!=c.Rb.ENTER)if((a.which!==c.Rb.TX||1!=this.xW)&&a.which!=c.Rb.LEFT||0!=f.offset||f.length){this.SE(null);if(this.Tf()){switch(a.which){case c.Rb.UP:case c.Rb.DOWN:this.Yoa(a.which===c.Rb.UP?-1:1);a.preventDefault();return;case c.Rb.ENTER:this.F6(null,a);a.preventDefault();return;case c.Rb.TAB:this.close(a);return;case c.Rb.cY:this.E0(a);a.preventDefault();return}!1!==this.cm||c.Rb.mW(a)||c.Rb.pW(a)||(this.cm=
!0,this.close())}if(!(a.which===c.Rb.TAB||c.Rb.mW(a)||c.Rb.pW(a)||a.which===c.Rb.cY||a.which===c.Rb.ENTER&&this.search.val()&&"ojcombobox"===this.Pc)){switch(a.which){case c.Rb.UP:case c.Rb.DOWN:this.open(a);a.preventDefault();return;case c.Rb.PAGE_UP:case c.Rb.PAGE_DOWN:a.preventDefault();return;case c.Rb.ENTER:a.preventDefault();return}this.cm=!0}}else this.SE(this.selection.find("."+this.ib+"-selected-choice:not(."+this.ib+"-locked)").last()),a.preventDefault();else f=b,a.which==c.Rb.LEFT&&d.length?
f=d:a.which==c.Rb.RIGHT?f=e.length?e:null:a.which===c.Rb.TX?(this.S7(b.first(),a),this.QT(),f=d.length?d:e):a.which==c.Rb.DELETE?(this.S7(b.first(),a),this.QT(),f=e.length?e:null):a.which==c.Rb.ENTER&&(f=null),this.SE(f),a.preventDefault(),f&&f.length||this.open(a)}},HD:function(){k.N.HD.apply(this,arguments)&&this.search.prop("disabled",!this.Mr())},kn:function(){null!==this.Nd()&&0!==this.Nd().length||"oj-select"!==this.ib&&""!==this.pa.element.text().trim()||(this.fs([]),this.close(),this.Jt());
if(this.dl||null!==this.Nd()&&this.Nd().length){var a=this;this.pa.CB.call(null,this.dl?this.dl:this.pa.element,function(b){void 0!==b&&null!==b&&0!==b.length&&(a.fs(b),a.close(),a.Jt())})}},close:function(a){this.Tf()&&k.N.close.apply(this,arguments)},gh:function(){this.close();this.search.focus()},fs:function(a){var b=[],c=[],d=this;g(a).each(function(){0>b.indexOf(d.id(this))&&(b.push(d.id(this)),c.push(this))});a=c;this.selection.find("."+this.ib+"-selected-choice").remove();this.selection.find(".oj-select-default").remove();
g(a).each(function(){d.bHa(this)});this.currentItem=a;this.pa.element.val(0===b.length?"":b.join(this.pa.separator));d.WK()},QK:function(a,b,d){if(this.sta(a)){var e;b&&b.trigger&&(e={uy:{trigger:b.trigger}});var f=this.id(a),h=this.Nd()?this.Nd().slice(0):[];this.fa.isValid()||(h=c.tv(this.pa.element.val(),this.pa.separator));g(a).each(function(){0>h.indexOf(f)&&""!==f&&h.push(f)});this.dC(h,d,e);!this.select&&this.pa.E8||this.WK(a,!1,!0===this.pa.E8);this.pa.E8&&(this.close(d),this.QT());b&&b.p4a||
"ojcombobox"!==this.Pc||this.SD()}},E0:function(a){this.close(a);"ojcombobox"===this.Pc&&this.SD()},bHa:function(a){var b=!a.locked,d=g("\x3cli class\x3d'"+this.ib+"-selected-choice'\x3e    \x3cdiv\x3e\x3c/div\x3e    \x3ca href\x3d'#' onclick\x3d'return false;' role\x3d'button' aria-label\x3d'remove' class\x3d'"+this.ib+"-clear-entry       oj-component-icon oj-clickable-icon-nocontext "+this.ib+"-clear-entry-icon' tabindex\x3d'-1'\x3e    \x3c/a\x3e\x3c/li\x3e"),e=g("\x3cli class\x3d'"+this.ib+"-selected-choice "+
this.ib+"-locked'\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/li\x3e"),d=b?d:e;this.id(a);e=this.pa.c9(a);void 0!==e&&(d.find("div").addClass(this.ib+"-selected-choice-label").text(e),d.find("."+this.ib+"-clear-entry").attr("aria-label",e+" remove"),d.attr("valueText",e));if(b)d.find("."+this.ib+"-clear-entry").on("mousedown",c.HB).on("click dblclick",this.We(function(a){this.Mr()&&(g(a.target).closest("."+this.ib+"-selected-choice").fadeOut("fast",this.We(function(){this.S7(g(a.target),a);this.selection.find("."+
this.ib+"-selected-choice.oj-focus").removeClass("oj-focus");this.close(a);"ojcombobox"===this.Pc&&this.SD()})).dequeue(),c.HB(a))}));d.data(this.Pc,a);"ojcombobox"===this.Pc?d.insertBefore(this.taa):this.selection.append(d)},S7:function(a,b){var d=this.Nd()?this.Nd().slice(0):[],e,f;a=a.closest("."+this.ib+"-selected-choice");if(0===a.length)throw"Invalid argument: "+a+". Must be ."+this.ib+"-selected-choice";if(e=a.data(this.Pc)){for(this.fa.isValid()||(d=c.tv(this.pa.element.val(),this.pa.separator));0<=
(f=d.indexOf(this.id(e)));)d.splice(f,1),this.dC(d,b),this.select&&this.WK();a.remove()}},WK:function(){var a=this.Nd()&&(this.pa.element.val()||this.fa.isValid())?this.Nd():[],b=this.results.find(".oj-listbox-result"),d=this.results.find(".oj-listbox-result-with-children"),e=this;c.Ru(b,function(b,c){var d=e.id(c.data(e.Pc));a&&0<=a.indexOf(d)&&(c.addClass("oj-selected"),c.find(".oj-listbox-result-selectable").addClass("oj-selected"))});c.Ru(d,function(a,b){b.is(".oj-listbox-result-selectable")||
0!==b.find(".oj-listbox-result-selectable:not(.oj-selected)").length||b.addClass("oj-selected")});0< !b.filter(".oj-listbox-result:not(.oj-selected)").length&&"oj-select"!==this.ib&&this.close()},Vna:function(a){var b=this.Nd();if(!b||0==b.length)return!1;a=a.results;for(var c=0;c<a.length;c++)if(-1==b.indexOf(this.id(a[c])))return!1;return!0},QT:function(){},dC:function(a,b,d){var e;e=[];"string"===typeof a&&(a=c.tv(a,this.pa.separator));for(var f=0;f<a.length;f++)0>e.indexOf(a[f])&&e.push(a[f]);
a={Qu:!1};d&&(a._context=d);this.fa.ic(e,b,a);(this.fa.isValid()||0===e.length)&&this.pa.element.val(0===e.length?"":e.join(this.pa.separator));this.search.attr("aria-activedescendant",this.pa.element.attr("id"))}}),l=c.Hx(k,{Pc:"ojcombobox",ib:"oj-combobox",VI:function(){return g(document.createElement("div")).attr({"class":"oj-combobox oj-combobox-multi oj-component"}).html("\x3cul class\x3d'oj-combobox-choices'\x3e  \x3cli class\x3d'oj-combobox-search-field'\x3e\x3cspan style\x3d'display:none'\x3e\x26nbsp;\x3c/span\x3e    \x3cinput type\x3d'text' role\x3d'combobox' aria-expanded\x3d'false' aria-autocomplete\x3d'list' autocomplete\x3d'off' autocorrect\x3d'off' autocapitalize\x3d'off' spellcheck\x3d'false' class\x3d'oj-combobox-input'\x3e  \x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d'oj-combobox-description oj-helper-hidden-accessible'/\x3e\x3cdiv class\x3d'oj-listbox-drop oj-listbox-drop-multi' style\x3d'display:none'\x3e   \x3cul class\x3d'oj-listbox-results' role\x3d'listbox'\x3e   \x3c/ul\x3e\x3c/div\x3e")},
ou:function(a,b){this.IWa();l.N.ou.apply(this,arguments);this.SD();b||this.wx(!0);this.search.focus()},Jt:function(){var a=this.au(),b=this.FNa();void 0===a||this.Nd()&&0!==this.Nd().length?(this.search.attr("placeholder",""),this.search.val("").width(10),this.taa.width("auto")):(this.search.attr("placeholder",a),this.search.val("").width(0<b?b:this.La.css("width")),this.taa.width("100%"))},QT:function(){this.search.width(10)},FNa:function(){return this.selection.width()-c.owa(this.search)},$Ya:function(a){var b=
document.createElement("span");a=document.createTextNode(a);b.style.display="none";b.appendChild(a);g("body").append(b);b=g("body").find("span:last").width();g("body").find("span:last").remove();return b},IWa:function(){var a,b,d,e,f=c.owa(this.search);a=this.$Ya(this.search.val())+10;b=this.search.offset().left;d=this.selection.width();e=this.selection.offset().left;b=d-(b-e)-f;b<a&&(b=d-f);40>b&&(b=d-f);0>=b&&(b=a);this.search.width(Math.floor(b))}}),m=c.Hx(k,{Pc:"ojselect",ib:"oj-select",cm:!1,
VI:function(){return g(document.createElement("div")).attr({"class":"oj-select oj-select-multi oj-component"}).html("\x3cul class\x3d'oj-select-choices' tabindex\x3d'0' role\x3d'combobox'   aria-autocomplete\x3d'none' aria-expanded\x3d'false'\x3e\x3c/ul\x3e\x3cdiv class\x3d'oj-listbox-drop' style\x3d'display:none' role\x3d'dialog'\x3e  \x3cdiv class\x3d'oj-listbox-search-wrapper'\x3e  \x3cdiv class\x3d'oj-listbox-search'\x3e    \x3cinput type\x3d'text' autocomplete\x3d'off' autocorrect\x3d'off' autocapitalize\x3d'off'           spellcheck\x3d'false' class\x3d'oj-listbox-input' title\x3d'Search field'            role\x3d'combobox' aria-expanded\x3d'false' aria-autocomplete\x3d'list' /\x3e    \x3cspan class\x3d'oj-listbox-spyglass-box'\x3e      \x3cspan class\x3d'oj-component-icon oj-clickable-icon-nocontext oj-listbox-search-icon' role\x3d'presentation'\x3e       \x3cb role\x3d'presentation'\x3e\x3c/b\x3e\x3c/span\x3e    \x3c/span\x3e  \x3c/div\x3e  \x3c/div\x3e   \x3cul class\x3d'oj-listbox-results' role\x3d'listbox'\x3e   \x3c/ul\x3e\x3c/div\x3e\x3cdiv role\x3d'region' class\x3d'oj-helper-hidden-accessible oj-listbox-liveregion' aria-live\x3d'polite'\x3e\x3c/div\x3e")},
Bp:function(a){m.N.Bp.apply(this,arguments);this.cm&&!this.Tf()&&this.open(a)},ou:function(a,b){m.N.ou.apply(this,arguments);var d=c.E9(a);this.h7(d);b||(d?this.wx():this.wx(!0))},close:function(a){!0===this.cm&&(this.cm=!1);m.N.close.apply(this,arguments);!a||a instanceof MouseEvent&&a.target!=this.selection&&a.target!=this.search||c.gh(this,this.selection)},Jt:function(){var a=this.au();if(a&&(!this.Nd()||0===this.Nd().length)){var b=g("\x3cli\x3e\x3c/li\x3e");b.addClass("oj-select-default");b.text(a);
this.selection.append(b)}}});a.hb("oj.ojCombobox",g.oj.editableValue,{defaultElement:"\x3cinput\x3e",widgetEventPrefix:"oj",options:{converter:void 0,placeholder:null,options:null,optionsKeys:null,pickerAttributes:null,optionRenderer:null,minLength:0,rawValue:void 0,required:!1,validators:void 0},widget:function(){return this.Ie.La},qc:function(){this._super();this.qb()},Kf:function(){this._super();if(this.Y()){var b=this.Fc.id;b&&a.ia.Daa(this.ze()[0],b)}},Ah:function(b,d){this._super(b,d);a.ia.xs([{Aa:"disabled",
jf:!0},{Aa:"placeholder"},{Aa:"required",ek:!0,jf:!0},{Aa:"title"}],d,this);this.multiple=this.Y()?"OJ-COMBOBOX-MANY"===this.Fc.nodeName?!0:!1:this.options.multiple;if(void 0===this.options.value)this.Y()||(this.options.value=void 0!==this.element.attr("value")?c.tv(this.element.val(),","):null);else{var e=this.options.value;Array.isArray(e)?this.Y()||(e=e.slice(0)):"string"===typeof e&&(!0===this.multiple?e=c.tv(e,","):this.Y()||(e=[e]));this.options.value=e}},Vi:function(){return this.options.required},
yg:a.ia.yg,Ti:a.ia.Ti,lt:a.ia.lt,tz:a.ia.tz,yc:a.ia.yc,Xq:a.ia.Xq,qb:function(){var a={};a.element=this.element;a.fa=this;a=g.extend(this.options,a);this.Ie=this.multiple?new l:new f;this.Ie._init(a);this.Ge(this.options.required)},Ge:a.ia.Ge,ez:function(){return!1},_destroy:function(){this.Ie._destroy();this._super()},refresh:function(){this._super();this.Ie._destroy();this.qb();this.GP()},_setOption:function(a,b,d){"value"===a&&(Array.isArray(b)?this.Y()||(b=b.slice(0)):"string"===typeof b&&(!0===
this.multiple?b=c.tv(b,","):this.Y()||(b=[b])),this.Ie.$aa=d&&d._context&&d._context.uy?d._context.uy.trigger:null);"options"===a&&b!==this.options.options&&c.laa(this);this._super(a,b,d);"options"===a&&(b!==this.options.options&&c.VU(this),this.Ie.pa.options=b,this.Ie.pa=this.Ie.Up(this.Ie.pa));"disabled"===a&&(b?this.Ie.B1():this.Ie.Fp())},kt:function(a,b,c){this._superApply(arguments);switch(a){case "required":this.yg(a);break;case "validators":this.Ti(a);break;case "converter":this.lt(a)}},Ch:function(){this._superApply(arguments);
this.Ie.close()},pp:function(){this._superApply(arguments);this.Ie.close()},Pk:function(){this.Ie.kn()},zt:function(a){this.Ie&&(this.Ie.pa.placeholder=a,this.Ie.Ur&&this.Ie.Ur())},validate:a.ia.validate,uT:function(a){var b;"string"===typeof a&&(!0===this.multiple?a=c.tv(a,","):this.Y()||(a=[a]));if(Array.isArray(a)){b=[];for(var d=0;d<a.length;d++){var e=this._super(a[d]);b.push(e)}}else b=this._super(a);return b},_GetMessagingLauncherElement:function(){return this.Ie.search},Xi:function(a,b,c){a=
this._GetMessagingLauncherElement();this.$i(b,c,{launcher:a})},ze:function(){return this.Ie.search},_GetDefaultStyleClass:function(){return"oj-combobox"},bo:function(){var a=this.Ie.search.val(),b=null;!0!==this.multiple?b=this.Y()?a:void 0===a||null===a||""===a?[]:[a]:(b=[],this.isValid()&&(b=this.Ie.Nd()),void 0!==a&&null!==a&&""!==a&&b.push(a));return this.ic(b,null,this.hI)},EJ:function(){if(this.Ie&&this.Ie.Tf())for(var a=g(".oj-listbox-drop"),b=0;b<a.length;b++)if("oj-listbox-drop"==g(a[b]).attr("id")&&
g(a[b]).attr("data-oj-containerid")==this.Ie.Ju)return g(a[b]);return null},fh:function(a,b){for(var c=0;c<a.length;c++)if(g(a[c]).data("ojcombobox").value===b)return a[c];return null},getNodeBySubId:function(a){var b=null,c;if(null==a)return this.Ie.La?this.Ie.La[0]:null;b=this._super(a);if(!b){c=a.subId;"oj-combobox-drop"===c&&(c="oj-listbox-drop");"oj-combobox-results"===c&&(c="oj-listbox-results");"oj-combobox-selection"===c&&(c="oj-combobox-selected-choice");var d=this.EJ();switch(c){case "oj-combobox-input":case "oj-combobox-arrow":b=
this.widget().find("."+c)[0];break;case "oj-listitem":d&&(b=d.find(".oj-listbox-result"),b=this.fh(b,a.value));break;case "oj-combobox-remove":b=this.widget().find(".oj-combobox-selected-choice");b=(a=this.fh(b,a.value))?g(a).find(".oj-combobox-clear-entry-icon")[0]:null;break;case "oj-listbox-drop":d&&(b=d[0]);break;case "oj-listbox-results":d&&(b=d.find("."+c)[0]);break;case "oj-combobox-selected-choice":b=this.widget().find("."+c).toArray()}}return b||null},getSubIdByNode:function(a){var b=null;
null!=a&&(b=g(a),b=b.hasClass("oj-combobox-input")?{subId:"oj-combobox-input"}:b.hasClass("oj-combobox-arrow")?{subId:"oj-combobox-arrow"}:b.hasClass("oj-listbox-result")?{subId:"oj-listitem",value:b.data("ojcombobox").value}:b.hasClass("oj-combobox-clear-entry-icon")?{subId:"oj-combobox-remove",value:b.closest(".oj-combobox-selected-choice").data("ojcombobox").value}:this._super(a));return b}});a.hb("oj.ojSelect",g.oj.editableValue,{defaultElement:"\x3cselect\x3e",widgetEventPrefix:"oj",options:{minimumResultsForSearch:15,
placeholder:null,optionRenderer:null,options:null,optionsKeys:null,pickerAttributes:null,required:!1,renderMode:"jet"},widget:function(){return this.select?this.select.La:this.element.parent()},qc:function(){this._super();this.qb()},Kf:function(){this._super();if(this.Y()){var b=this.uuid+"_Label";(b=a.ia.CM(g(this.Fc),b))&&this.ze().attr("aria-labelledby",b)}},kt:function(a,b,c){this._superApply(arguments);switch(a){case "required":this.yg(a)}},Vi:function(){return this.options.required},yg:a.ia.yg,
bpa:function(a){a?(this.element.attr("disabled",""),this.element.parent().addClass("oj-disabled").removeClass("oj-enabled")):(this.element.removeAttr("disabled"),this.element.parent().removeClass("oj-disabled").addClass("oj-enabled"))},NTa:function(a){var b=[],c=!this.Vi()&&this.tt();g(a.target).find("option").each(function(){this.selected&&(this.value||c&&""===this.value)&&b.push(this.value)});this.Y()&&!0!==this.multiple?this.ic(b[0],a,{Qu:!1,_context:{mb:!0}}):this.ic(b,a,{Qu:!1,_context:{mb:!0}})},
apa:function(a){if(a){var b=this.element;c.Yta(b,a,this.uw.bind(this),this.options.optionsKeys);b.addClass(c.uC)}},cpa:function(a){var b=null;a?b=a:(this.tt()&&(this.options.required&&(b=this.LK()),this.zt(this.options.placeholder)),null===b&&(b=this.LK()));this.Q6(b)},$oa:function(a){var b=this;c.ava(this.element,a).then(function(d){b.apa(d);d.length&&((d=b.options.value)?c.Zaa(b.element,a,d).then(function(a){var c;Array.isArray(a)&&a.length&&(c=b.multiple?a:a[0]);b.cpa(c)}):b.cpa())})},PTa:function(){var a=
this.element;a.wrap("\x3cdiv\x3e").parent().addClass("oj-select-native oj-component oj-select oj-form-control");a.addClass("oj-select-select oj-component-initnode");this.multiple?(a[0].multiple||(a[0].multiple=!0),a.parent().prepend("\x3ca class\x3d'oj-select-arrow oj-component-icon oj-clickable-icon-nocontext oj-select-multiple-open-icon' role\x3d'presentation'\x3e\x3c/a\x3e")):a.parent().prepend("\x3ca class\x3d'oj-select-arrow oj-component-icon oj-clickable-icon-nocontext oj-select-open-icon' role\x3d'presentation'\x3e\x3c/a\x3e");
this.bpa(this.options.disabled);if(this.options.list)c.U3a(a,g("#"+this.options.list).children(),this.uw.bind(this)),a.addClass(c.uC);else if(this.options.options)c.As(this.options.options)?this.$oa(this.options.options):this.apa(this.options.options);else if(this.Y()){var b=a.children();1===b.length&&b.hasClass("oj-listbox-placeholder")||(c.s4a(a,b,this.uw.bind(this)),a.addClass(c.uC))}this._focusable({element:a,applyHighlight:!0});this.options.value||this.tt()||c.As(this.options.options)||this.Q6(this.LK());
a.change(this.NTa.bind(this));c.VU(this)},SSa:function(){var a={};a.element=this.element;a.fa=this;a=g.extend(this.options,a);this.select=this.multiple?new m:new h;this.select._init(a);this.select.La.addClass("oj-select-jet oj-form-control");this._focusable({element:this.select.selection,applyHighlight:!0})},Q6:function(a){a=this.Y()?a:Array.isArray(a)?a:[a];this.ic(a,null,{Qu:!1,_context:{mb:!0,ld:!0},changed:!0})},qb:function(){this.gu()?this.PTa():this.SSa();this.Ge(this.options.required)},refresh:function(){this._super();
this.Ap();this.qb();this.gu()&&this.options.value&&this.element.val(this.options.value);this.GP()},Ge:a.ia.Ge,ez:function(){return!1},_destroy:function(){this.Ap();this._super()},Ch:function(){this._superApply(arguments);this.select&&this.select.close()},pp:function(){this._superApply(arguments);this.select&&this.select.close()},zt:function(a){if(this.gu()&&null!=a){var b=g(this.element.children("option:first-child"));b&&""===b.attr("value")?(b.text(this.options.placeholder),b.attr("value","")):(b=
c.kV(0,"",a,this.uw.bind(this)),b.addClass("oj-listbox-placeholder"),this.cna(b,this.Vi()),b.prependTo(this.element))}},tt:function(){return"string"===typeof this.options.placeholder},zda:function(){this.bfa(null);this.zt(null)},Ah:function(b,d){this._super(b,d);a.ia.xs([{Aa:"disabled",jf:!0},{Aa:"placeholder"},{Aa:"required",ek:!0,jf:!0},{Aa:"title"}],d,this);this.multiple=this.Y()?"OJ-SELECT-MANY"===this.Fc.nodeName?!0:!1:this.options.multiple;if(void 0===this.options.value)this.Y()||(this.options.value=
void 0!==this.element.attr("value")?c.tv(this.element.val(),","):null);else{var e=this.options.value;Array.isArray(e)&&(this.Y()||(e=e.slice(0)));this.options.value=e}},validate:a.ia.validate,Pk:function(a){this.select?this.select.kn():null==a?this.tt()&&(this.element[0].selectedIndex=0,this.element.addClass("oj-select-default")):this.element.val(a)},bo:function(){if(!0===this.multiple){var a=this.select.search.val(),b=[];this.isValid()&&(b=this.select.Nd());void 0!==a&&null!==a&&""!==a&&b.push(a);
return this.ic(b,null,this.hI)}return this.select?this.ic(this.select.Nd(),null,this.hI):!0},LK:function(){var a=this.element.children("option:not(:disabled)");return 0<a.length?[g(a[0]).attr("value")]:null},OTa:function(a){var b=this.options.value,d=this.element;if(d.hasClass(c.uC))c.pua(d);else{var e=d.children();0<e.length&&e.remove()}c.As(a)?this.$oa(a):(c.Yta(d,a,this.uw.bind(this),this.options.optionsKeys),a=null,this.tt()&&(this.options.required&&(a=this.LK()),this.zt()),null===a&&(a=this.LK()),
this.options.value=a,this.option("value",b));d.addClass(c.uC)},iWa:function(a){for(var b,c=[],d=0;d<a.length;d++)b=a[d],null!=b&&(0<b.length?(1==c.length&&""===c[0]&&c.pop(),c.push(b)):0==c.length&&c.push(b));return c},_setOption:function(a,b,d){if("value"===a){if(this.tt()&&(b&&0==b.length||this.Y()&&""==b)){this._super(a,b,d);return}var e;this.select&&(e=this.select.dl,e||(e=this.select.pa.element));var f=this.Y()&&!this.multiple;Array.isArray(b)||f||(b=[b]);this.gu()&&(f||(b=this.iWa(b)),1==b.length&&
""==b[0]?this.element.addClass("oj-select-default"):this.element.removeClass("oj-select-default"));if(c.As(this.options.options)&&b){var h=this,k=this._super;c.Zaa(this.gu()?this.element:this.select.La,this.options.options,b).then(function(b){Array.isArray(b)&&b.length&&k.call(h,a,h.multiple?b:b[0])})}else{if(f)this.select&&this.select.pa.validate&&!this.select.pa.validate(e,b)&&!this.Q4()||this._super(a,b,d);else{for(var f=[],l=0;l<b.length;l++)this.select?(!this.select.pa.validate||this.select.pa.validate(e,
b[l])||this.Q4())&&f.push(b[l]):0<this.element.find("option[value\x3d'"+b[l]+"']").length&&f.push(b[l]);(0<f.length||this.multiple)&&this._super(a,f,d)}return}}else if("placeholder"===a)if(this.select)this.select.pa.placeholder=b,this.select.Ur();else{var m=this.options.value;m&&0!==m.length&&m[0]||(this.element[0].selectedIndex=0)}else"minimumResultsForSearch"===a?this.select&&(this.select.pa.minimumResultsForSearch=b):"renderMode"===a&&(this.Ap(),this.options.renderMode=b,this.refresh());"options"===
a&&b!==this.options.options&&c.laa(this);this._super(a,b,d);"disabled"===a?this.select?b?this.select.B1():this.select.Fp():this.bpa(b):"options"===a?(b!==this.options.options&&c.VU(this),this.select?(m=this.select.Nd(),c.As(b)&&m?(h=this,k=this._super,c.Zaa(this.select.La,b,this.options.value).then(function(a){Array.isArray(a)&&a.length?k.call(h,"value",h.multiple?a:a[0]):h.options.placeholder?h.select.LU(h.options.placeholder):c.ava(h.select.La,b,1).then(function(a){a&&0<a.length&&m===h.select.Nd()?
h.select.LU(a[0]):(k.call(h,"value",null),h.multiple||h.select.text.text(""))});h.select.pa.options=b;h.select.pa=h.select.Up(h.select.pa)})):(this.select.pa.options=b,this.select.pa=this.select.Up(this.select.pa),this._super("value",m))):this.OTa(b)):"required"===a&&this.gu()&&(d=g(this.element.find(".oj-listbox-placeholder")))&&""===d.attr("value")&&this.cna(d,b)},Q4:function(){var a=this.options.options,b=this.select.dl;if(b){if(0===b.children().length)return!0}else if(c.As(a)||!a||0===a.length)return!0;
return!1},EJ:function(){if(this.select&&this.select.Tf()){var a=this.select.hd;if(a&&a.attr("data-oj-containerid")===this.select.Ju)return a}return null},cna:function(a,b){b?(a.attr("disabled",""),a.attr("hidden","")):(a.removeAttr("disabled"),a.removeAttr("hidden"))},gu:function(){return"native"===this.options.renderMode},Ap:function(){var a=this.gu();a&&this.element.parent().hasClass("oj-select-native")?(this.element.off("change"),this.element.hasClass(c.uC)&&c.pua(this.element),this.element.parent().hasClass("oj-select-native")&&
(this.element.parent().children(".oj-select-arrow").remove(),this.element.unwrap()),this.element.removeClass("oj-select-select oj-component-initnode"),this.element.attr({"aria-labelledby":""})):!a&&this.select&&(this.select._destroy(),this.select=void 0)},getNodeBySubId:function(a){var b=null,c;if(null==a)return(a=this.widget())?a[0]:null;if(this.gu())return null;b=this._super(a);if(!b){var d=this.EJ();c=a.subId;switch(c){case "oj-select-drop":d&&(b=d[0]);break;case "oj-select-results":d&&(b=d.find(".oj-listbox-results")[0]);
break;case "oj-select-search":d&&(b=d.find(".oj-listbox-search")[0]);break;case "oj-select-input":case "oj-listbox-input":d&&(b=d.find(".oj-listbox-input")[0]);break;case "oj-select-choice":case "oj-select-chosen":case "oj-select-arrow":b=this.widget().find("."+c)[0];break;case "oj-listitem":d&&(b=d.find(".oj-listbox-result"),b=this.select.fh(b,a.value));break;case "oj-select-remove":b=this.widget().find(".oj-select-selected-choice");b=(a=this.select.fh(b,a.value))?g(a).find(".oj-select-clear-entry-icon")[0]:
null;break;case "oj-listbox-result-label":d&&(d=g("#"+this.select.results.attr("id")).children(),a=a.index,d.length&&a<d.length&&(b=d.eq(a).find("."+c)[0]))}}return b||null},getSubIdByNode:function(a){if(this.gu())return this._super(a);var b=null;null!=a&&(b=g(a),b=b.hasClass("oj-listbox-input")?{subId:"oj-select-input"}:b.hasClass("oj-select-arrow")?{subId:"oj-select-arrow"}:b.hasClass("oj-listbox-result")?{subId:"oj-listitem",value:b.data("ojselect").value}:b.hasClass("oj-select-clear-entry-icon")?
{subId:"oj-select-remove",value:b.closest(".oj-select-selected-choice").data("ojselect").value}:this._super(a));return b},_GetDefaultStyleClass:function(){return"oj-select"},_GetMessagingLauncherElement:function(){return this.select?this.select.selection:this.element},ze:function(){return this.select?this.select.selection:this.element}});a.Components.Gq({ojSelect:{displayOptions:{converterHint:["none"]},renderMode:a.Components.Af(function(){return(a.gc.Yc("oj-select-option-defaults")||{}).renderMode})}});
var p=c.Hx(f,{Pc:"ojinputsearch",ib:"oj-inputsearch",VI:function(){var a=g(document.createElement("div")).attr({"class":"oj-inputsearch oj-component"}).html("\x3cdiv class\x3d'oj-inputsearch-choice' tabindex\x3d'-1' role\x3d'presentation'\x3e   \x3cinput type\x3d'text' autocomplete\x3d'off' autocorrect\x3d'off' autocapitalize\x3d'off'       spellcheck\x3d'false' class\x3d'oj-inputsearch-input' role\x3d'combobox' aria-expanded\x3d'false' aria-autocomplete\x3d'list' /\x3e   \x3ca class\x3d'oj-inputsearch-search-button oj-inputsearch-search-icon oj-component-icon oj-clickable-icon-nocontext'       role\x3d'button' aria-label\x3d'search'\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d'oj-listbox-drop' style\x3d'display:none' role\x3d'presentation'\x3e   \x3cul class\x3d'oj-listbox-results' role\x3d'listbox'\x3e   \x3c/ul\x3e\x3c/div\x3e\x3cdiv role\x3d'region' class\x3d'oj-helper-hidden-accessible oj-listbox-liveregion' aria-live\x3d'polite'\x3e\x3c/div\x3e"),
b=a.find(".oj-inputsearch-search-button");this.LHa(b);return a},LHa:function(a){var b=this;a.on("click",function(a){if(b.Mr()){if(b.pa.manageNewEntry){var d=b.search.val(),e=b.pa.manageNewEntry(d),f={trigger:c.OC.QBa},g=b.selection.data(b.Pc);!g&&""!==d||g&&g.label!==d||!b.fa.isValid()&&d!==b.Kpa?b.QK(e,f,a):g&&g.label===d&&(e=g);b.TL(e,f,a)}return!1}}).on("mousedown",function(a){a.stopPropagation();return!1})},Fp:function(a){p.N.Fp.apply(this,arguments);this.ID?this.La.find(".oj-inputsearch-search-button").removeClass("oj-disabled"):
this.La.find(".oj-inputsearch-search-button").addClass("oj-disabled")},TL:function(a,b,c){var d;b&&(d=b.trigger);b={_context:{uy:{trigger:d}}};var e=this.id(a);e&&0!==e.length||(e=a.label?a.label:[]);void 0!==this.fa.F_(e,c,b)&&this.fa.isValid()&&("string"===typeof e&&(e=[e]),this.fa._trigger("update",c,{value:e,optionMetadata:{trigger:d}}))},Up:function(a){a=p.N.Up.apply(this,arguments);a.bxa=function(){return!0};return a}});a.hb("oj.ojInputSearch",g.oj.editableValue,{defaultElement:"\x3cinput\x3e",
widgetEventPrefix:"oj",options:{placeholder:void 0,required:!1,list:void 0,options:null,optionsKeys:null,pickerAttributes:null,optionRenderer:null,minLength:0,beforeExpand:null,rawValue:void 0,optionChange:null,update:null,validators:void 0},widget:function(){return this.Gd.La},qc:function(){this._super();this.qb()},Ah:function(b,d){this._super(b,d);a.ia.xs([{Aa:"disabled",jf:!0},{Aa:"placeholder"},{Aa:"required",ek:!0,jf:!0},{Aa:"title"}],d,this);if(void 0===this.options.value)this.options.value=
void 0!==this.element.attr("value")?c.tv(this.element.val(),","):null;else{var e=this.options.value;Array.isArray(e)?e=e.slice(0):"string"===typeof e&&(e=[e]);this.options.value=e}},kt:function(a,b,c){this._superApply(arguments);switch(a){case "required":this.yg(a);break;case "validators":this.Ti(a)}},Vi:function(){return this.options.required},yg:a.ia.yg,Ti:a.ia.Ti,Ge:a.ia.Ge,Xq:a.ia.Xq,ez:function(){return!1},qb:function(){var a={};a.element=this.element;a.fa=this;a.Gd=!0;a=g.extend(this.options,
a);this.Gd=new p;this.Gd._init(a);this.Ge(this.options.required)},_destroy:function(){this.Gd._destroy();this._super()},refresh:function(){this._super();this.Gd._destroy();this.qb();this.GP()},_setOption:function(b,c,d){"value"===b&&(null!=c&&(Array.isArray(c)?c=c.slice(0):"string"===typeof c?c=[c]:a.D.error("ojInputSearch value has to be an array of string or a string.")),this.Gd.$aa=d&&d._context&&d._context.uy?d._context.uy.trigger:null);this._super(b,c,d);"options"===b&&(this.Gd.pa.options=c,
this.Gd.pa=this.Gd.Up(this.Gd.pa));"disabled"===b&&(c?this.Gd.B1():this.Gd.Fp())},Ch:function(){this._superApply(arguments);this.Gd.close()},pp:function(){this._superApply(arguments);this.Gd.close()},Pk:function(){this.Gd.kn()},zt:function(a){this.Gd&&(this.Gd.pa.placeholder=a,this.Gd.Ur&&this.Gd.Ur())},validate:function(){var a=this.Gd.search.val(),b=null,b=[];this.isValid()&&(b=this.Gd.Nd());b=void 0===a||null===a||""===a?b:[a];return this.ic(b,null,this.hI)},uT:function(b){var c=[];if(null==b)return c;
if(Array.isArray(b))for(var d=0;d<b.length;d++){var e=this._super(b[d]);c.push(e.toString())}else"string"===typeof b?(e=this._super(b),c.push(e.toString())):a.D.error("ojInputSearch value has to be an array of string or a string.");return c},_GetMessagingLauncherElement:function(){return this.Gd.search},ze:function(){return this.Gd.search},_GetDefaultStyleClass:function(){return"oj-inputsearch"},EJ:function(){if(this.Gd&&this.Gd.Tf())for(var a=g(".oj-listbox-drop"),b=0;b<a.length;b++)if("oj-listbox-drop"==
g(a[b]).attr("id")&&g(a[b]).attr("data-oj-containerid")==this.Gd.Ju)return g(a[b]);return null},expand:function(){this.Gd.open()},collapse:function(){this.Gd.close()},getNodeBySubId:function(a){var b=null,c;if(null===a)return this.Gd.La?this.Gd.La[0]:null;b=this._super(a);if(!b)switch(c=a.subId,"oj-inputsearch-search"===c&&(c="oj-inputsearch-search-button"),c){case "oj-inputsearch-input":case "oj-inputsearch-search-button":b=this.widget().find("."+c)[0];break;case "oj-listitem":if(c=this.EJ())b=c.find(".oj-listbox-result"),
b=this.Gd.fh(b,a.value)}return b||null},getSubIdByNode:function(a){var b=null;null!=a&&(b=g(a),b=b.hasClass("oj-inputsearch-input")?{subId:"oj-inputsearch-input"}:b.hasClass("oj-inputsearch-search-button")?{subId:"oj-inputsearch-search"}:b.hasClass("oj-listbox-result")?{subId:"oj-listitem",value:b.data("ojinputsearch").value}:this._super(a));return b}});a.J.Ua("oj-combobox-one","editableValue",{properties:{converter:{type:"Object"},minLength:{type:"number"},optionRenderer:{},options:{},optionsKeys:{type:"Object"},
pickerAttributes:{type:"Object"},placeholder:{type:"string"},rawValue:{type:"string",readOnly:!0,writeback:!0},required:{type:"boolean"},value:{type:"any",writeback:!0},validators:{type:"Array"}},methods:{validate:{}},extension:{Dj:"input",Xa:"ojCombobox"}});a.J.register("oj-combobox-one",{metadata:a.J.getMetadata("oj-combobox-one")});a.J.Ua("oj-combobox-many","editableValue",{properties:{converter:{type:"Object"},minLength:{type:"number"},optionRenderer:{},options:{},optionsKeys:{type:"Object"},
pickerAttributes:{type:"Object"},placeholder:{type:"string"},rawValue:{type:"string",readOnly:!0,writeback:!0},required:{type:"boolean"},value:{type:"Array",writeback:!0},validators:{type:"Array"}},methods:{validate:{}},extension:{Dj:"input",Xa:"ojCombobox"}});a.J.register("oj-combobox-many",{metadata:a.J.getMetadata("oj-combobox-many")});a.J.Ua("oj-select-one","editableValue",{properties:{minimumResultsForSearch:{type:"number"},optionRenderer:{},options:{},optionsKeys:{type:"Object"},pickerAttributes:{type:"Object"},
placeholder:{type:"string"},renderMode:{type:"string"},required:{type:"boolean"},value:{type:"any",writeback:!0}},methods:{validate:{}},extension:{Dj:"select",Xa:"ojSelect"}});a.J.register("oj-select-one",{metadata:a.J.getMetadata("oj-select-one")});a.J.Ua("oj-select-many","editableValue",{properties:{minimumResultsForSearch:{type:"number"},optionRenderer:{},options:{},optionsKeys:{type:"Object"},pickerAttributes:{type:"Object"},placeholder:{type:"string"},renderMode:{type:"string"},required:{type:"boolean"},
value:{type:"Array",writeback:!0}},methods:{validate:{}},extension:{Dj:"select",Xa:"ojSelect"}});a.J.register("oj-select-many",{metadata:a.J.getMetadata("oj-select-many")})});