/**
 * Copyright (c) 2014, 2017, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojcomponentcore","ojdnd"],function(a,g){function c(){}c.ao="oj-expanded";c.Ej="oj-collapsed";c.oz="oj-hover";c.qp="oj-selected";c.fg="oj-disabled";c.k7a="oj-default";c.cD="oj-treenode-temp";a.Ia=function(a){this.Init(a)};a.f.va(a.Ia,a.f,"oj.TreeDndContext");a.Ia.prototype.Init=function(b){a.Ia.N.Init.call(this);this.W=b;this.options=b.options;this.Pqa()};a.f.j("TreeDndContext.prototype.Init",{Init:a.Ia.prototype.Init});a.Ia.prototype.f$=function(){var a=this.Be;
return a.reorder||a.fl};a.Ia.prototype.B3a=function(){var a=this.Be;return a.reorder||a.hq};a.Ia.prototype.H2a=function(){var b=this.Be,c=a.Ia,e=b.reorder,f=b.fl;this.aja();this.kxa();b=this.Be;if(e!=b.reorder||f!=b.fl)b.reorder||b.fl||this.W.Ja.find("li").removeClass(c.LZ).removeClass(c.sP).removeClass(c.Tv).removeAttr("draggable");this.jxa()};a.Ia.prototype.kxa=function(){var b=this.options.dnd,c=this.Be,e=a.Ia,f=!0,h;c.reorder=!1;"object"!=typeof b?this.options.dnd={reorder:"disable"}:(h=b[e.hDa],
"string"===typeof h&&("enable"===h?(c.reorder=!0,f=!1):"disable"==h&&(f=!1)),f&&(this.options.dnd.reorder="disable"),h=b[e.ZCa],"object"==typeof h&&(h=h[e.Ida],"object"==typeof h&&(f=h[e.bDa],"function"==typeof f&&(c.rM=f,c.fl=!0),f=h[e.$Ca],"function"==typeof f&&(c.rV=f,c.fl=!0),f=h[e.aDa],"function"==typeof f&&(c.Q8=f,c.fl=!0),f=h[e.Hda],g.isArray(f)?(c.pB=f.slice(),c.fl=!0):"string"==typeof f&&(c.pB=[f],c.fl=!0))),h=b[e.cDa],"object"==typeof h&&(h=h[e.Ida],"object"==typeof h&&(f=h[e.dDa],"function"==
typeof f&&(c.tV=f,c.hq=!0),f=h[e.fDa],"function"==typeof f&&(c.vV=f,c.hq=!0),f=h[e.eDa],"function"==typeof f&&(c.uV=f,c.hq=!0),f=h[e.gDa],"function"==typeof f&&(c.wV=f,c.hq=!0),f=h[e.Hda],g.isArray(f)?(c.sV=f.slice(),c.hq=!0):"string"==typeof f&&(c.sV=[f],c.hq=!0))),c.reorder||(c.pB||c.rM||(c.fl=!1,c.rM=c.rV=c.Q8=c.pB=null),c.wV||(c.hq=!1,c.tV=c.vV=c.uV=c.wV=c.sV=null)),c.fX=c.reorder&&!c.fl)};a.Ia.prototype.jxa=function(){var b=this.Be,c=b.Wg,e=a.Ia;if(b.fl||b.hq||b.reorder){a.Ia.hja?(c.Cs=a.Ia.hja,
c.Wo=a.Ia.qLa):(c.Cs=g("\x3cdiv class\x3d'oj-tree-drop-marker'\x3e\x3cspan class\x3d'oj-tree-drop-ptr oj-component-icon'\x3e\x26#160;\x3c/span\x3e\x3c/div\x3e").css("pointer-events","none").hide().appendTo("body"),c.Wo=g("\x3cdiv /\x3e").addClass(e.KEa).css("pointer-events","none").hide().appendTo("body"),a.Ia.hja=c.Cs,a.Ia.qLa=c.Wo);b.pya=c.Wo.width();var c=this.W.element[0],f=g(c).children("ul:eq(0)");if(b.reorder||b.fl)b.Z8=this.L1.bind(this),b.V8=this.nLa.bind(this),g(c).on("dragstart",b.Z8),
g(c).on("dragend",b.V8),f.length&&f.find("li").addClass(e.LZ).addClass(e.sP).addClass(e.Tv).attr("draggable","true");if(b.reorder||b.hq)b.T8=this.lLa.bind(this),b.W8=this.oLa.bind(this),b.Y8=this.sLa.bind(this),b.X8=this.pLa.bind(this),b.U8=this.mLa.bind(this),g(c).on("drag",b.T8),g(c).on("dragenter",b.W8),g(c).on("dragover",b.Y8),g(c).on("dragleave",b.X8),g(c).on("drop",b.U8)}};a.Ia.prototype.$Ia=function(){this.aja()};a.Ia.prototype.L1=function(b){var d,e,f,h=g(b.target).closest("li"),k=b.originalEvent.dataTransfer;
d=this.Be;e=d.Wg;e.Xc=null;e.ab=null;d.WB=null;d.Y$=null;d.yN=null;d.sM=!1;if(!d.reorder&&!d.fl||h.hasClass(c.fg)||this.W.p.Ca.locked)b.preventDefault();else{if(!this.W.kha(h,"move"))return!1;e=this.W.isSelected(h)?this.W.jb(null,!0):e=h;(d.fl||d.fX)&&this.pXa(k,e);this.sXa(k,e);if(d.rM){f=this.$Ma(e);f=d.rM(b,{item:f});if(b.isDefaultPrevented()||"boolean"===typeof f&&!f)return f;if(!d.pB&&!this.AIa(k)&&!d.reorder)return b.preventDefault(),!1}"uninitialized"===k.effectAllowed&&(k.effectAllowed=d.fX?
"move":a.T.Bs(b)?"copy":"move");this.dLa(e,h,b)}};a.Ia.prototype.lLa=function(a){var c=this.Be;c.rV&&c.rV(a)};a.Ia.prototype.oLa=function(b){this.W.Ja[0].firstChild||this.SGa();var d=g(b.target),e=this.W.jb(d),f=this.Be,h=f.Wg,k=e&&0<e.length&&e.hasClass("oj-tree-node"),l=b.originalEvent.dataTransfer,m=a.Ia,p=!1,t=!1,s;k&&e.hasClass(c.cD)&&(f.js=!0);if(!k||"UL"!=b.target.tagName||"group"!=b.target.getAttribute("role"))if(f.hk=!f.sM,!f.hk&&!f.reorder||f.hk&&this.K4(l,m.qZ))this.Sz();else{if(f.hk&&
(p=this.K4(l,m.pZ),!f.hq)){this.Sz();return}h.ab=!1;f.WB&&this.OI(f.WB);d.hasClass("oj-tree")&&(e=f.WB);if(!e||!e.length||e.attr("id")!=f.yN){p&&k&&(f.WB=null,h.Xc=2);f.hk&&!p&&(h.Xc=1);h.ab=e;f.WB=e;this.bja(b,e);if(this.ZKa()){h.ab.removeClass(m.MZ).addClass(m.Tv).addClass(m.xea);f.tV&&(s=f.tV(b,{item:f.js?null:e,position:f.js?"first":f.ll,reference:f.js?null:h.ab}));if(void 0===s)this.Xna(l)?(b.preventDefault(),b.stopPropagation()):t=f.hk||!f.reorder;else if(!1===s||b.isDefaultPrevented())b.preventDefault(),
b.stopPropagation();else if(f.hk||!f.reorder)t=f.hk||!f.reorder;t&&this.Sz();return s}this.OI(h.ab);h.ab=null}this.DD()}};a.Ia.prototype.sLa=function(a){var c=this.Be,e=c.Wg,f=a.originalEvent.dataTransfer,g=!1,k,l,m;if(e.ab&&e.ab.length&&(l=e.ab,l.hasClass("oj-tree-node")&&(k=l.attr("id"),k!=c.yN&&(this.bja(a,l),this.H1())))){c.vV&&(m=c.vV(a,{item:c.js?null:l,reference:c.js?null:e.ab,position:c.js?"first":e.p$}));if(void 0===m)this.Xna(f)?(a.preventDefault(),a.stopPropagation()):g=c.hk||!c.reorder;
else if(!1===m||a.isDefaultPrevented())a.preventDefault(),a.stopPropagation();else if(c.hk||!c.reorder)g=c.hk||!c.reorder;g&&this.Sz();return m}this.DD()};a.Ia.prototype.mLa=function(a){var c=this.Be,e=c.Wg,f=!1,g;if(e.ab){if(c.wV)g=c.wV(a,{reference:c.js?null:e.ab,position:c.js?"first":e.p$,reorder:!c.hk&&c.reorder});else if(c.hk||!c.reorder)f=!0;f||g&&!a.isDefaultPrevented()||this.$Ka(a)}c.hk&&this.Sz();f||(a.preventDefault(),a.stopPropagation());c.Y$=null;return g};a.Ia.prototype.nLa=function(a){var c=
this.Be,e=c.Wg;c.Q8&&c.Q8(a,{reorder:c.reorder&&!1===e.Xc});this.eLa();this.Sz()};a.Ia.prototype.SGa=function(){this.Ina||(this.Ina=g("\x3cli class\x3d'"+c.cD+" oj-tree-node oj-tree-leaf oj-valid-drop' id\x3d'"+c.cD+"'\x3e\x3cins class\x3d'oj-tree-icon'\x3e\x3c/ins\x3e\x3ca href\x3d'#'\x3e\x3cins class\x3d'oj-tree-icon'\x3e\x3c/ins\x3e\x3cspan class\x3d'oj-tree-title'\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e"));this.W.Ja.append(this.Ina)};a.Ia.prototype.pLa=function(a){var c=this.Be,e=c.Wg,f=g(a.target),
h=f.closest("li"),k=h&&0<h.length&&h.hasClass("oj-tree-node");h.attr("id");var l=a.originalEvent.dataTransfer;c.uV&&c.uV(a,{item:c.js?null:h});f.hasClass("oj-tree")||!k||"none"==l.dropEffect?this.aLa(a):c.Y$=h;e.ab&&this.OI(e.ab)};a.Ia.prototype.ZKa=function(){var a=this.Be,d=a.Wg,e;a.dX=!1;e=this.H1();var f=a.w4a;f&&(a.j9a&&clearTimeout(a.mv),d.ab&&d.ab.length&&d.ab.hasClass(c.Ej)&&(a.mv=setTimeout(this.bLa.bind(this),f)));a=typeof e;return"boolean"==a&&e||"string"==a};a.Ia.prototype.bLa=function(){var a=
this.Be,c=a.Wg;a.mv=!1;this.W.qe(c.ab,this.H1.bind(this),!0)};a.Ia.prototype.$Ka=function(b){var c=this.Be,e=c.Wg;c.sM&&c.reorder&&"object"==typeof e.Xc&&0<e.Xc.length&&(this.W.JK(e.Xc,e.ab,e.p$,a.T.Bs(b)),e.Xc=!1)};a.Ia.prototype.SQ=function(a){a.hasClass(c.qp)&&(a.removeClass(c.qp),this.W.vi(a,!0));var d=(a=this.W.getChildren(a))&&a.length?a.length:0,e;for(e=0;e<d;e++)this.SQ(g(a[e]))};a.Ia.prototype.bja=function(a,d){var e=this.Be;d&&(d.hasClass(c.cD)?e.ll="after":(a=a.originalEvent,e.off=d.offset(),
e.ll=a.pageY-(e.off.top||0),e.ll=e.ll>=this.W.p.Ca.Ux?"after":0>e.ll?"before":"inside","after"===e.ll&&d.hasClass(c.ao)&&(e.ll="first")))};a.Ia.prototype.aLa=function(a){var c=this.Be,e=c.Wg;c.after=!1;c.before=!1;c.dG=!1;c.W8a=null;this.DD();e.ab&&e.ab[0]===a.target.parentNode&&c.mv&&(clearTimeout(c.mv),c.mv=!1)};a.Ia.prototype.Sz=function(){this.DD();var a=this.Be,c=a.Wg;c.Xc=!1;c.ab=!1;a.mv&&clearTimeout(a.mv);a.yN=null;a.hk=!1;a.WB=null;a.Y$=null;a.after=!1;a.before=!1;a.dG=!1;a.off=!1;a.dX=!1;
a.mv=!1;a.hk=!1;a.js=!1};a.Ia.prototype.aja=function(){var a=this.Be,c;c=g(this.W.lb[0]);c.off("dragstart",a.Z8);c.off("dragend",a.V8);c.off("drag",a.T8);c.off("dragenter",a.W8);c.off("dragover",a.Y8);c.off("dragleave",a.X8);c.off("drop",a.U8);this.Sz();this.Pqa()};a.Ia.prototype.H1=function(){var a=this.Be,c=a.Wg,e=this.W,f=!1;if(!c.ab||!c.ab.length)return!1;if("number"==typeof c.Xc&&(1===c.Xc||2===c.Xc))f=!0;else if(!c.Xc)return!1;a.off=c.ab.offset();this.W.sE&&(a.off.right=a.off.left+c.ab.width()-
c.ab.find("\x3ea").width()-30);a.aAa=c.ab.find("a").width();f?(a.before="before"==a.ll,a.after="after"==a.ll,a.dG="inside"==a.ll):(e.XK(c.Xc,c.ab,"before"),a.before=e.rQ(),e.XK(c.Xc,c.ab,"after"),a.after=e.rQ(),this.W.ju(c.ab)?(e.XK(c.Xc,c.ab,"inside"),a.dG=e.rQ()):a.dG=!1);a.dX=!0;return this.cLa()};a.Ia.prototype.cLa=function(){var b=this.Be,c=!1,e=a.Ia,f=b.Wg,g=this.W.sE,k,l,m,p=this.W.p.Ca.Ux,t=!1;if(!b.dX)return this.DD(),t;if("after"==b.ll&&b.after||"inside"==b.ll&&b.dG||"before"==b.ll&&b.before||
"first"==b.ll)t=b.ll;"first"===t&&(c=f.ab.find("li:eq(0)"),b.off=c.offset());l=g?b.off.right-18:b.off.left+5;c=!this.W.isLeaf(f.ab);k=g?l+b.aAa+18:l;l=g?k-b.pya:l+8;m=b.off.top-3;switch(t){case "before":case "first":this.IK(f.Cs,{left:k,top:m-7});f.Wo&&this.IK(f.Wo,{left:l,top:m});break;case "after":m+=p;this.IK(f.Cs,{left:k,top:m-2});f.Wo&&this.IK(f.Wo,{left:l,top:m+6});break;case "inside":this.IK(f.Cs,{left:k+(g?c?-4:0:4),top:b.off.top+p/2-8});f.Wo&&f.Wo.hide();break;default:this.DD()}t?f.ab.removeClass(e.MZ).addClass(e.Tv):
f.ab.removeClass(e.Tv).removeClass(e.Tv);return f.p$=t};a.Ia.prototype.DD=function(){var a=this.Be.Wg;a&&(a.Cs&&a.Cs.hide(),a.Wo&&a.Wo.hide(),a.ab&&this.OI(a.ab))};a.Ia.prototype.IK=function(a,c){c.left+="px";c.top+="px";a.css(c).show()};a.Ia.prototype.dLa=function(b,c,e){var f=this.Be,g=f.Wg,k=a.Ia;g.Xc=b;g.Xc.addClass(k.sP);f.yN=c.attr("id");try{e.currentTarget.unselectable="on",e.currentTarget.onselectstart=function(){return!1},e.currentTarget.style&&(e.currentTarget.style.MozUserSelect="none")}catch(l){}this.W.LSa()&&
g.Cs&&g.Cs.addClass("oj-tree-"+this.W.p.Bd.NG);b=this.W.lb;f.d0a=b.offset();f.I0a=parseInt(b.width(),10);f.ch=parseInt(b.height(),10);f.sM=!0};a.Ia.prototype.eLa=function(){var b=this.Be,c=b.Wg,e=a.Ia;c.ab&&this.OI(c.ab);"number"!=typeof c.Xc&&c.Xc&&c.Xc.removeClass(e.sP);this.UQ&&(document.body.removeChild(this.UQ),this.UQ=null);b.sM=!1};a.Ia.prototype.pXa=function(b,c){var e=this.Be,f=a.Ia,g,k;(g=this.W.Jfa(c))&&(k=JSON.stringify(g));if(e.pB)for(g=0;g<e.pB.length;g++)b.setData(e.pB[g],k);b.setData(f.pZ,
"0");e.fX&&b.setData(f.qZ,"0")};a.Ia.prototype.sXa=function(a,c){var e,f,h,k=c.length,l;if(1===k)this.UQ=null;else{e=g("\x3cdiv\x3e\x3c/div\x3e");f=g("\x3cul style\x3d'padding:0px;margin:0;'\x3e\x3c/ul\x3e");e.append(f);for(l=0;l<k;l++)h=c[l].cloneNode(!0),h.style.marginLeft=0,h.style.paddingLeft=0,f.append(h);f=e[0];document.body.appendChild(f);f.style.position="absolute";f.style.top="-"+2*e.height()+"px";f.style.right="0";this.UQ=f;a.setDragImage(f,0,0)}};a.Ia.prototype.K4=function(a,c){var e=a.types,
f=e.length,g;for(g=0;g<f;g++)if(c==e[g])return!0;return!1};a.Ia.prototype.Xna=function(a){var c=this.Be.sV,e=!1,f;if(c)for(e=!(0<c.length),f=0;f<c.length;f++){if(this.K4(a,c[f])){e=!0;break}}else e=!0;return e};a.Ia.prototype.AIa=function(b){var c=(b=b.types)&&b.length?b.length:0,e=a.Ia,f=!1,g,k;for(k=0;k<c;k++)if(g=b[k],g!=e.pZ&&g!=e.qZ){f=!0;break}return f};a.Ia.prototype.OI=function(b){var c=a.Ia;b&&b.removeClass(c.Tv).removeClass(c.MZ).removeClass(c.xea)};a.Ia.prototype.$Ma=function(a){var c=
[];a&&a.each(function(){c.push(this)});return c};a.Ia.prototype.Pqa=function(){var a={};this.Be=a;a.reorder=!1;a.fX=!1;a.hk=!1;a.sM=!1;a.yN=null;a.WB=null;a.Z8=null;a.V8=null;a.T8=null;a.W8=null;a.Y8=null;a.X8=null;a.U8=null;a.fl=!1;a.hq=!1;a.rM=null;a.rV=null;a.F8a=null;a.tV=null;a.vV=null;a.uV=null;a.G8a=null;a.sV=null;a.after=!1;a.dG=!1;a.before=!1;a.off=!1;a.dX=!1;a.mv=!1;a.d0a=!1;a.I0a=!1;a.ch=!1;a.pya=100;a.aAa=100;a.w4a=500;a.Wg={};a.Wg.Xc=!1;a.Wg.ab=!1;a.Wg.Cs=!1;a.Wg.Wo=!1};a.Ia.prototype.oZa=
function(){};a.Ia.LZ="oj-draggable";a.Ia.sP="oj-drag";a.Ia.xea="oj-active-drop";a.Ia.Tv="oj-valid-drop";a.Ia.MZ="oj-invalid-drop";a.Ia.l7a="oj-drop";a.Ia.j7a="oj-tree-drop-marker";a.Ia.KEa="oj-tree-drop-marker-line";a.Ia.hDa="reorder";a.Ia.ZCa="drag";a.Ia.cDa="drop";a.Ia.Ida="node";a.Ia.Hda="dataTypes";a.Ia.bDa="dragStart";a.Ia.$Ca="drag";a.Ia.aDa="dragEnd";a.Ia.dDa="dragEnter";a.Ia.fDa="dragOver";a.Ia.eDa="dragLeave";a.Ia.gDa="drop";a.Ia.pZ="_ojtree";a.Ia.qZ="_ojtreereorder";(function(){function b(a){n.push(a);
g(a.vra).keydown(d)}function d(b){var c="";a.T.Bs(b)?c+="ctrl+":b.shiftKey&&(c+="shift+");var d=b.which;switch(d){case 32:c+="space";break;case 37:c+="left";break;case 38:c+="up";break;case 39:c+="right";break;case 40:c+="down";break;case 46:c+="del";break;case 33:c+="pgup";break;case 34:c+="pgdn";break;case 35:c+="end";break;case 36:c+="home";break;case 56:c="*";break;case 113:case 121:c+="f"+(1-(112-d))}if(0===c.length||"shift+"==c||"ctrl+"==c)return!0;var e=null;g.each(n,function(a,d){if(d.tx.p.ui.qs)return d.tx.p.ui.gC=
!1,"shift+f10"==c?(d.tx.p.menu.hB=d.tx.p.ui.jd,d.tx.p.menu.hB||(d.tx.p.menu.hB=d.tx.p.ui.qd)):d.Vma[c]&&(b.preventDefault(),e=d.Vma[c].call(d.tx,b)),!1});if(null!=e)return e}function e(a){g.each(n,function(b){if(n[b].vra===a)return g(a).off("keydown"),n[b]=null,n.splice(b,1),!1})}function f(a){var b=!0,c;for(c in a)if(a.hasOwnProperty(c)){b=!1;break}return b}function h(a){var b=!1,c=!0;a.AX&&(a.title&&(b=g("style[id\x3d'"+a.title+"-stylesheet']")[0]),b?c=!1:(b=document.createElement("style"),b.setAttribute("type",
"text/css"),a.title&&b.setAttribute("id",a.title+"-stylesheet")),b.styleSheet?c?(document.getElementsByTagName("head")[0].appendChild(b),b.styleSheet.cssText=a.AX):b.styleSheet.cssText=b.styleSheet.cssText+" "+a.AX:(b.appendChild(document.createTextNode(a.AX)),document.getElementsByTagName("head")[0].appendChild(b)))}var k={cut:"ojtreecut",copy:"ojtreecopy",paste:"ojtreepaste","paste-after":"ojtreepasteafter","paste-before":"ojtreepastebefore",remove:"ojtreeremove",rename:"ojtreerename"},l={cut:"labelCut",
copy:"labelCopy",paste:"labelPaste","paste-after":"labelPasteAfter","paste-before":"labelPasteBefore",remove:"labelRemove",rename:"labelRename"},m="id title class role draggable style".split(" "),p,t,s;g(function(){/msie/.test(navigator.userAgent.toLowerCase())?(t=g('\x3ctextarea cols\x3d"10" rows\x3d"2"\x3e\x3c/textarea\x3e').css({position:"absolute",top:-1E3,left:0}).appendTo("body"),s=g('\x3ctextarea cols\x3d"10" rows\x3d"2" style\x3d"overflow: hidden;"\x3e\x3c/textarea\x3e').css({position:"absolute",
top:-1E3,left:0}).appendTo("body"),p=t.width()-s.width(),t.add(s).remove()):(t=g("\x3cdiv /\x3e").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1E3,left:0}).prependTo("body").append("\x3cdiv /\x3e").find("div").css({width:"100%",height:200}),p=100-t.width(),t.parent().remove())});var n=[],q=-1;a.hb("oj.ojTree",g.oj.baseComponent,{widgetEventPrefix:"oj",defaultElement:"\x3cdiv\x3e",options:{dnd:{reorder:"disable"},expandParents:!1,initExpanded:null,p3a:[],selection:[],selectionMode:"single",
selectedParentCollapse:!1,selectedParentExpand:!0,selectPrevOnDelete:!1,data:null,emptyText:null,icons:!0,types:null,before:null,collapse:null,create:null,collapseAll:null,cut:null,dehover:null,remove:null,destroy:null,expand:null,expandAll:null,hover:null,loaded:null,move:null,paste:null,refresh:null,rename:null},collapse:function(a,b){var d=(b=b||!1)?0:this.U_;a=this.jb(a);if(!a.length||-1===a||!a.hasClass(c.ao)||this.p.Ca.locked||a.hasClass(c.fg))return!1;var e=this.nd({obj:a,func:"collapse"},
"before");if("boolean"!=typeof e||e)a.removeClass(c.ao).addClass(c.Ej).attr("aria-expanded","false"),g(a.children()[0]).removeClass(c.qp).addClass("oj-default"),this.Fz.push({tg:"c",id:a.attr("id")}),this.Bg("Tree (id\x3d'"+this.Ep+"') : node id\x3d'"+a.attr("id")+"' is animating."),!b&&d?this.Xr(a,!0):this.F7(g(a.children("UL")[0]),a)},Xr:function(a,b){var c,d,e;c=g(a.children("ul"));this.roa?c[0].addEventListener("webkitTransitionEnd",this.zT):c[0].addEventListener("transitionend",this.zT);b?(d=
c[0].offsetHeight,e=0):(d=0,e=this.cNa(c[0]));c.css("max-height",d+"px");this.CA=c.css("overflow");c.css("overflow","hidden");b||(c[0].style.display="block");setTimeout(function(){c.addClass("oj-tree-transition");c.css("max-height",e+"px")},20)},cNa:function(a){var b,c,d,e,f=g("\x3cdiv style\x3d'position: absolute'\x3e");b=a.parentNode;c=a.nextSibling;b.removeChild(a);e=a.style.display;a.style.display="block";f.append(a);this.lb[0].appendChild(f[0]);d=a.offsetHeight||a.scrollHeight;a.style.display=
e;this.lb[0].removeChild(f[0]);f[0].removeChild(a);c?b.insertBefore(a,c):b.appendChild(a);return d+10},mF:function(a){a=g(a.target);var b=a.closest("li");this.roa?a[0].removeEventListener("webkitTransitionEnd",this.zT):a[0].removeEventListener("transitionend",this.zT);a.removeClass("oj-tree-transition");this.F7(a,b)},F7:function(a,b){var d;b.hasClass(c.Ej)?(d="c",a[0].style.display="none",a.css("max-height",""),this.nd({obj:b},"collapse"),this.after_close(b)):(d="e",a[0].style.display="block",a.css("max-height",
""),this.nd({obj:b},"expand"));this.CA&&(a.css("overflow",this.CA),this.CA=null);this.lL(d,b.attr("id"));this.VT()},collapseAll:function(a,b){var d=a?a:-1,e=this;if(!this.p.Ca.locked&&((a=a?this.jb(a):this.lb)&&-1!==d&&(d=a),a&&-1!==d||(a=this.Ja),!a.hasClass(c.fg))){var f;-1!==d&&this.isExpanded(a)&&(f=a[0]);var g=a.find("li.oj-expanded");g.length&&g.each(function(){e.collapse(this,!b)});f&&(this.collapse(f,!b),g.splice(0,0,f));g.length&&this.nd({obj:g,targ:d},"collapseAll")}},expand:function(a,
b){this.qe(a,!1,b)},expanded:function(a,b){var c,d,e=this;if(a&&"array"===g.type(a)){if(this.p.Ca.locked)return null;d=a.length;g.each(a,function(a,c){e.qe(c,!1,b)});return null}a=this.Ja.find("li.oj-expanded");d=a.length;c=[];for(var f=0;f<d;f++)c.push(a[f]);return g(c)},expandAll:function(a,b){this.R1(a,b)},toggleExpand:function(a,b){if((a=this.jb(a))&&a.length&&-1!==a&&!a.hasClass(c.fg)&&!this.p.Ca.locked){if(a.hasClass(c.Ej))return this.expand(a,b);if(a.hasClass(c.ao))return this.collapse(a,b)}},
deselect:function(a){var b=this.options.selection.slice(0);this.Qz(a);this.Vz("selection",b,null,null)},deselectAll:function(a){if(!this.p.Ca.locked){var b=this.options.selection.slice(0);this.LQ(a);this.Vz("selection",b,null,null)}},select:function(a){this.vi(a,!0)},toggleSelect:function(a){a=this.jb(a);if(!a.length||a.hasClass(c.fg)||this.p.Ca.locked)return!1;this.qi(a)?this.deselect(a):this.vi(a,!0);return!0},isCollapsed:function(a){return(a=this.jb(a))&&-1!==a&&a.hasClass(c.Ej)},isExpanded:function(a){return(a=
this.jb(a))&&-1!==a&&a.hasClass(c.ao)},isLeaf:function(a){return this.Ao(a)},isSelected:function(a){return this.qi(a)},create:function(a,b,c){var d,e,f;e=g.isArray(c);if(!e||1==c.length)return d=this.XI(a,b,e?c[0]:c),this.Ar().SQ(d),d;e=[];if("before"!=b)for(f=c.length-1;0<=f;f--)d=this.XI(a,b,c[f]),e.unshift(d[0]),this.Ar().SQ(d);else for(f=0;f<c.length;f++)d=this.XI(a,b,c[f]),e.push(d[0]),this.Ar().SQ(d);return g(e)},remove:function(a){a=this.jb(a);if(!a.length||a.hasClass(c.fg)||this.p.Ca.locked)return!1;
var b=this.nd({obj:a,func:"remove"},"before");if("boolean"==typeof b&&!b)return!1;this.yz();var b=this.Kp(a),d=g([]),e=this,f=this.bu(a);a.each(function(){d=d.add(e.bu(this))});a=a.detach();-1!==b&&0===b.find("\x3e ul \x3e li").length&&b.removeClass("oj-expanded oj-collapsed").addClass("oj-tree-leaf").removeAttr("aria-expanded");this.Jl(b);this.nd({obj:a,prev:f,parent:b},"remove");return a},getText:function(a){a=this.jb(a);if(!a.length)return!1;a=a.children("a:eq(0)");a=a.find("span:eq(0)");return a[0].textContent},
rename:function(a,b){b=this.JD(b);this.Fqa(a,b)},hover:function(a){this.mRa(a)},dehover:function(){this.Fia()},getPath:function(a,b){var c=[],d=this;a=this.jb(a);if(-1===a||!a||!a.length)return!1;a.parentsUntil(".oj-tree","li").each(function(){c.push(b?this.id:d.getText(this))});c.reverse();c.push(b?a.attr("id"):this.getText(a));return c},getRoot:function(){return this.lb.children("ul:eq(0)")},refresh:function(a){this._super();this.p.Ca.locked||this.kg(a?a:-1)},move:function(a,b,c,d){this.JK(a,b,
c,d)},getType:function(a){return this.C3(a)},setType:function(a,b){return this.kYa(a,b)},getNodeBySubId:function(a){return a?this.YUa(a):this.element?this.element[0]:null},getSubIdByNode:function(a){return this.wOa(a)},getContextByNode:function(a){var b,c;a=this.jb(null==a||void 0==a?0:a);b=-1!=a&&0<a.length;c=-1==a;return b||c?{subId:b?"oj-tree-node":"oj-tree",item:b?a[0]:null,node:b?a:!1,leaf:b?this.Ao(a):!1}:null},getParent:function(a){return(a=this.Kp(a))&&0<a.length?a:null},getPrevSibling:function(a){return(a=
this.bu(a,!0))&&0<a.length?a:null},getNextSibling:function(a){return(a=this.bA(a,!0))&&0<a.length?a:null},getChildren:function(a){return(a=(a=this.KMa(a?a:-1))&&a.length?a.not("."+c.cD):a)&&0<a.length?a:null},scrollIntoView:function(a,b,c){a?(a=a.node,a=this.jb(a)):a=-1;-1==a&&(a=this.lb.find("\x3e ul \x3e li:first-child"));if(a&&a.length)return b="top"==b,c&&(this.Ja.focus(),this.hover(a)),a[0].scrollIntoView(b),this},qc:function(){this._super();this.qRa=this.UTa();this.Ep=this.element.attr("id");
void 0===this.Ep&&(this.Ep="oj-tree-"+this.yd(),this.element.attr("id",this.Ep));this.lb=this.element;this.Ja=null;this.p={};this.ata=null;this.sE="rtl"===this.Uc();this.sA=a.T.ke();this.MRa();if(this.U_=this.yMa())this.roa=a.Va.Ho().browser===a.Va.Ak.MY,this.zT=this.mF.bind(this);this.Fz=[];this.Zl()},_destroy:function(){this.oL();this.RIa();this.p.html.ry&&(this.uZa(this.p.html.ry),this.lb.append(this.p.html.ry),this.p.html.XW.remove(),this.p.html.XW=!1,this.p.html.IX=!1);this.p.Tb.type=0;this._super()},
_setOption:function(a,b,c){var d;if("selection"===a)b="string"==typeof b?[b]:b&&b.length?b:[],this.p.Ca.fC=!0,this.OQa(b),this.p.Ca.fC=!1,b=this.n3();else if("selectionMode"===a)"none"===b?d=0:"single"===b?d=1:"multiple"===b?d=-1:(d=0,b="none"),d!=this.p.Ca.rv&&(this.p.Ca.rv=d);else if("icons"===a)"boolean"==g.type(b)&&b!=this.p.Bd.icons&&((this.p.Bd.icons=b)?this.g7():this.u4());else if("contextMenu"===a)this.Mz(),b&&this.Nw(b);else if("disabled"===a)this.tPa(b);else{if("data"===a){this._super(a,
b,c);this.una();this.vna();this.xna();this.Hoa();return}if("dnd"===a){this._super(a,b,c);this.Ar().H2a();return}"emptyText"==a&&(b=this.JD(b))}this._super(a,b,c)},Dl:function(a,b,c){return"selection"===a?this.Mha(b,c):this._superApply(arguments)},Mha:function(a,b){var c,d,e,f,h,k=!1,l=!1;f=a&&a.length?a.length:0;h=b&&b.length?b.length:0;if(f!==h)k=!0;else if(0==f&&0===h)k=!1;else for(c=0;c<f;c++){e=g(a[c]).attr("id");l=!1;for(d=0;d<h;d++)if(e==g(b[d]).attr("id")){l=!0;break}if(!l){k=!0;break}}return!k},
Bg:function(b){this.Hj||(this.Hj=a.Context.getContext(this.element[0]).Rc().Vc({description:b}))},oL:function(){this.Hj&&(this.Hj(),this.Hj=null)},CSa:function(a,b){var c=this.Fz,d=c.length,e,f=-1;for(e=0;e<d;e++)if(c[e].id===b&&c[e].tg===a){f=e;break}return f},lL:function(a,b){var c=this.CSa(a,b);0<=c&&this.Fz.splice(c,1);return c},VT:function(){0===this.Fz.length&&this.oL()},RIa:function(){this.gI&&(this.gI.$Ia(),this.gI=null);var a=this.yd();this.lb.unbind(".oj-tree").undelegate(".oj-tree").removeData("oj-tree-instance-id").find("[class^\x3d'oj-tree']").addBack().attr("class",
function(){return this.className.replace(/oj-tree[^ ]*|$/ig,"")});var b=this.lb.attr("class"),b=b.trim();0===b.length&&this.lb.removeAttr("class");e(this.Ja);g(document).unbind(".oj-tree-"+a).undelegate(".oj-tree-"+a);this.Ja.remove();this.Ja=null},jb:function(a,b){if("undefined"===typeof a||null===a)return b?this.p.ui.selected:this.p.ui.qd;var c=g(a,this.lb);if(c.is(".oj-tree")||-1===a)return-1;c=c.closest("li",this.lb);return c.length?c:!1},bu:function(a,b){a=this.jb(a);if(-1===a)return this.lb.find("\x3e ul \x3e li:last-child");
if(!a.length)return!1;if(b)return 0<a.prevAll("li").length?a.prevAll("li:eq(0)"):!1;if(a.prev("li").length){for(a=a.prev("li").eq(0);a.hasClass(c.ao);)a=a.children("ul:eq(0)").children("li:last");return a}var d=a.parentsUntil(".oj-tree","li:eq(0)");return d.length?d:!1},bA:function(a,b){a=this.jb(a);return-1===a?this.lb.find("\x3e ul \x3e li:first-child"):a.length?b?0<a.nextAll("li").length?a.nextAll("li:eq(0)"):!1:a.hasClass(c.ao)?a.find("li:eq(0)"):0<a.nextAll("li").length?a.nextAll("li:eq(0)"):
a.parentsUntil(".oj-tree","li").next("li").eq(0):!1},Kp:function(a){a=this.jb(a);if(-1==a||!a.length)return!1;a=a.parentsUntil(".oj-tree","li:eq(0)");return a.length?a:-1},KMa:function(a){a=this.jb(a);return-1===a?this.lb.children("ul:eq(0)").children("li"):a.length?a.children("ul:eq(0)").children("li"):!1},Ao:function(a){return(a=this.jb(a))&&-1!==a&&a.hasClass("oj-tree-leaf")},ONa:function(a){a=this.Ja.find(a);var b=!1;a&&a.length&&0<a.length&&g(a).is("li")&&(b=a);return b},qi:function(a){a=this.jb(a);
var b=!1;a&&a.length&&this.p.ui.selected&&(b=0<=this.p.ui.selected.index(a));return b},kVa:function(b,c){var d=b.parents("div").eq(0);(d=a.Components.wd(d))&&c&&d("getCI",c);return this},getCI:function(a){a.Os=this},CHa:function(a,b){void 0!=a&&void 0!=b&&g.each(b,function(b,c){void 0==a[b]&&(a[b]=c)})},tPa:function(a){var b;"undefined"!==typeof a&&((b=this.Ja.hasClass(c.fg))||(b=!1),b!=a&&(a?(this.Ja.addClass(c.fg),this.Ja.prop("disabled",!0)):(this.Ja.removeClass(c.fg),this.Ja.prop("disabled",!1)),
this.qZa(a)))},qZa:function(a){a?(this.p.Ca.locked=!0,this.p.ui.opacity=this.lb.children("ul").css("opacity"),this.Ja.addClass(c.fg).css("opacity","0.9")):(this.p.Ca.locked=!1,this.Ja.removeClass(c.fg).css("opacity",this.p.ui.opacity))},g8a:function(){return this.p.Ca.locked},OQa:function(a){var b=a.slice(0),c=[],d=this,e,f,h,k;g.grep(b,function(a,f){if(e=d.ONa(a))c.push(e),b[f]=e[0];else return!1;return!0});a=this.n3();g.each(a,function(a,b){k=c.length;f=g(b).attr("id");h=!1;for(a=0;a<k;a++)if(f==
c[a].attr("id")){h=!0;break}h||d.Qz(b)});this.kU(c,null)},XK:function(a,b,c,d,e){var f={};b=-1!==b&&b?this.jb(b):-1;this.kVa(a,f);f.Ay=this;f.Xc=f.Os.jb(a);f.ab=b;f.Dq="undefined"===typeof c||!1===c?"last":c;if(!e&&this.p.Ca.ol.Xc&&this.p.Ca.ol.Xc[0]===f.Xc[0]&&this.p.Ca.ol.ab[0]===f.ab[0]&&this.p.Ca.ol.Dq===f.Dq)d&&d.call(this,this.p.Ca.ol);else{if(-1!==f.ab&&f.ab){if(!/^(before|after)$/.test(f.Dq)&&!this.ju(f.ab))return this.lu(f.ab,function(){this.XK(a,b,c,d,!0)});switch(f.Dq){case "before":f.dq=
f.ab.index();f.nB=f.Ay.Kp(f.ab);break;case "after":f.dq=f.ab.index()+1;f.nB=f.Ay.Kp(f.ab);break;case "inside":case "first":f.dq=0;f.nB=f.ab;break;case "last":f.dq=f.ab.find(" \x3e ul \x3e li").length;f.nB=f.ab;break;default:f.dq=f.Dq,f.nB=f.ab}}else switch(f.nB=-1,f.Dq){case "first":case "before":case "inside":f.dq=0;break;case "after":case "last":f.dq=f.Ay.lb.find(" \x3e ul \x3e li").length;break;default:f.dq=f.Dq}f.kv=-1==f.nB?f.Ay.lb:f.nB;f.tg=f.Os.Kp(f.Xc);f.B8a=f.Xc.index();-1===f.tg&&(f.tg=
f.Os?f.Os.lb:this.lb);!/^(before|after)$/.test(f.Dq)&&f.tg&&f.kv&&f.tg[0]===f.kv[0]&&f.Xc.index()<f.dq&&f.dq++;f.$$=f.kv.find(" \x3e ul \x3e li:nth-child("+(f.dq+1)+")");this.p.Ca.ol=f;d&&d.call(this,this.p.Ca.ol,"prepare_move")}},rQ:function(){var a=this.p.Ca.ol,b=!0,c;c=-1===a.ab?this.lb:a.ab;if(!a||!a.Xc||a.$$[0]===a.Xc[0]||!a.ab)return!1;if(!a.nV){if(a.tg&&a.kv&&a.tg[0]===a.kv[0]&&a.dq-1===a.Xc.index())return!1;a.Xc.each(function(){if(-1!==c.parentsUntil(".oj-tree","li").addBack().index(this))return b=
!1})}return b},Fqa:function(a,b){var c;a=this.jb(a);this.yz();c=this.getText(a);if(a&&a.length){var d=this.nd({obj:a,func:"rename",title:b,prevTitle:c},"before");if("boolean"==typeof d&&!d)return}a&&a.length&&this.Y6.apply(this,Array.prototype.slice.call(arguments))&&this.nd({obj:a,title:b,prevTitle:c},"rename")},JK:function(a,b,d,e,f,h){if(!f){a=this.jb(a);var k=this.nd({obj:a,func:"move"},"before");if("boolean"==typeof k&&!k)return!1}if(!(a.hasClass&&a.hasClass(c.fg)||this.p.Ca.locked)){if(!f)return this.XK(a,
b,d,function(a){a.Os===a.Ay||a.nV||a.Os.deselect(a.Xc);this.JK(a,!1,!1,e,!0,h)});e&&(this.p.Ca.ol.nV=!0);if(!h&&!this.rQ())return!1;this.yz();b=!1;e?(b=a.Xc.clone(!0),b.find("*[id]").addBack().each(function(){this.id&&(this.id="copy_"+this.id)})):b=a.Xc;a.$$.length?a.$$.before(b):(a.kv.children("ul").length||g("\x3cul /\x3e").appendTo(a.kv),a.kv.children("ul:eq(0)").append(b));try{a.Os.Jl(a.tg),a.Ay.Jl(a.kv),a.tg.find("\x3e ul \x3e li").length||a.tg.removeClass("oj-expanded oj-collapsed").removeAttr("aria-expanded").addClass("oj-tree-leaf").children("ul").remove()}catch(l){}e&&
(this.p.Ca.ol.nV=!0,this.p.Ca.ol.Z$=b);b=g.extend(!0,{},this.p.Ca.ol);b.obj=a.Xc;this.nd(b,"move");return this.p.Ca.ol}},K7a:function(){return this.p.Wf.ol},C3:function(a){var b=null;this.options.types&&(b=this.jb(a));return b&&b.length?b.attr(this.options.types.attr)||"default":!1},kYa:function(a,b){var c=this.options.types,d,e=!1;a=this.jb(a);c&&a&&-1!=a&&a.length&&b&&(d=c.attr,c=c.types,d&&c&&c[b]&&(a.attr(d,b),a.addClass("oj-tree-type"),e=!0));return e},kha:function(a,b){var c,d,e=!0;if(c=this.options.types)if(c=
c.types)d=this.C3(a),(c[d]&&"undefined"!==typeof c[d][b]||c["default"]&&"undefined"!==typeof c["default"][b])&&!1===this.yIa(b,a)&&(e=!1);return e},yIa:function(a,b){b=this.jb(b);var c=!1,d=this.C3(b),e=this.cA().types,f=!1;if(-1===b)if(e[a])c=e[a];else return;else{if(!1===d)return;(f=this.p.types.Md.useData?b.data("oj-tree"):!1)&&f.types&&"undefined"!==typeof f.types[a]?c=f.types[a]:e.types[d]&&"undefined"!==typeof e.types[d][a]?c=e.types[d][a]:e.types["default"]&&"undefined"!==typeof e.types["default"][a]&&
(c=e.types["default"][a])}g.isFunction(c)&&(c=c.call(this,b));return c},Jl:function(b){var d,e,f,h=this.Ar(),k=a.Ia;h.f$()&&(d=k.LZ,e="draggable",f=!0);h.B3a()&&(d+=" "+k.Tv);b=b&&-1!=b?g(b):this.Ja;b=b.is("li")?b.find("li").addBack():b.find("li");b.removeClass("oj-tree-last").addClass("oj-tree-node").addClass(d).attr(e,f).filter("li:last-child").addClass("oj-tree-last").end().filter(":has(li)").not(".oj-expanded").removeClass("oj-tree-leaf").addClass(c.Ej).attr("aria-expanded","false");b.not(".oj-expanded, .oj-collapsed").addClass("oj-tree-leaf").children("ul").remove();
var l=this.options.types?this.options.types.attr:!1;b.find("li");var m,q;g.each(b,function(){q=g(this);m=q.find("\x3e ins");1<m.length&&(m=g(m[0]));q.hasClass("oj-tree-leaf")?(m.removeClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default"),m.addClass("oj-tree-icon")):(m.addClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default"),m.removeClass("oj-tree-node-icon"));l&&q.attr(l)&&q.addClass("oj-tree-type")})},
XI:function(a,b,d,e,f){a=a||-1;a=this.jb(a);if(-1!==a&&!a.length)return null;var h;b="undefined"===typeof b?"last":b;if(!f&&!this.ju(a))return this.lu(a,function(){this.XI(a,b,d,e,!0)}),null;this.yz();d=this.su(d);if(!d)return null;d=d.children();f=g(d[0]);-1===a&&(a=this.lb,"before"===b&&(b="first"),"after"===b&&(b="last"));switch(b){case "before":a.before(f);h=this.Kp(a);break;case "after":a.after(f);h=this.Kp(a);break;case "inside":case "first":a.children("ul").length||a.append("\x3cul /\x3e");
a.children("ul").prepend(f);h=a;break;case "last":a.children("ul").length||a.append("\x3cul /\x3e");a.children("ul").append(f);h=a;break;default:a.children("ul").length||a.append("\x3cul /\x3e"),b||(b=0),h=a.children("ul").children("li").eq(b),h.length?h.before(f):a.children("ul").append(f),h=a}if(-1===h||h.get(0)===this.lb.get(0))h=-1;this.Jl(h);this.nd({obj:f,parent:h},"create");e&&e.call(this,f);1<this.Ja[0].childNodes.length&&this.Ja.find("."+c.cD).remove();return f},qe:function(a,b,d){a=this.jb(a);
if(!a||!a.length)return!1;d=d||!1;if(!a.hasClass(c.fg)&&!this.p.Ca.locked){if(!a.hasClass(c.Ej))return b&&b.call(),!1;var e=this.nd({obj:a,func:"expand"},"before");if("boolean"!=typeof e||e){var e=d?0:this.U_,f=this;this.ju(a)?(this.options.expandParents&&a.parentsUntil(".oj-tree",".oj-collapsed").each(function(){f.qe(this,!1,!0)}),a.removeClass(c.Ej).addClass(c.ao).attr("aria-expanded","true").children("a").removeClass("oj-tree-loading"),g(a.children()[0]).removeClass(c.qp).addClass("oj-default"),
this.Fz.push({tg:"e",id:a.attr("id")}),this.Bg("Tree (id\x3d'"+this.Ep+"') : node id\x3d'"+a.attr("id")+"' is animating."),!d&&e?this.Xr(a,!1):this.F7(g(a.children("UL")[0]),a),b&&b.call()):(a.children("a").addClass("oj-tree-loading"),this.lu(a,function(){f.qe(a,b,d)},b))}}},R1:function(a,b,c){var d=a?a:-1;(a=a?this.jb(a):-1)&&-1!==a?d=a:a=this.Ja;c?a=a.find("li.oj-collapsed"):(c=a,a=a.is(".oj-collapsed")?a.find("li.oj-collapsed").addBack():a.find("li.oj-collapsed"));var e=this;a.each(function(){var a=
this;e.ju(this)?e.qe(this,!1,!b):e.expand(this,function(){e.R1(a,b,c)},!b)});0===c.find("li.oj-collapsed").length&&this.nd({obj:a,targ:d},"expandAll")},vi:function(b,d,e){var f=this.p.Ca,g=this.p.ui,h=f.rv;if(0==h)return!1;b=this.jb(b);if(-1==b||!b||!b.length||b.hasClass(c.fg)||f.locked)return!1;e&&"touchend"==e.type||(g.gC=!1);var k=this.qi(b);if(!k){var l=this.nd({obj:b,func:"select"},"before");if("boolean"==typeof l&&!l)return!1}var l=this.options.selection.slice(0),m=this.options,q=g.Md.selectMultipleModifier,
n=g.Md.selectRangeModifier,p=g.Md.disableSelectingChildren,q="on"==q||!1!==q&&e&&a.T.Bs(e),n=!1!==n&&e&&e[n+"Key"]&&g.qd&&this.p.ui.qd[0]!==b[0]&&g.qd.parent()[0]===b.parent()[0],s=!0,t=this;if(d){if(p&&q&&(b.parentsUntil(".oj-tree","li").children("a.oj-selected").length||b.children("ul").find("a.oj-selected:eq(0)").length))return!1;s=!1;switch(!0){case n:g.qd.addClass("oj-tree-last-selected");b=b[b.index()<g.qd.index()?"nextUntil":"prevUntil"](".oj-tree-last-selected").addBack();-1==h||b.length<
h?(g.qd.removeClass("oj-tree-last-selected"),g.selected.each(function(){this!==g.qd[0]&&t.Qz(this)}),k=!1,s=!0):s=!1;break;case g.gC&&-1==h:g.gC=!1;this.toggleSelect(b);s=!1;break;case k&&!q:if(!e)break;this.LQ();g.Jaa||(k=!1);s=!0;break;case !k&&!q:e?g.selected&&1==g.selected.length?this.Qz(g.selected):this.LQ(g.selected):1===h?this.Qz(g.selected):1<h&&this.LQ();s=!0;break;case k&&q:this.deselect(b);break;case !k&&q:if(-1==h||g.selected.length+1<=h)s=!0}}d=!1;s&&!k&&(n||(g.qd=b),b.children("a").addClass(c.qp),
b.attr("aria-selected","true"),d=!0,m.selectedParentExpand&&b.parents(".oj-collapsed").each(function(){t.qe(this,!1,!0)}),g.selected=g.selected.add(b),this.Qja(b.eq(0)),f.fC||this.Vz("selection",l,null,e));return d},Qz:function(a){a=this.jb(a);if(!a.length)return!1;a.hasClass(c.fg)||this.p.Ca.locked||!this.qi(a)||(a.children("a").removeClass(c.qp),a.removeAttr("aria-selected"),this.p.ui.selected=this.p.ui.selected.not(a),this.p.ui.qd&&this.p.ui.qd.length&&this.p.ui.qd.get(0)===a.get(0)&&(this.p.ui.qd=
this.p.ui.selected.eq(0)))},LQ:function(a){if(!this.p.Ca.locked&&(a=a?g(a).find("a.oj-selected").parent():this.lb.find("a.oj-selected").parent(),a.not(".oj-disabled"),0!==a.length)){var b=this;g.each(a,function(){b.Qz(this)})}},kU:function(a,b){if(this.p.Ca.locked)return null;if(a&&0<a.length){var c=this;g.each(a,function(a,d){d&&c.vi(d,!0,b)})}},Lma:function(a){a.preventDefault();a.currentTarget.blur();if(!g(a.currentTarget).hasClass("oj-tree-loading")){this.rn();if(!this.p.ui.qs){var b=this.jb(a.currentTarget);
0<b.length&&-1!=b&&(this.p.ui.km=b);this.Ja.focus()}this.vi(a.currentTarget,!0,a)}this.p.ui.gC=!1},Yia:function(a,b){a=g(a);if(!a.hasClass(c.fg)&&!this.p.Ca.locked){var d=a.parent(),e=d.hasClass(c.Ej);if(d.hasClass(c.ao)||e)b?(a.addClass(c.oz),a.removeClass("oj-default"),a.removeClass(c.qp)):(a.removeClass(c.oz),a.addClass("oj-default"))}},mRa:function(a){if(!this.p.menu.hB&&(a=this.jb(a),a.length&&!a.hasClass(c.fg)&&!this.p.Ca.locked&&!a.hasClass(c.oz))){var b=this.nd({obj:a,func:"hover"},"before");
if("boolean"!=typeof b||b)a.hasClass(c.oz)||this.Fia(),this.p.ui.jd=a.children("a").addClass(c.oz).parent(),this.Ja.attr("aria-activedescendant",this.p.ui.jd.attr("id")),this.Qja(a),this.nd({obj:a},"hover")}},Fia:function(){if(!this.p.menu.hB){var a=this.p.ui.jd,b;if(a&&a.length&&!a.hasClass(c.fg)&&!this.p.Ca.locked){b=a.find("a.oj-hover");if(!b.length&&(b=this.Ja.find("a.oj-hover"),!b.length))return;b.removeClass(c.oz).parent();this.Ja.removeAttr("aria-activedescendant");this.p.ui.jd=null;void 0!=
a.attr("id")&&this.nd({obj:a},"dehover")}}},kg:function(a){this.mqa(a)},mqa:function(a){var b=a?a:-1,c=this;this.aXa();this.z6();a||(a=-1);(a=this.jb(a))?b=a:a=-1;-1!==a?a.children("UL").remove():(this.Ja.empty(),this.Mpa());this.lu(a,function(){c.nd({obj:b},"refresh");c.GT();c.EVa()})},f6:function(a){this.z6();this.mqa(a)},after_close:function(a){this.nd({obj:a},"after_close",!0)},CWa:function(){var a=this;this.p.Ca.sl.length&&g.each(this.p.Ca.sl,function(b,c){a.qe(c,!1,!0)});this.nd({},"reopen",
!0)},EVa:function(){var a,b=this.p.ui.km;b&&(a=b.attr("id"))&&(b=this.jb("#"+a));this.p.ui.jd=this.p.ui.km=b},n3:function(a){var b,c,d;a=a?g(a).find("a.oj-selected").parent():this.p.ui.selected;b=[];d=a.length;for(c=0;c<d;c++)b.push(a[c]);return b},Y6:function(a,b){a=this.jb(a);if(!a.length)return!1;a=a.children("a:eq(0)");a=a.find("span:eq(0)");this.nd({obj:a,name:b},"set_text",!0);return a[0].textContent=b},Hoa:function(){0!==this.p.Tb.type&&-1!==this.p.Tb.type?this.lu(-1,function(){this.Joa();
this.GT()}):(this.Z_(),this.Joa())},lu:function(a){this.nd({obj:a},"load_node",!0)},ju:function(){return!0},kTa:function(a,b,c){var d=this;this.nTa(a,function(){d.nd({obj:d.jb(a)},"load_node",!0);b.call(this)},c)},OSa:function(a){a=this.jb(a);return-1===a||!a||a.is(".oj-expanded, .oj-tree-leaf")||0<a.children("ul").children("li").length},wVa:function(a){(a=this.jb(a))&&-1!==a&&a.removeData("oj-tree-children");return this.f6(a)},mTa:function(a,b,c){var d=this;this.jTa(a,function(){d.nd({obj:d.jb(a)},
"load_node",!0);b.call(this)},c)},QSa:function(a){var b=this.options.data;a=this.jb(a);return-1==a||!a||!b.ajax&&!this.p.Tb.haa&&!g.isFunction(b.data)||a.is(".oj-expanded, .oj-tree-leaf")||0<a.children("ul").children("li").length},lTa:function(a,b,c){var d=this;this.iTa(a,function(){d.nd({obj:d.jb(a)},"load_node",!0);b.call(this)},c)},PSa:function(a){var b=this.options.data,c=null,d=null;b&&(c=b.data||null,d=b.ajax||null);a=this.jb(a);return-1==a||!a||!d&&!g.isFunction(c)||a.is(".oj-expanded, .oj-tree-leaf")||
0<a.children("ul").children("li").length},FWa:function(){var a=this,b=this.p.ui.EX;(b=g.map(g.makeArray(b),function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}))&&b.length&&(this.options.selection.length=0,this.p.ui.selected.length=g());g.each(b,function(b,c){c&&"#"!==c&&a.select(c)});this.p.ui.selected=this.p.ui.selected.filter(function(){return this.parentNode})},z6:function(){var a=this.p.ui;
a.EX=[];a.selected.each(function(){this.id&&a.EX.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"))})},rollback:function(a){a&&g.isArray(a)},get_rollback:function(){this.nd(null,"get_rollback",!0);return{U8a:this.yd(),jm:this.lb.children("ul").clone(!0),C8a:this.data}},nTa:function(a,b){var c=this.fea(a&&-1!=a?a[0].id:a?a:-1,a);if(c.success){var d=!a||-1===a,e=this.options.data;if(e.data&&!e.ajax||
e.data&&e.ajax&&d)d&&((c=this.su(c.wW,a))?(this.Ja.empty().append(c.children()),this.Jl()):this.p.Tb.cl&&this.Ja.empty()),b&&b.call(this);else if(!e.data&&e.ajax||e.data&&e.ajax&&!d)(c=this.su(c.wW,a))?(d?(d=this.Ja,d.empty().append(c.children()),d.attr("role","tree").attr("aria-labelledby",this.Ep).attr("tabindex","0").css("outline","none"),-1===this.p.Ca.rv&&d.attr("aria-multiselectable",!0)):(a.append(c).children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading")),
this.Jl(a),b&&b.call(this)):d?this.p.Tb.cl&&(this.Ja.empty(),b&&b.call(this)):(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),e.correct_state&&(this.Nz(a),b&&b.call(this)))}},fea:function(a,b){var c=[],d=this.ata,e,f={},g={success:!1,wW:null};-1==a&&(a=null,f.start=0);e=d.getChildCount(a);0<e?(f.count=e,d.fetchChildren(a,f,{success:function(a){for(var e=a.getCount(),f,h=0;h<e;h++){b={};(f=a.getData(h))&&(b.attr=f);b.title=a.uk[h].title;f.metadata&&
(b.metadata=a.uk[h].metadata);var k=b.attr.id;f=d.getChildCount(k);0<f&&(f=this.fea(k,b),b.children=f.wW);c.push(b)}g.success=!0;g.wW=c}.bind(this),error:function(){g.success=!1}})):g.success=!0;return g},xVa:function(a){a=this.jb(a);if(!this.p.Ca.locked){var b=!a||-1!==a||!a.length;if(b||!a.hasClass(c.fg)){var d=this.options.data.json;!b&&this.p.Tb.CG&&(g.isFunction(d.data)||d.ajax)&&a.removeData("oj-tree-children");return this.f6(a)}}},jTa:function(a,b,c){function d(){}function e(){}var f=this.cA().data,
h=f&&f.data||null,k=f&&f.ajax||null;!f||h||k||(h=f);if((a=this.jb(a))&&-1!==a&&(this.p.Tb.haa||this.p.Tb.CG)&&!a.is(".oj-expanded, .oj-tree-leaf")&&0===a.children("ul").children("li").length&&a.data("oj-tree-children")){if(f=this.su(a.data("oj-tree-children"),a))a.append(f),this.p.Tb.CG||a.removeData("oj-tree-children");this.Jl(a);b&&b.call(this)}else{if(a&&-1!==a){if(a.data("oj-tree-is-loading"))return;a.data("oj-tree-is-loading",!0)}switch(!0){case !h&&!k:throw"ojTree - neither data nor ajax settings supplied.";
case g.isFunction(h):h.call(this,a,function(d){(d=this.su(d,a))?(-1!==a&&a?(a.append(d).children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading")):this.Ja.empty().append(d.children()),this.Jl(a),b&&b.call(this)):(-1!==a&&a?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),this.p.Tb.cl&&this.Nz(a)):this.p.Tb.cl&&this.Ja.empty(),c&&c.call(this))}.bind(this));break;case !!h&&!k||!!h&&!!k&&(!a||-1===a):a&&-1!=a||((f=
this.su(h,a))?(this.Ja.empty().append(f.children()),this.Jl()):this.p.Tb.cl&&this.Ja.empty());b&&b.call(this);break;case !h&&!!k||!!h&&!!k&&a&&-1!==a:e=function(b,d,e){var f=this.oM;f.nT(this.id,!0);f.lL("j",-1===a?-1:a.attr("id"));f.VT();var g=f.cA().data.ajax.error;g&&g.call(f,d,e,b);if(-1!=a&&a.length)a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),"success"===d&&f.p.Tb.cl&&f.Nz(a);else if("error"==d||"success"===d&&f.p.Tb.cl)f.Ja.empty(),f.Z_();
c&&c.call(f)},d=function(c,d,f){var g=this.oM;g.nT(this.id,!1);g.lL("j",this.id);var h=g.cA().data.ajax.success;h&&(c=h.call(g,c,d,f)||c);if("string"==typeof c){d=c.replace(/^[\s\n]+$/,"");try{d=JSON.parse(d)}catch(k){d=null}if(!d)return e.call(this,f,"Bad JSON","")}(c=g.su(c,a))?(-1!==a&&a?(a.append(c).children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading")):(f=g.Ja,f.empty().append(c.children()),f.attr("role","tree").attr("aria-labelledby",g.Ep).attr("tabindex",
"0").css("outline","none"),-1===g.p.Ca.rv&&f.attr("aria-multiselectable",!0)),g.Jl(a),b&&b.call(g)):-1!==a&&a?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),g.p.Tb.cl&&(g.Nz(a),b&&b.call(g))):g.p.Tb.cl&&(g.Ja.empty(),b&&b.call(g))},h=-1===a?-1:a.attr("id"),this.Fz.push({tg:"j",id:h}),this.Bg("Tree (id\x3d'"+this.Ep+"') : node id\x3d'"+h+"' is lazyloading."),h={oM:this,id:h},f.ajax.context=h,f.ajax.error=e,f.ajax.success=d,f.dataType||(f.ajax.dataType=
"json"),h.type=f.ajax.dataType,g.isFunction(f.ajax.url)&&(f.ajax.url=f.ajax.url.call(this,a),h.url=f.ajax.url),g.isFunction(f.ajax.data)&&(f.ajax.data=f.ajax.data.call(this,a)),g.ajax(f.ajax)}}},su:function(a,b,d){var e=!1,f,h,k,l;if(!a)return e;this.p.Tb.CG&&b&&-1!==b&&b.data("oj-tree-children",e);if("string"==typeof a)try{a=JSON.parse(a)}catch(m){a=[]}if(g.isArray(a)){e=g("\x3cul\x3e");if(!a.length)return!1;h=0;for(k=a.length;h<k;h++)f=this.su(a[h],b,!0),f.length&&(e=e.append(f));e=e.children()}else{"string"==
typeof a&&(a={data:a});l="string"==typeof a.title?a.title:" ";e=g("\x3cli role\x3d'treeitem' /\x3e");a.attr&&(this.p.types.DF&&!a.attr.type&&(a.attr.type="oj-tree-deftype",e.addClass("oj-tree-type")),e.attr(a.attr));a.metadata&&e.data(a.metadata);a.children&&0===a.children.length&&e.addClass(c.Ej);a.state&&"s"===a.state&&e.addClass(c.qp);a.data||(a.data={dummy:0});var q=!1,n;f=g("\x3ca/\x3e");g.each(a.data,function(b,c){g.isFunction(c)&&(c=c.call(this,a));"object"===typeof c&&("attr"==b?f.attr(c):
"style"==b&&f.css(c),"language"==b&&f.addClass(c));q||(n=g("\x3cspan class\x3d'oj-tree-title'\x3e"),n[0].textContent=l,f.prepend("\x3cins class\x3d'oj-tree-icon oj-tree-node-icon oj-component-icon'\x3e\x26#160;\x3c/ins\x3e",n),q=!0);!c.icon&&a.icon&&(c.icon=a.icon);c.icon&&(-1===c.icon.indexOf("/")?f.children("ins").addClass(c.icon):f.children("ins").css("background","url('"+c.icon+"') center center no-repeat"))});e.append(f);e.prepend("\x3cins class\x3d'oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default'\x3e\x26#160;\x3c/ins\x3e");
a.children&&(this.p.Tb.haa&&"expanded"!==a.state?e.addClass(c.Ej).attr("aria-expanded","false").data("oj-tree-children",a.children):(this.p.Tb.CG&&e.data("oj-tree-children",a.children),g.isArray(a.children)&&a.children.length&&(f=this.su(a.children,b,!0),f.length&&(b=g("\x3cul role\x3d'group' /\x3e"),b.append(f),e.append(b)))))}d||(d=g("\x3cul /\x3e"),d.append(e),e=d);return e},Jfa:function(a,b,c,d){var e=[],h=this.options,k=this,l,m,q,n,p,s,t,F,G;(a=this.jb(a))&&-1!==a||(a=this.lb.find("\x3e ul \x3e li"));
b=g.isArray(b)?b:["id","class"];!d&&h.types&&b.push(h.types.attr);c=g.isArray(c)?c:[];a.each(function(){n=g(this);l={};G=k.eUa(n);if(b.length||G&&G.length)l.attr={};G&&g.each(G,function(a,b){0<n.attr(b).length&&(l.attr[b]=n.attr(b))});g.each(b,function(a,b){(m=n.attr(b))&&m.length&&m.replace(/oj-tree[^ ]*/ig,"").length&&(m=(" "+m).replace(/ oj-tree[^ ]*/ig,"").replace(/ oj-[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""),m.length&&(l.attr[b]=m))});k.Ar().f$()&&k.qi(n)&&(l.state=
"s");q=n.data();f(q)||(l.metadata=q);p=n.children("a");m=null;p.each(function(){s=g(this);c.length||s.children("ins").get(0).style.backgroundImage.length||s.children("ins").get(0).className&&s.children("ins").get(0).className.replace(/oj-tree[^ ]*|$/ig,"").length?(F=k.getText(s),g.each(c,function(a,b){t=(" "+(s.attr(b)||"")).replace(/ oj-tree[^ ]*/ig,"").replace(/ oj-[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,"");t.length&&(m||(m={attr:{}}),m.attr[b]=t)}),s.children("ins").get(0).className.replace(/oj-tree[^ ]*|$/ig,
"").replace(/^\s+$/ig,"").length&&(t=s.children("ins").get(0).className.replace(/oj-tree[^ ]*|$/ig,"").replace(/ oj-[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""),t.length&&(m||(m={}),m.icon=t)),s.children("ins").get(0).style.backgroundImage.length&&(t=s.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")",""),t.length&&(m||(m={}),m.icon=t))):F=k.getText(s);null!=m&&(l.data||(l.data=[]),1<p.length?l.data.push(m):l.data=m);l.title=F});n=n.find("\x3e ul \x3e li");
n.length&&(l.children=k.Jfa(n,b,c,!0));e.push(l)});return e},eUa:function(a){var b,c,d;if((a=a[0].attributes)&&a.length){c=[];d=m.length;for(var e=0;e<a.length;e++)if(b=a[e]){b=b.name;for(var f=0;f<d&&m[f]!=b&&0!=b.indexOf("aria-");f++);f>=d&&c.push(b)}}return c&&0<c.length?c:null},Nz:function(a){a=this.jb(a);if(!a||-1===a)return!1;a.removeClass("oj-collapsed oj-expanded").removeAttr("aria-expanded").addClass("oj-tree-leaf").children("ul").remove();a.find("ins:first-child").removeClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default").addClass("oj-tree-icon");
this.nd({obj:a},"correct_state",!0)},Joa:function(){this.nd(null,"loaded")},iTa:function(a,b,c){function d(){}function e(){}var f=this.cA().data,h=f&&f.data||null,k=f&&f.ajax||null;if((a=this.jb(a))&&-1!==a){if(a.data("oj-tree-is-loading"))return;a.data("oj-tree-is-loading",!0)}switch(!0){case !h&&!k&&f&&"string"===typeof f:this.Goa(f,a,b,c);break;case g.isFunction(h):h.call(this,a,function(d){this.Goa(d,a,b,c)}.bind(this));break;case !h&&!k:a&&-1!=a||(this.Ja.empty().append(this.p.html.eV).find("li, a").filter(function(){return!this.firstChild||
!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon' \x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-node-icon").addClass("oj-tree-node-icon").addClass("oj-tree-icon"),this.Ja.find("li").children("ins:first-child").addClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default"),this.HS(this.Ja),this.p.types.DF&&this.qI(this.Ja),this.Jl(),this.Ja.find("ul").attr("role",
"group"),this.Ja.find("li").attr("role","treeitem"));b&&b.call(this);break;case !!h&&!k||!!h&&!!k&&(!a||-1===a):a&&-1!=a||(f=g(h),f.is("ul")||(f=g("\x3cul /\x3e").append(f)),this.Ja.empty().append(f.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-node-icon").addClass("oj-tree-node-icon").addClass("oj-tree-icon"),
this.Ja.find("li.oj-tree-leaf ins:first-child").removeClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default").removeClass("oj-tree-node-icon").addClass("oj-tree-icon"),this.HS(this.Ja),this.p.types.DF&&this.qI(this.Ja),this.Jl(),this.Ja.find("ul").attr("role","group"),this.Ja.find("li").attr("role","treeitem"));b&&b.call(this);break;case !h&&!!k||!!h&&!!k&&a&&-1!==a:a=this.jb(a),e=function(b,d,e){var f=this.oM;f.nT(this.id,!0);f.lL("j",-1===a?-1:a.attr("id"));
f.VT();var g=f.cA().data.ajax.error;g&&g.call(f,b,d,e);-1!=a&&a.length?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),"success"===d&&f.p.Tb.cl&&f.Nz(a)):"success"===d&&f.p.Tb.cl&&(f.Ja.empty(),f.Z_());c&&c.call(f)},d=function(c,d,f){var h=this.oM;h.nT(this.id,!1);h.lL("j",-1===a?-1:a.attr("id"));var k=h.cA().data.ajax.success;k&&(c=k.call(h,c,d,f)||c);if(""===c||c&&c.toString&&""===c.toString().replace(/^[\s\n]+$/,""))return e.call(h,f,d,"");c?(c=
g(c),c.is("ul")||(c=g("\x3cul /\x3e").append(c)),-1!=a&&a?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),h.RVa(a),a.append(c).children("ul").find("li, a").filter(function(){return!h.firstChild||!h.firstChild.tagName||"INS"!==h.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-node-icon").addClass("oj-tree-node-icon").addClass("oj-tree-icon"),a.removeData("oj-tree-is-loading"),a.find("li.oj-tree-leaf ins:first-child").removeClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default").removeClass("oj-tree-node-icon").addClass("oj-tree-icon"),
c=a):(h.Ja.empty().append(c.children()).find("li, a").filter(function(){return!h.firstChild||!h.firstChild.tagName||"INS"!==h.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-node-icon").addClass("oj-tree-node-icon").addClass("oj-tree-icon"),h.Ja.find("li.oj-tree-leaf ins:first-child").removeClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default").removeClass("oj-tree-node-icon").addClass("oj-tree-icon"),
c=h.Ja),h.XPa(c),h.HS(c),d=c.children("UL"),1<=d.length&&(d=d.first().find("span.oj-tree-title"),g.each(d,function(){this.textContent=h.JD(this.textContent)})),h.p.types.DF&&c&&h.qI(this.Ja),h.Jl(a),b&&b.call(h)):(a&&-1!==a?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),h.p.Tb.cl&&(h.Nz(a),b&&b.call(h))):h.p.Tb.cl&&(h.Ja.empty(),b&&b.call(h)),h.Ja.find("ul").attr("role","group"),h.Ja.find("li").attr("role","treeitem"))},h=-1===a?-1:a.attr("id"),
this.Fz.push({tg:"j",id:h}),this.Bg("Tree (id\x3d'"+this.Ep+"') : node id\x3d'"+h+"' is lazyloading."),h={oM:this,id:h},f.ajax.context=h,f.ajax.error=e,f.ajax.success=d,f.ajax.dataType||(f.ajax.dataType="html"),h.type=f.ajax.dataType,g.isFunction(f.ajax.url)&&(f.ajax.url=f.ajax.url.call(this,a),h.url=f.ajax.url),g.isFunction(f.ajax.data)&&(f.ajax.data=f.ajax.data.call(this,a)),g.ajax(f.ajax)}},XPa:function(a){a=a.find(a.is("ul")?"li ul":"ul").filter(function(){return!this.firstChild||0==this.childNodes.length||
1==this.childNodes.length&&3==this.firstChild.nodeType});g.each(a,function(){g(this).closest("li").addClass(c.Ej)})},RVa:function(a){a=a.find("ul").filter(function(){return!this.firstChild||0==this.childNodes.length||1==this.childNodes.length&&3==this.firstChild.nodeType});0<a.length&&a.remove()},Goa:function(a,b,c){if(a&&""!==a&&a.toString&&""!==a.toString().replace(/^[\s\n]+$/,"")){a=g(a);a.is("ul")||(a=g("\x3cul /\x3e").append(a));-1!=b&&b?(b.children("a.oj-tree-loading").removeClass("oj-tree-loading"),
b.append(a).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-node-icon").addClass("oj-tree-node-icon").addClass("oj-tree-icon"),b.removeData("oj-tree-is-loading"),a=b,this.qI(this.$W)):(this.Ja.empty().append(a.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||
"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon oj-tree-disclosure-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-node-icon").addClass("oj-tree-node-icon").addClass("oj-tree-icon"),this.Ja.find("li.oj-tree-leaf ins:first-child").removeClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon-nocontext oj-default").removeClass("oj-tree-node-icon").addClass("oj-tree-icon"),a=this.Ja,this.qI(this.Ja));a&&this.HS(a);
a=a.children("UL");if(1<=a.length){a=a.first().find("span.oj-tree-title");var d=this;g.each(a,function(){this.textContent=d.JD(this.textContent)})}this.Jl(b);c&&c.call(this)}else b&&-1!==b?(b.children("a.oj-tree-loading").removeClass("oj-tree-loading"),b.removeData("oj-tree-is-loading"),this.p.Tb.cl&&(this.Nz(b),c&&c.call(this))):this.p.Tb.cl&&(this.Ja.empty(),c&&c.call(this))},HS:function(a){g.each(a.find("li a"),function(a,b){var c=b.innerHTML,c=c.replace("ins\x3e","ins\x3e\x3cspan class\x3d'oj-tree-title'\x3e");
b.innerHTML=c+"\x3c/span\x3e"})},qI:function(a){var b,c;this.p.types.DF&&(c=(b=this.options.types)?b.attr:this.p.types.Md.attr,g.each(a.find("li"),function(a,b){b=g(b);b.attr(c)||b.attr(c,"oj-tree-deftype").addClass("oj-tree-type")}))},aXa:function(){var a=this;this.p.Ca.sl=[];this.Ja.find("li.oj-expanded").each(function(){this.id&&a.p.Ca.sl.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"))})},GT:function(a){var b=
this,c=!0,d=[],e=[],f,h;a||(this.p.Ca.paa=!1,this.p.Ca.M4a=!0);this.DSa()&&(this.p.Ca.sl=[],this.Ja.find("li.oj-collapsed").each(function(){h="#"+g(this).attr("id");b.isExpanded(h)||b.uSa(h)||b.p.Ca.sl.push(h)}));this.p.Ca.sl=g.map(g.makeArray(this.p.Ca.sl),function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});this.p.Ca.Ss=g.map(g.makeArray(this.p.Ca.Ss),function(a){return"#"+a.toString().replace(/^#/,
"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});this.p.Ca.sl.length&&(this.p.Ca.Ss=this.p.Ca.Ss.concat(this.p.Ca.sl),this.p.Ca.Ss=this.p.Ca.Ss.reduce(function(a,b){0>a.indexOf(b)&&a.push(b);return a},[]));this.p.Ca.Ss.length&&(g.each(this.p.Ca.Ss,function(a,c){if("#"==c)return!0;f=b.lb.find(c);f.length?b.isExpanded(c)||d.push(c):e.push(c)}),d.length&&(this.p.Ca.Ss=e,g.each(d,function(a,d){b.ju(d)||(b.lu(d,function(){b.GT(!0)},function(){b.GT(!0)}),
c=!1)})));this.p.Ca.sl.length&&g.each(this.p.Ca.sl,function(a,c){b.isExpanded(c)||b.qe(c,!1,!0)});c&&(this.p.Ca.paa&&clearTimeout(this.p.Ca.paa),this.p.Ca.paa=setTimeout(function(){b.nd({},"reload_nodes",!0);b.VT()},50),this.p.Ca.M4a=!1,this.CWa())},setTheme:function(a,b){if(!a)return!1;b||(b=this.p.Bd.x7+a+"/style.css");-1==g.inArray(b,this.p.Bd.dAa)&&(h({url:b}),this.p.Bd.dAa.push(b));this.p.Bd.NG!=a&&(this.lb.removeClass("oj-tree-"+this.p.Bd.NG),this.p.Bd.NG=a);this.lb.addClass("oj-tree-"+a);this.p.Bd.pM?
this.usa():this.ana();this.p.Bd.icons?this.g7():this.u4()},LSa:function(){return null!=this.p.Bd},S7a:function(){return this.p.Bd.NG},isIcons:function(){return this.p.Bd.icons},g7:function(){this.p.Bd.icons=!0;this.lb.children("ul").removeClass("oj-tree-no-icons")},u4:function(){this.p.Bd.icons=!1;this.lb.children("ul").addClass("oj-tree-no-icons")},toggleIcons:function(){},FLa:function(){this.p.keys.Y0a=!0},MRa:function(){this.eK();this.wRa();this.una(!0);this.ORa();this.Ar().kxa();this.vRa();this.QRa();
this.KRa();this.vna();this.PRa();this.Ar().jxa();this.Nw()},nd:function(a,b,c){if(b&&"string"===g.type(b)&&(!0!==this.p.Ca.locked||"unlock"===b||"isLocked"===b||"lock"===b)){var d,e=Array.prototype.slice.call(arguments);d=this.lb;var f="before"===b,h=c?!1:!0;h||(b="_tree"+b);var k={};k.item=a?a.obj:void 0;k.inst=d;f?(d=a.func,k.func=d,k.args=e,"rename"===d&&(k.title=a.title,k.prevTitle=a.prevTitle)):h&&("move"==b?(k.position=a.Dq,k.reference=a.ab,k.data=a):"rename"==b?(k.title=a.title,k.prevTitle=
a.prevTitle):"remove"==b?(k.parent=a.parent,k.prev=a.prev):"delete"==b?(k.prev=a.prev,k.parent=a.parent):"expandAll"===b||"collapseAll"===b||"deselectAll"===b?k.targ=a.targ:"loaded"===b?k.item=-1:"paste"==b&&(k.position=a.Dq,k.reference=a.ab));if(h){if(e=this._trigger(b,new g.Event("oj"+b),k),f)return"undefined"!=typeof e&&(e=e?!0:!1),e}else this.lb.trigger(b,k)}},Vz:function(a,b,c,d){"selection"===a&&(null==c&&(c=this.n3()),this.Mha(b,c)||this.option(a,c,{_context:{originalEvent:d,mb:!0},changed:!0}))},
yz:function(){return this.get_rollback()},Zl:function(){this.sE&&this.lb.addClass("oj-tree-rtl").css("direction","rtl");this.lb.html("\x3cul role\x3d'tree' tabindex\x3d'0' class\x3d'oj-tree-list' style\x3d'outline:none'"+(-1===this.p.Ca.rv?" aria-multiselectable\x3d'true'":"")+" aria-labelledby\x3d'"+this.Ep+"'\x3e\x3cli class\x3d'oj-tree-last oj-tree-leaf'\x3e\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e\x3ca class\x3d'oj-tree-loading' href\x3d'#'\x3e\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e"+
this.s3("stateLoading")+"\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e");this.Ja=this.lb.children("ul:eq(0)");this.lb.data("oj-tree-instance-id",this.yd());this.p.Ca.Ux=this.Ja.find("li.oj-collapsed, li.oj-tree-leaf").eq(0).height()||18;this.sA&&this.lb.delegate(".oj-tree-list ins.oj-tree-disclosure-icon","touchend.ojtree",function(a){a.preventDefault();a=g(a.target);this.toggleExpand(a)}.bind(this));this.lb.delegate(".oj-tree-list ins.oj-tree-disclosure-icon","click.ojtree",function(a){a=g(a.target);this.toggleExpand(a)}.bind(this)).delegate(".oj-tree-list ins.oj-tree-disclosure-icon",
"mousedown",function(a){this.p.ui.P8=!0;g(a.target).removeClass("oj-default").removeClass(c.oz).addClass(c.qp)}.bind(this)).delegate(".oj-tree-list ins.oj-tree-disclosure-icon","mouseup",function(a){g(a.target).removeClass(c.qp).addClass("oj-default")}.bind(this)).bind("mousedown.ojtree",function(a){this.rn();a.shiftKey&&(this.Ar()&&this.Ar().f$()||a.preventDefault())}.bind(this)).bind("dblclick.ojtree",function(){var a;if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){a=
window.getSelection();try{a.removeAllRanges(),a.collapse(document.getElementsByTagName("body")[0],0)}catch(b){}}});this.Ja.focus(function(){if(this.p.ui.P8)return this.p.ui.P8=!1;this.p.ui.qs=!0;var a;this.p.ui.km?(this.p.ui.jd=this.p.ui.km,a=this.p.ui.jd):this.p.ui.qd&&0<this.p.ui.qd.length?(this.p.ui.jd=this.p.ui.qd,a=this.p.ui.jd):a=this.Ja.find("li:first");a&&(this.hover(a),this.p.ui.km=null,this.Ja.find("a.oj-selected").removeClass("oj-tree-inactive"));return!1}.bind(this)).blur(function(){this.p.ui.qs=
!1;this.p.ui.km=this.p.ui.jd;this.p.ui.km&&this.dehover(this.p.ui.jd);this.Ja.find("a.oj-selected").addClass("oj-tree-inactive")}.bind(this));this.nd({},"init",!0);this.Hoa();this.p.menu.sj&&this.vI();b({Vma:this.uE,vra:this.Ja,tx:this});this.FLa()},vRa:function(){this.p.Ca.locked=!1;this.lb.addClass("oj-tree oj-tree-"+this.yd());this.lb.css("outline","none");this.lb.css("MozUserSelect","none");this.lb.css("WebkitTouchCallout","none");this.lb.css("WebkitUserSelect","none");this.lb.css("-ms-user-select",
"none");this.lb.css("WebkitTapHighlightColor","rgba(0,0,0,0)")},QRa:function(){this.p.ui.selected=g();this.p.ui.qd=!1;this.p.ui.jd=null;var a=this.options.selection;a&&"array"===g.type(a)&&0<a.length&&(this.p.ui.EX=a,this.options.selection=[]);this.sA&&this.lb.delegate(".oj-tree-list a","touchend.ojtree",g.proxy(function(a){this.p.ui.gC=!0;this.Lma(a);g(a.currentTarget).hasClass("oj-tree-loading")||this.dehover()},this));this.lb.delegate(".oj-tree-list a","click.ojtree",function(a){this.p.ui.gC=!1;
this.Lma(a)}.bind(this)).delegate(".oj-tree-list a","mouseenter.ojtree",function(a){g(a.currentTarget).hasClass("oj-tree-loading")||this.hover(a.target)}.bind(this)).delegate(".oj-tree-list a","mouseleave.ojtree",function(a){g(a.currentTarget).hasClass("oj-tree-loading")||this.dehover(a.target)}.bind(this)).delegate(".oj-tree-list .oj-tree-disclosure-icon","mouseenter.ojtree",function(a){g(a.currentTarget).hasClass("oj-tree-loading")||this.Yia(a.target,!0)}.bind(this)).delegate(".oj-tree-list .oj-tree-disclosure-icon",
"mouseleave.ojtree",function(a){g(a.currentTarget).hasClass("oj-tree-loading")||this.Yia(a.target,!1)}.bind(this)).bind("_treereopen",function(){this.FWa()}.bind(this)).bind("_treeget_rollback",function(){this.dehover();this.z6()}.bind(this)).bind("ojcollapse",function(a,b){var c=this.jb(b.item),d=c&&c.length?c.children("ul").find("a.oj-selected"):g(),e=this;!1!==this.options.selectedParentCollapse&&d.length&&d.each(function(){"selectParent"===e.options.selectedParentCollapse?(e.deselect(this),e.select(c)):
"deselect"===e.options.selectedParentCollapse&&e.deselect(this)})}.bind(this)).bind("ojremove",function(a,b){var c=this.options.selectPrevOnDelete,d=this.jb(b.item),d=d&&d.length?d.find("a.oj-selected"):[],e=this,f;d.each(function(){e.deselect(this);e.p.ui.km&&(f=e.jb(this))&&e.p.ui.km.attr("id")==f.attr("id")&&(e.p.ui.km=null)});c&&d.length&&b.prev&&b.prev.each(function(){if(this.parentNode)return e.select(this),!1})}.bind(this)).bind("ojmove",function(a,b){var d=b.data,e=d.nV;e&&d.Z$&&(d.Z$.find("a.oj-selected").removeClass(c.qp),
d.Z$.removeAttr("aria-selected"));d.Os===d.Ay||e||(e=d.Os.p.ui,e.km&&(d.Xc.attr("id")==e.km.attr("id")&&(e.km=null),e.qd&&d.Xc.attr("id")==e.qd.attr("id")&&(e.qd=null)))}.bind(this))},vna:function(){this.NRa();this.DRa();this.CRa()},NRa:function(){1===this.p.Tb.type&&(this.ata=this.options.data||null,this.lu=this.kTa,this.ju=this.OSa,this.kg=this.wVa)},DRa:function(){3===this.p.Tb.type&&(this.p.Tb.CG&&this.lb.bind("_treeafter_close",function(a,b){b.item.children("ul").remove()}),this.lu=this.mTa,
this.ju=this.QSa,this.kg=this.xVa)},CRa:function(){4===this.p.Tb.type&&(this.Mpa(),this.lu=this.lTa,this.ju=this.PSa,this.kg=this.f6)},Mpa:function(){this.p.html.IX&&!this.p.html.ry&&(this.p.html.ry=this.lb.find(" \x3e ul"),this.p.html.lya=this.p.html.ry.find(" \x3e li"),this.p.html.eV=this.p.html.lya.clone(!0),this.p.html.eV.find("li").addBack().contents().filter(function(){return 3==this.nodeType}).remove(),this.pZa(this.p.html.ry),this.p.html.XW=g("\x3cdiv id\x3d'oj-tree-existing-markup-"+this.yd()+
"' style\x3d'display:none'\x3e").append(this.p.html.ry),this.lb.after(this.p.html.XW))},pZa:function(a){a=g(a).find("li");var b=this.yd();a.each(function(a,c){c.setAttribute("id",b+"_"+c.getAttribute("id"))})},uZa:function(a){var b,c;a=g(a).find("li");this.yd();a.each(function(a,d){b=d.getAttribute("id");c=b.indexOf("_");b=b.substr(c+1);d.setAttribute("id",b)})},KRa:function(){!1===this.p.Bd.x7&&(this.p.Bd.x7="themes/");this.lb.bind("_treeinit",g.proxy(function(){var a=this.options;this.p.Bd.pM=a.dots;
this.p.Bd.icons=a.icons;this.setTheme(this.p.Bd.NG,this.p.Bd.url)},this)).bind("ojloaded",g.proxy(function(){this.p.Bd.pM?this.usa():this.ana();this.p.Bd.icons?this.g7():this.u4()},this))},PRa:function(){var a=this.options.types;a&&this.lb.bind("_treeinit",g.proxy(function(){var b=g.extend(!0,{},a.types),c=a.attr||this.p.types.Md.attr,d="",e=this;g.each(b,function(a,b){g.each(b,function(a){/^(maxDepth|maxChildren|icon|validChildren)$/.test(a)||e.p.types.aua.push(a)});var f=typeof b.icon;if("undefined"===
f){f=typeof b.image;if("boolean"===f&&!b.image)b.image="ojt$none";else if(!b.image&&!b.position)return!0;b.icon={};b.image&&(b.icon.image=b.image,delete b.image);void 0!==b.position&&(b.icon.position=b.position,delete b.position)}if(b.icon.image||b.icon.position)"default"==a?(e.p.types.DF=!0,d+=".oj-tree-"+e.yd()+" .oj-tree-list li.oj-tree-type a \x3e .oj-tree-node-icon { ",d+=e.aga(b,d),d+="} ",d+=".oj-tree-"+e.yd()+" .oj-tree-list li["+c+'\x3d"oj-tree-deftype"].oj-tree-type \x3e a ins.oj-tree-node-icon { '):
b.icon.image&&(d+=".oj-tree-"+e.yd()+" .oj-tree-list li["+c+'\x3d"'+a+'"].oj-tree-type \x3e a \x3e ins.oj-tree-node-icon { '),d+=e.aga(b,d),d+="} "});""!==d&&h({AX:d,title:"oj-tree-types"})},this)).bind("ojbefore",function(a,b){var c=b.func,d=b.item,e=this.p.types.Md.useData?this.jb(d):!1;if((e=e&&-1!==e&&e.length?e.data("oj-tree"):!1)&&e.types&&!1===e[c]||-1!==g.inArray(c,this.p.types.aua)&&b.item&&(b.item.tagName||b.item.jquery)&&!this.kha(d,c))return a.stopImmediatePropagation(),!1}.bind(this))},
aga:function(a){var b="",b="ojt$none"!==a.icon.image?b+(" background-image:url("+a.icon.image+"); "):b+" background-image:none; ";return b=a.icon.position?b+(" background-position:"+a.icon.position+"; "):b+" background-position:0 0; "},Ar:function(){this.gI||(this.gI=new a.Ia(this));return this.gI},Y7a:function(){},Nw:function(a){var b;a||this.options.contextMenu||(b=this.lb.attr("contextmenu"))&&(this.options.contextMenu="#"+b);if(b=a||this.options.contextMenu){if(b=g(b)){b.css("display","none");
var c=this.p.menu;c.If=b;c.sj=!0}this.p.menu.sj&&a&&this.vI()}},Qj:function(a,b){if(!b.inst&&this.p.menu.o6a==this.Ep){var c=b?b.item.attr("id"):void 0;"ojtreecopy"===c?this.vKa(this.p.menu.Kn):"ojtreecut"===c?this.xKa(this.p.menu.Kn):"ojtreepaste"===c||"ojtreepastebefore"===c||"ojtreepasteafter"===c?this.yKa(this.p.menu.Kn,c):"ojtreeremove"===c?this.qi(this.p.menu.Kn)?this.qia():this.qia(this.p.menu.Kn):"ojtreerename"===c?this.ria(this.p.menu.Kn):"ojtreecreate"===c&&this.wKa(this.p.menu.Kn)}},Xi:function(a,
b,d){var e="keyboard"===d;if("contextmenu"==b.type||e||"touch"==d)if(this.p.menu.Kn=e?this.p.ui.jd||this.p.menu.hB:g(b.target),this.p.menu.hB=null,this.p.menu.Kn){if(!e&&(a=g(b.originalEvent.target),a.is("LI")||a.hasClass("oj-tree")||a.is("UL")))return;e||this.p.menu.Kn.closest("li");this.p.menu.o6a=this.p.menu.Kn.closest("div").attr("id");a={launcher:this.Ja};e&&(e=this.p.menu.Kn.find(".oj-tree-title")[0],a.position={of:e});if(this.p.menu.sj&&(this.p.menu.JX||this.p.menu.xm||this.p.menu.Nn)){var e=
!this.p.Wf.Lu&&!this.p.Wf.mB,f,h=[this.p.menu.JX,this.p.menu.xm,this.p.menu.Nn],k,l,m=!1;for(l=0;l<h.length;l++)if(k=h[l])f=!!k.hasClass(c.fg),f!=e&&(e?k.addClass(c.fg):k.removeClass(c.fg),m=!0);m&&this.p.menu.If.ojMenu("refresh")}this.$i(b,d,a)}else b.preventDefault()},wRa:function(){var a=this.options.selectionMode,a=void 0==a?"single":a;"none"===a?a=0:"single"===a?a=1:"multiple"===a&&(a=-1);this.p.Ca.rv=a;this.p.Bd.icons=this.options.icons;this.xna();this.p.Ca.Ss=this.options.initLoaded},a8a:function(){},
una:function(b){var c=this.options.data,d;this.p.Tb.type=0;this.p.html.IX=!1;this.p.html.eV=!1;this.gT={};if(c)if(d=g.type(c),"string"===d)this.qSa(c)?this.p.Tb.type=4:this.p.Tb.type=3;else if("array"===d)this.p.Tb.type=3;else if("object"===d){try{c instanceof a.oe&&(this.p.Tb.type=1)}catch(e){this.p.Tb.type=-1}if(1!==this.p.Tb.type)try{c instanceof a.Kb&&(this.p.Tb.type=2)}catch(f){this.p.Tb.type=-1}1!==this.p.Tb.type&&2!==this.p.Tb.type&&(c.data||c.ajax)&&((d=c.dataType)?"json"===d?this.p.Tb.type=
3:"html"===d&&(this.p.Tb.type=4):(c.dataType="json",this.p.Tb.type=3))}b&&0==this.p.Tb.type&&0<this.lb.find("ul").length&&(this.p.Tb.type=4,this.p.html.IX=!0)},$7a:function(){},X7a:function(){},W7a:function(){},Z7a:function(){},ORa:function(){var a=this.options.types;"object"===typeof a&&this.CHa(a,{attr:this.p.types.Md.attr})},xna:function(){this.p.Ca.sl=this.$Za(this.options,"initExpanded");null==this.p.Ca.sl&&(this.p.Ca.sl=[])},eK:function(){var a=this.p;a.Ca={p3a:[],rv:1,X8a:!1,Ux:0,sl:!1,Ss:!1,
ol:{},fC:!1,$5a:{}};a.ui={selected:g(),qd:!1,jd:null,km:null,P8:!1,EX:null,opacity:1,Jaa:!1,qs:!1,Uta:null,gC:!1};a.ui.Md={selectMultipleModifier:"ctrl",selectRangeModifier:"shift",disableSelectingChildren:!1};a.Wf={};a.Wf.mB=!1;a.Wf.Lu=!1;a.Wf.Md={inputWidthLimit:200,move:{alwaysCopy:!1,openOnMove:!0,defaultPosition:"last",checkMove:function(){return!0}}};a.Wf.ol={};a.Tb={};a.Tb.haa=!1;a.Tb.CG=!1;a.Tb.cl=!0;a.Tb.type=0;a.R3a={};a.R3a.Md={data:!1,ajax:!1};a.html={};a.html.Md={data:!1,ajax:!1};a.html.IX=
!1;a.html.ry=!1;a.html.XW=!1;a.html.lya=!1;a.html.eV=!1;a.Bd={};a.Bd.icons=!0;a.Bd.pM=!1;a.Bd.NG="default";a.Bd.url=!1;a.Bd.dAa=[];a.Bd.x7=!1;a.types={};a.types.aua=[];a.types.DF=!1;a.types.Md={maxChildren:-1,maxDepth:-1,validChildren:"all",useData:!1,attr:"type",types:{"default":{maxChildren:-1,maxDepth:-1,validChildren:"all"}}};a.menu={};a.menu.sj=!1;a.menu.If=!1;a.menu.JX=!1;a.menu.Nn=!1;a.menu.xm=!1;a.menu.Kn=!1;a.menu.hB=!1;a.keys={};a.keys.Y0a=!0;a.keys.bound=[]},Qja:function(a){var b=this.lb[0];
b.scrollHeight>b.offsetHeight&&(a=this.jb(a))&&-1!==a&&a.length&&a.is(":visible")&&(a=a.offset().top-this.lb.offset().top,0>a&&(b.scrollTop=b.scrollTop+a-1),a+this.p.Ca.Ux+(b.scrollWidth>b.offsetWidth?p:0)>b.offsetHeight&&(b.scrollTop+=a-b.offsetHeight+this.p.Ca.Ux+1+(b.scrollWidth>b.offsetWidth?p:0)))},rn:function(){},t8a:function(){},UTa:function(){return++q},yd:function(){return this.qRa},cA:function(){return g.extend(!0,{},this.options)},E7a:function(){return this.lb},F7a:function(){return this.Ja},
uE:{up:function(){this.hover(this.bu(this.p.ui.jd||this.p.ui.qd||-1));return!1},"ctrl+up":function(){this.hover(this.bu(this.p.ui.jd||this.p.ui.qd||-1));return!1},"shift+up":function(){this.select(this.bu(this.p.ui.jd||this.p.ui.qd||-1),-1!==this.p.ui.rv);return!1},down:function(){this.hover(this.bA(this.p.ui.jd||this.p.ui.qd||-1));return!1},"ctrl+down":function(){this.hover(this.bA(this.p.ui.jd||this.p.ui.qd||-1));return!1},"shift+down":function(){this.select(this.bA(this.p.ui.jd||this.p.ui.qd||
-1),-1!==this.p.ui.rv);return!1},left:function(){var a=this.p.ui.jd||this.p.ui.qd;a&&(a.hasClass(c.ao)?this.collapse(a):this.hover(this.bu(a)));return!1},"ctrl+left":function(){var a=this.p.ui.jd||this.p.ui.qd;a&&(a.hasClass(c.ao)?this.collapse(a):this.hover(this.bu(a)));return!1},"shift+left":function(){var a=this.p.ui.jd||this.p.ui.qd;a&&(a.hasClass(c.ao)?this.collapse(a):this.hover(this.bu(a)));return!1},right:function(){var a=this.p.ui.jd||this.p.ui.qd;a&&a.length&&(a.hasClass(c.Ej)?this.expand(a):
this.hover(this.bA(a)));return!1},"ctrl+right":function(){var a=this.p.ui.jd||this.p.ui.qd;a&&a.length&&(a.hasClass(c.Ej)?this.expand(a):this.hover(this.bA(a)));return!1},"shift+right":function(){var a=this.p.ui.jd||this.p.ui.qd;a&&a.length&&(a.hasClass(c.Ej)?this.expand(a):this.hover(this.bA(a)));return!1},space:function(){this.p.ui.jd&&(this.p.ui.Jaa=!0,this.p.ui.jd.children("a:eq(0)").click(),this.p.ui.Jaa=!1);return!1},home:function(){this.hover(this.Ja.find("li:first"));return!1},end:function(){var a=
this.Ja.find("li.oj-tree-last:visible");a&&a.length&&this.hover(a[a.length-1]);return!1},"*":function(){this.Ja.find("a");this.R1(-1,!1);return!1},"ctrl+space":function(){if(this.p.ui.jd){var a=g.Event("click");a.ctrlKey=!0;this.p.ui.jd.children("a:eq(0)").trigger(a)}return!1},"shift+space":function(){if(this.p.ui.jd){var a=g.Event("click");a.shiftKey=!0;this.p.ui.jd.children("a:eq(0)").trigger(a)}return!1},"shift+home":function(a){var b,c=this.p.ui.jd;if(c){var d=!0,e=this,f=this.Ja.find("li:visible");
this.p.Ca.fC=!0;b=this.options.selection.slice(0);c=c[0];g.each(f,function(a,b){b==c&&(d=!1);e.vi(b,!0);return d});this.p.Ca.fC=!1;this.Vz("selection",b,null,a)}return!1},"shift+pgdn":function(a){var b,c=this.p.ui.qd||this.p.ui.jd;if(c){var d=!1,e=this,f=this.Ja.find("li:visible");this.p.Ca.fC=!0;b=this.options.selection.slice(0);c=c[0];g.each(f,function(a,b){d||(d=b==c);d&&!e.qi(b)&&e.vi(b,!0);return!0});this.p.Ca.fC=!1;this.Vz("selection",b,null,a)}return!1},f2:function(){this.ria(this.p.ui.jd||
this.p.ui.qd);return!1},del:function(){this.remove(this.p.ui.jd||this.jb(null));return!1}},vI:function(){if(this.p.menu.sj){var a=this.p.menu.If,b=this;a.on("ojselect",this.Qj.bind(this));var c=!1;a.find("[data-oj-command]").each(function(){var a;0===g(this).children("a").length&&(a=g(this).attr("data-oj-command").split("oj-tree-"),g(this).replaceWith(b.Hl(a[a.length-1])),g(this).hasClass("oj-menu-divider")&&g(this).removeClass("oj-menu-divider").addClass("oj-menu-item"),c=!0)});c&&a.ojMenu("refresh");
this.p.menu.JX=a.find("#ojtreepaste");this.p.menu.Nn=a.find("#ojtreepasteafter");this.p.menu.xm=a.find("#ojtreepastebefore")}},Mz:function(){var a=this.p.menu;a.sj&&(a.sj=!1,a.If.off("ojselect"),a.If=null)},Hl:function(a){return g(this.Eh(a))},Eh:function(a){return"\x3cli id\x3d"+k[a]+"\x3e"+this.Ez(a)+"\x3c/li\x3e"},Ez:function(a){return'\x3ca href\x3d"#"\x3e'+this.s3(l[a])+"\x3c/a\x3e"},uSa:function(a){a=-1===a?"-1":a;a="#"===a.charAt(0)?a.substr(1):a;return!!this.gT[a]},nT:function(a,b){a=-1===
a?"-1":a;b?this.gT[a]=!0:this.gT.hasOwnProperty(a)&&delete this.gT[a]},xKa:function(a){a=a.closest("li");this.qi(a)&&(a=null);a=this.jb(a,!0);if(!a||!a.length)return!1;this.p.Wf.mB=!1;this.p.Wf.Lu=a;this.nd({obj:a},"cut")},vKa:function(a){a=a.closest("li");this.qi(a)&&(a=null);a=this.jb(a,!0);if(!a||!a.length)return!1;this.p.Wf.Lu=!1;this.p.Wf.mB=a;this.nd({obj:a},"copy")},yKa:function(a,b){a=this.jb(a);if(!a||!a.length)return!1;var c=this.p.Wf.Lu?this.p.Wf.Lu:this.p.Wf.mB;if(!this.p.Wf.Lu&&!this.p.Wf.mB)return!1;
var d="inside";"ojtreepasteafter"===b?d="after":"ojtreepastebefore"===b&&(d="before");this.p.Wf.Lu&&(this.pia(this.p.Wf.Lu,a,d,!1,!1,!0),this.p.Wf.Lu=!1);this.p.Wf.mB&&this.pia(this.p.Wf.mB,a,d,!0,!1,!0);this.nd({obj:c,Dq:d,ab:a},"paste")},pia:function(a,b,c,d,e,f){var g=this.p.Wf.Md.move;if(!e)return"undefined"===typeof c&&(c=g.defaultPosition),"inside"!==c||g.defaultPosition.match(/^(before|after)$/)||(c=g.defaultPosition),this.JK(a,b,c,d,!1,f);if(!0===g.alwaysCopy||"multitree"===g.alwaysCopy&&
a.Ay.yd()!==a.Os.yd())d=!0;this.JK(a,b,c,d,!0,f)},qia:function(a){a=this.jb(a,!0);this.yz();this.remove(a)},ria:function(a){a=this.jb(a);this.yz();this.sia(a,function(){})},sia:function(a,b){a=this.jb(a);var c=this.sE,d=this.p.Wf.Md.inputWidthLimit,e=a.children("ins").width(),f=a.find("\x3e a:visible \x3e ins").width()*a.find("\x3e a:visible \x3e ins").length,h=this.getText(a),k=g("\x3cdiv /\x3e",{css:{position:"absolute",top:"-200px",left:c?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),
l=a.css("position","relative").append(g("\x3cinput /\x3e",{value:h,"class":"oj-tree-rename-input",css:{padding:"0",border:"1px solid silver",position:"absolute",left:c?"auto":e+f+4+"px",right:c?e+f+4+"px":"auto",top:"0px",height:this.p.Ca.Ux-2+"px",lineHeight:this.p.Ca.Ux-2+"px",width:"150px"},blur:g.proxy(function(){var c=a.children(".oj-tree-rename-input"),d=c.val(),d=this.JD(d);""===d&&(d=h);k.remove();c.remove();this.Y6(a,h);d!=h&&this.Fqa(a,d);b.call(this,a,d,h);a.css("position","")},this),keyup:function(a){a=
a.keyCode||a.which;27==a?(this.value=h,this.blur()):13==a?this.blur():l.width(Math.min(k.text("pW"+this.value).width(),d))},keypress:function(a){if(13==(a.keyCode||a.which))return!1}})).children(".oj-tree-rename-input");this.Y6(a,"");k.css({fontFamily:l.css("fontFamily")||"",fontSize:l.css("fontSize")||"",fontWeight:l.css("fontWeight")||"",fontStyle:l.css("fontStyle")||"",fontStretch:l.css("fontStretch")||"",fontVariant:l.css("fontVariant")||"",letterSpacing:l.css("letterSpacing")||"",wordSpacing:l.css("wordSpacing")||
""});l.width(Math.min(k.text("pW"+l[0].value).width(),d))[0].select()},wKa:function(a,b,d,e,f){var h=this;(a=this.jb(a))||(a=-1);this.yz();return this.XI(a,b,d,function(a){var b=this.Kp(a),d=g(a).index();e&&e.call(this,a);b.length&&b.hasClass(c.Ej)&&this.expand(b,!1,!0);f?h.nd({obj:a,name:this.getText(a),parent:b,position:d}):this.sia(a,function(a,c){h.nd({obj:a,name:c,parent:b,position:d})})})},qSa:function(a){var b=!1;a&&3<=a.length&&(a=a.trim(),b="\x3c"===a.charAt(0));return b},Z_:function(){var a=
this.options.emptyText;"string"!==typeof a&&(a=this.s3("labelNoData"));if(a&&0<a.length){var b=this.Ja,c=g("\x3cli class\x3d'oj-tree-empty'\x3e\x3c/li\x3e");c[0].textContent=a;b.empty().append(c)}},YUa:function(a){var b,c,d;d=null;var e;a&&(b=a.subId);if(!b)return null;d=b.split("[");if(3===d.length&&(d[0]=d[0].trim(),"oj-tree-node"===d[0]&&(d[1]=d[1].trim(),b=d[1].charAt(0),b=d[1].indexOf(b,1),0<=b&&(a=d[1].substring(1,b).trim(),d[2]=d[2].trim(),b=d[2].charAt(0),b=d[2].indexOf(b,1),0<=b)))){d=d[2].substring(1,
b).trim();try{c=this.jb(a)}catch(f){c=null}if(d&&c&&-1!==c)switch(d){case "icon":this.p.Bd.icons&&(e=c.find(" \x3e a \x3e ins:eq(0)"));break;case "link":e=c.find(" \x3e a:eq(0)");break;case "disclosure":this.Ao(c)||(e=c.find(" \x3e ins:eq(0)"));break;case "title":e=c.find(" \x3e a \x3e span")}}return e?e.length?e[0]:null:null},wOa:function(a){var b=a?this.jb(a):null,c,d,e=null;c=null;b&&-1!=b&&b.length&&b.hasClass("oj-tree-node")&&a.tagName&&a.parentNode&&(c=a.tagName,d=a.parentNode,d=d.tagName,"SPAN"===
c?e="title":"A"===c?e="link":"INS"===c&&(a=g(a),"LI"===d&&a.hasClass("oj-tree-disclosure-icon")?e="disclosure":"A"===d&&a.hasClass("oj-tree-node-icon")&&(e="icon")));return e?(c="oj-tree-node['#"+b.attr("id")+"']['"+e+"']",{subId:c}):null},ana:function(){this.p.Bd.pM=!1;this.lb.children("ul").addClass("oj-tree-no-dots")},usa:function(){this.p.Bd.pM=!0;this.lb.children("ul").removeClass("oj-tree-no-dots")},DSa:function(){var a=this.options.initExpanded;return a&&"all"==a||g.isArray(a)&&a.length&&"all"==
a[0]},s3:function(a){var b=this.p.Ca.$5a,c;c=b[a];c||(c=this.R(a),c=this.JD(c),b[a]=c);return c},JD:function(a){var b=document.createElement("div");g(b).text(a);return b.textContent},M7a:function(){return this.p.Ca.Ux},yMa:function(){var a=0,b,c;window.getComputedStyle&&(c=this.p.ui.Uta,c||(c=g("\x3cdiv id\x3d'ojtree-comp-animduration'\x3e\x3cspan class\x3d'oj-tree-transition'\x3edummy\x3c/span\x3e\x3c/div\x3e"),this.p.ui.Uta=c,g("body").append(c)),b=c[0].childNodes[0],b=window.getComputedStyle(b),
b=b.transitionDuration?b.transitionDuration:b["-webkit-transition-duration"]?b["-webkit-transition-duration"]:0,c.detach(),"string"==typeof b&&1<b.length&&(c=b.charAt(b.length-1).toLowerCase(),"s"==c?(b=b.substring(0,b.length-1),b=parseFloat(b),isNaN(b)||(a=1E3*b)):2<b.length&&(c=b.substring(b.length-2).toLowerCase(),"ms"==c&&(b=parseFloat(b),isNaN(b)||(a=b)))));return a},$Za:function(a,b){var c={};c[b]=a[b];return g.extend(!0,{},c)[b]},oZa:function(){}})})()});